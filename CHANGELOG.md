# 更新日志

本文档记录了项目的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中
- 支持更多 VCS 系统（Git, Mercurial）
- 添加配置文件支持
- 支持插件系统
- 提供 Web 界面
- 添加更多测试用例

## [1.4.0] - 2024-12-19

### 新增
- 🎆 **科技感进度条系统** - 全新的现代化进度显示界面
  - 多种主题色彩：cyber、matrix、neon、plasma、fire、ice
  - 渐变色文字和动态动画效果
  - 实时进度百分比和ETA显示
- 🚀 **智能多阶段进度** - SVN提交过程分解为5个阶段
  - 系统状态扫描
  - 文件索引构建
  - 提交数据准备
  - 数据传输执行
  - 完整性验证
- ✨ **增强的视觉效果** - 炫酷的启动和完成动画
- 📊 **详细的状态反馈** - 每个操作都有明确的进度和状态提示

### 改进
- 🔧 **SVN操作优化** - 所有SVN操作都升级为科技感界面
- 🎨 **用户体验提升** - 更加直观和专业的操作界面
- 🔍 **错误处理增强** - 更好的错误显示和自动修复机制

### 技术更新
- 添加新依赖：`cli-progress`、`ora`、`chalk`、`gradient-string`、`figures`
- 新增现代化进度条模块 `lib/modern-progress.js`
- 新增进度条测试脚本 `test-modern-progress.js`

## [1.2.6] - 2024-08-01

### 改进
- 📦 **包优化** - 移除USAGE-PROGRAMMATIC.md文件，优化npm包内容
  - 减少包体积，提升安装速度
  - 清理不必要的文档文件
  - 保持核心功能完整性

## [1.2.4] - 2024-08-01

### 改进
- 🔧 **环境优化** - 更新默认目标目录为开发环境路径
  - 优化开发和部署流程
  - 提供更合适的默认配置

## [1.2.3] - 2024-08-01

### 新增
- 🔗 **GitHub仓库集成** - 项目代码已上传到GitHub
  - 仓库地址: https://github.com/QINGYUAI/build-deploy-tools.git
  - 完整的项目历史和版本管理
  - 问题跟踪和协作支持

### 改进
- 📦 **npm包元数据** - 更新包含正确的GitHub仓库链接
  - 用户可以直接从npm包页面访问源代码
  - 完善的仓库、问题和主页链接
  - 更好的开源项目体验

## [1.2.2] - 2024-08-01

### 文档改进
- 📚 **完善项目文档** - 在所有核心文档中添加脚本执行控制说明
  - `INSTALL.md` - 添加重要的脚本控制配置说明和示例
  - `QUICKSTART.zh-cn.md` - 添加重要提醒和推荐配置
  - `example.config.js` - 添加完整的脚本检测函数和集成示例
- 🎯 **统一文档体验** - 确保用户在任何文档中都能了解新的脚本控制特性
- 🔧 **实用配置示例** - 提供 Vue.js(Webpack) 和 Vite 的完整集成配置
- 📖 **最佳实践指南** - 详细说明推荐的 package.json scripts 配置

### 改进
- 🛡️ **用户体验优化** - 确保用户能够正确配置脚本执行控制
- 📝 **文档一致性** - 所有文档都包含相同的重要安全提醒

## [1.2.1] - 2024-08-01

### 新增
- 🎯 **脚本执行控制** - 插件只在包含 `build-copy` 或 `deploy` 的npm脚本中执行
  - 智能检测 `npm_lifecycle_event` 环境变量
  - 防止在 `dev`、`serve`、`build` 等开发命令中意外触发部署
  - 支持自定义检测规则和环境变量控制
- 🔍 **调试功能增强** - 添加详细的脚本检测日志
  - 显示当前执行的npm脚本名称
  - 显示检测条件和执行决策过程
  - 支持调试模式输出更多信息

### 改进
- 📖 **文档完善** - 更新所有构建工具集成示例
  - 所有配置都添加了脚本检测逻辑
  - 新增执行场景演示表格
  - 提供自定义检测规则示例
  - 添加调试技巧和最佳实践

### 修复
- 🛡️ **避免意外执行** - 解决在非部署脚本中意外触发插件的问题

## [1.2.0] - 2024-08-01

### 新增
- 🔧 **构建工具集成支持** - 添加完整的构建工具集成方案
  - Webpack集成（vue.config.js）- 使用done钩子确保打包完成后执行
  - Vite集成 - 使用closeBundle钩子
  - Rollup集成 - 使用writeBundle钩子
  - npm scripts后置钩子 - 使用postbuild自动执行
  - 自定义Node.js脚本方案
- 📚 **集成示例文档** - 新增 `integration-examples.md` 详细集成指南
  - Vue CLI + Webpack 完整配置示例
  - Vite项目配置模板
  - Rollup项目集成方案
  - 多环境部署配置
  - CI/CD集成示例
  - 错误处理最佳实践
- 🛡️ **增强错误处理** - 构建失败时自动跳过部署操作
- 🌍 **多环境支持** - 提供开发、测试、生产环境的不同配置方案

### 改进
- 📖 **README.md优化** - 添加详细的构建工具集成章节
- 🔧 **配置灵活性** - 支持更多自定义配置选项

## [1.1.0] - 2024-08-01

### 新增
- 📚 添加完整的项目文档到npm包
  - `README.md` - 项目主要说明文档
  - `INSTALL.md` - 详细安装配置指南
  - `QUICKSTART.zh-cn.md` - 中文快速开始指南
  - `CHANGELOG.md` - 版本更新日志
  - `LICENSE` - MIT许可证文件
  - `example.config.js` - 完整配置示例
- 📦 优化npm包文件结构，用户安装后即可查看完整文档

## [1.0.1] - 2024-08-01

### 修复
- 🐛 修复源目录路径计算错误：从 `node_modules/build-deploy-tools/vam3` 修正为项目根目录 `./vam3`
- 🐛 修复全局安装时路径解析问题，现在使用 `process.cwd()` 而不是 `__dirname`

## [1.0.0] - 2024-08-01

### 新增
- ✨ 完整的构建部署工具包
- 🔄 智能重试机制，支持网络异常自动恢复
- 📢 跨平台系统通知支持（Windows、macOS、Linux）
- 🤖 自动化模式，支持 CI/CD 环境
- 📁 文件操作功能（复制、删除、目录管理）
- 🔗 完整的 SVN 集成（更新、提交、删除）
- 📊 进度条和状态提示
- 🛠️ 命令行工具 `build-copy` 和 `test-notification`
- 📝 详细的操作日志和错误提示
- 🌍 跨平台兼容性支持

### 命令行工具
- `build-copy` - 构建文件复制和部署工具
- `test-notification` - 通知功能测试工具

### API 模块
- `BuildDeployTools` - 主工具类
- `notification` - 通知模块
- `fileOperations` - 文件操作模块
- `svnOperations` - SVN 操作模块
- `utils` - 通用工具函数

### 配置选项
- 支持命令行参数配置
- 支持环境变量配置
- 支持 npm 配置传递
- 自动检测 CI 环境

### 文档
- 📖 完整的 README.md 文档
- 🔧 详细的 API 文档
- 💡 使用示例和最佳实践
- 🛠️ 故障排除指南

---

## 版本说明

### 版本格式
遵循语义化版本 `主版本号.次版本号.修订号`：

- **主版本号**: 不兼容的 API 修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 变更类型
- `新增` - 新功能
- `变更` - 对现有功能的变更
- `弃用` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - 问题修复
- `安全` - 安全相关修复

---

## 贡献者

感谢所有为本项目做出贡献的开发者！

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。