"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[2036],{52036:function(e,i,a){a.r(i),a.d(i,{default:function(){return B}});a(44114),a(18111),a(20116);var l=a(20641),t=a(90033),o=a(50953),n=a(5255),s=a(18463),d=a(41713),c=a(27439),u=a(44726),r=a(7697),p=a(71029),v=a(40834);const g={class:"invoiceconfig"},m={class:"invoiceconfig_body"},b={class:"meetinginfo"},f={class:"spant"},k={class:"spant"},y={class:"spant"},_={class:"spant"},h={class:"spant"},w={class:"spant"},V={class:"add_payconfig"},S={class:"table_div"},L={class:"invoiceconfig_foot"},C={class:"invoiceconfig_foot_title"},F={class:"table_div"},x={key:0},E={key:1},R={key:0},$={key:1},D={class:"invoiceconfig_foot"},I={class:"invoiceconfig_foot_title"},W={class:"table_div"},A={key:0},H={key:1},U={key:0},X={key:1};var T={__name:"invoiceAllocation",setup(e,{expose:i}){const a=(0,p.lq)(),T=(0,p.rd)(),{proxy:z}=(0,l.nI)(),Q=(0,v.Pj)(),B=(0,o.KR)(null),q=(0,o.Kh)({tableData:[],tableDatacn:[],tableDataen:[],value:!0,dialogVisibleSiteAdd:!1,dialogVisibleSiteAdden:!1,dialogVisiblesedit:!1,dialogSiteEditen:!1,dialogVisible:!1,dialogSiteEdit:!1,getinfo_list:"",SiteEditList:"",SiteEditListen:"",register:"",hotel:"",paper:"",registerTeam:"",loading:!0,meetinginfo:""}),{tableData:N,tableDatacn:K,tableDataen:G,value:j,dialogVisibleSiteAdd:P,dialogVisibleSiteAdden:J,dialogVisiblesedit:M,dialogSiteEditen:O,dialogVisible:Y,dialogSiteEdit:Z,getinfo_list:ee,SiteEditList:ie,SiteEditListen:ae,register:le,hotel:te,paper:oe,registerTeam:ne,loading:se,meetinginfo:de}=(0,o.QW)(q);function ce(){he()}function ue(){T.push({path:"/Invoice",query:{}})}function re(){B.value.resetData()}function pe(){console.log(B.value),B.value&&(B.value.invoicetype_val="",B.value.identity="",B.value.saletaxnum="",B.value.enterpriseName="",B.value.saleaccount="",B.value.salephone="",B.value.saleaddress="",B.value.clerk="",B.value.payee="",B.value.checker="",B.value.tsfs="",B.value.dkbz="",B.value.hsbz="",B.value.taxrate="",B.value.spbm="",B.value.fphxz="",B.value.verifyAccountTime="",B.value.montyTop="",B.value.lead_name="",B.value.lead_phone="",B.value.lead_email="",B.value.EnterpriseCode=""),q.dialogVisible=!0}function ve(e,i){q.getinfo_list=i,q.dialogVisiblesedit=!0}function ge(e,i){z.$confirm("确认删除该发票通道吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={meetingId:a.query.meeting,type_vue:1,id:i.configId};z.$Loadimg.showLoading(),z.$http.article.GetDel_Invoiceconfig(e).then(e=>{z.$Loadimg.hideLoading(),1===e.data.status?z.$message({showClose:!0,message:"成功！",type:"success"}):z.$message({showClose:!0,message:"失败！",type:"error"}),he()})}).catch(()=>{})}function me(){console.log(q.tableData),q.dialogVisibleSiteAdd=!0}function be(){console.log(q.tableData),q.dialogVisibleSiteAdden=!0}function fe(e,i){console.log(e,i),q.SiteEditList=i,q.dialogSiteEdit=!0}function ke(e,i){console.log(e,i),q.SiteEditListen=i,q.dialogSiteEditen=!0}function ye(e,i){z.$confirm("确认删除该发票通道吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={type_vue:1,meetingId:a.query.meeting,invoiceConfigId:i.configId,site:"cn"};z.$Loadimg.showLoading(),z.$http.article.GetDel_StieInvoiceconfig(e).then(e=>{z.$Loadimg.hideLoading(),1===e.data.status?z.$message({showClose:!0,message:"成功！",type:"success"}):z.$message({showClose:!0,message:"失败！",type:"error"}),he()})})}function _e(e,i){z.$confirm("确认删除该发票通道吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={type_vue:1,meetingId:a.query.meeting,invoiceConfigId:i.configId,site:"en"};z.$Loadimg.showLoading(),z.$http.article.GetDel_StieInvoiceconfig(e).then(e=>{z.$Loadimg.hideLoading(),1===e.data.status?z.$message({showClose:!0,message:"成功！",type:"success"}):z.$message({showClose:!0,message:"失败！",type:"error"}),he()})}).catch(()=>{z.$message({showClose:!0,message:"取消成功！",type:"success"})})}function he(e="1"){q.dialogVisibleSiteAdden=!1,q.dialogSiteEdit=!1,q.dialogSiteEditen=!1,q.page=e,q.loading=!0;const i={type_vue:1,meetingId:a.query.meeting};q.dialogVisible=!1,q.dialogVisiblesedit=!1,q.dialogSiteEdit=!1,q.dialogVisibleSiteAdd=!1,z.$Loadimg.showLoading(),z.$http.article.GetInfo_Invoiceconfig(i).then(e=>{z.$Loadimg.hideLoading(),1===e.data.status&&(q.tableData=e.data.list,q.tableDatacn=e.data.site.cn,q.tableDataen=e.data.site.en,q.meetinginfo=e.data.meetingInfo),q.loading=!1})}function we(e){z.$Loadimg.showLoading();const i=e;i.type_vue=1,z.$Loadimg.showLoading(),z.$http.article.invoiceconfig_invoiceconfigSiteedit(i).then(e=>{z.$Loadimg.hideLoading(),1===e.data.status?z.$message({showClose:!0,message:"修改成功！",type:"success"}):(z.$message({showClose:!0,message:"修改失败！",type:"error"}),he()),z.$Loadimg.hideLoading()})}return ce(),i({tableData:N,tableDatacn:K,tableDataen:G,value:j,dialogVisibleSiteAdd:P,dialogVisibleSiteAdden:J,dialogVisiblesedit:M,dialogSiteEditen:O,dialogVisible:Y,dialogSiteEdit:Z,getinfo_list:ee,SiteEditList:ie,SiteEditListen:ae,register:le,hotel:te,paper:oe,registerTeam:ne,loading:se,meetinginfo:de,returnBack:ue,resuseset:re,add:pe,handleEdit_payment:ve,handleDelete_payment:ge,dialogVisible_siteadd:me,dialogVisible_siteadden:be,handleEdit_invoice:fe,handleEdit_invoiceen:ke,handleDelete_invoice:ye,handleDelete_invoiceen:_e,changethis:we,invoiceconfigpayment:n.A,invoiceconfigpaymentedit:s.A,invoiceconfiginvoice:d.A,invoiceconfiginvoiceedit:c.A,invoiceconfiginvoiceen:u.A,invoiceconfiginvoiceediten:r.A}),(e,i)=>{const a=(0,l.g2)("el-button"),p=(0,l.g2)("el-table-column"),v=(0,l.g2)("el-table"),T=(0,l.g2)("el-switch"),z=(0,l.g2)("el-dialog"),q=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("div",m,[(0,l.Lk)("div",b,[i[14]||(i[14]=(0,l.Lk)("p",{style:{margin:"0",display:"flex","font-size":"14px","font-weight":"600"}},[(0,l.Lk)("span",{class:"lantiao"}),(0,l.eW)("会议信息 ")],-1)),(0,l.Lk)("span",f,[i[8]||(i[8]=(0,l.Lk)("span",null,"大会id  ",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).id),1)]),(0,l.Lk)("span",k,[i[9]||(i[9]=(0,l.Lk)("span",null,"大会名称（中文）",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).subject),1)]),(0,l.Lk)("span",y,[i[10]||(i[10]=(0,l.Lk)("span",null,"大会地点（中文）",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).address),1)]),(0,l.Lk)("span",_,[i[11]||(i[11]=(0,l.Lk)("span",null,"大会时间  ",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).startDate)+"-"+(0,t.v_)((0,o.R1)(de).endDate),1)]),(0,l.Lk)("span",h,[i[12]||(i[12]=(0,l.Lk)("span",null,"大会名称（英文）",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).subjectEn),1)]),(0,l.Lk)("span",w,[i[13]||(i[13]=(0,l.Lk)("span",null,"大会地点（英文）",-1)),(0,l.eW)((0,t.v_)((0,o.R1)(de).addressEn),1)])]),(0,l.Lk)("div",V,[(0,l.bF)(a,{size:"small",type:"primary",onClick:pe},{default:(0,l.k6)(()=>[...i[15]||(i[15]=[(0,l.eW)("新增发票通道",-1)])]),_:1}),(0,l.bF)(a,{size:"small",style:{float:"right"},onClick:ue},{default:(0,l.k6)(()=>[...i[16]||(i[16]=[(0,l.eW)("返回",-1)])]),_:1})]),(0,l.Lk)("div",S,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{data:(0,o.R1)(N),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(p,{prop:"configId",label:"ID"}),(0,l.bF)(p,{prop:"enterpriseName",label:"销货单位名称"}),(0,l.bF)(p,{prop:"saletaxnum",label:"售方税号"}),(0,l.bF)(p,{prop:"saleaccount",label:"银行账号"}),(0,l.bF)(p,{prop:"leadName",label:"联系人"}),(0,l.bF)(p,{prop:"type",label:"发票渠道"},{default:(0,l.k6)(e=>[e.row.type?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,t.v_)((0,o.R1)(Q).state.invoiceService.find(i=>i.value==e.row.type)?.label),1)],64)):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(p,{prop:"remark",label:"发票备注"}),(0,l.bF)(p,{label:"操作"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>ve(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[17]||(i[17]=[(0,l.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>ge(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[18]||(i[18]=[(0,l.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,(0,o.R1)(se)]])])]),(0,l.Lk)("div",L,[(0,l.Lk)("div",C,[i[20]||(i[20]=(0,l.Lk)("span",null,"人民币发票通道",-1)),(0,l.bF)(a,{size:"small",type:"primary",onClick:i[0]||(i[0]=e=>me())},{default:(0,l.k6)(()=>[...i[19]||(i[19]=[(0,l.eW)("配置发票通道",-1)])]),_:1})]),(0,l.Lk)("div",F,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{data:(0,o.R1)(K),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(p,{prop:"configId",label:"ID"}),(0,l.bF)(p,{prop:"enterpriseName",label:"销货单位名称"}),(0,l.bF)(p,{prop:"saletaxnum",label:"售方税号"}),(0,l.bF)(p,{prop:"name",label:"发票服务商"},{default:(0,l.k6)(e=>[e.row.type?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,t.v_)((0,o.R1)(Q).state.invoiceService.find(i=>i.value==e.row.type)?.label),1)],64)):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(p,{prop:"register",label:"个人注册会议"},{default:(0,l.k6)(e=>[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.register,"onUpdate:modelValue":i=>e.row.invoiceHasSite.register=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)(p,{prop:"registerTeam",label:"团队注册会议"},{default:(0,l.k6)(e=>[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.registerTeam,"onUpdate:modelValue":i=>e.row.invoiceHasSite.registerTeam=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)(p,{prop:"hotel",label:"酒店预订"},{default:(0,l.k6)(e=>["yspay"!==e.row.type?((0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.hotel,"onUpdate:modelValue":i=>e.row.invoiceHasSite.hotel=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])])):((0,l.uX)(),(0,l.CE)("div",E,"暂不支持"))]),_:1}),(0,l.bF)(p,{prop:"paper",label:"投稿码缴费"},{default:(0,l.k6)(e=>["yspay"!==e.row.type?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.paper,"onUpdate:modelValue":i=>e.row.invoiceHasSite.paper=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])])):((0,l.uX)(),(0,l.CE)("div",$,"暂不支持"))]),_:1}),(0,l.bF)(p,{prop:"name",label:"备注"},{default:(0,l.k6)(e=>[(0,l.eW)((0,t.v_)(e.row.invoiceHasSite.remark),1)]),_:1}),(0,l.bF)(p,{label:"操作",width:"150px"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>fe(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[21]||(i[21]=[(0,l.eW)("修改",-1)])]),_:1},8,["onClick"]),(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>ye(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[22]||(i[22]=[(0,l.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,(0,o.R1)(se)]])])]),(0,l.Lk)("div",D,[(0,l.Lk)("div",I,[i[24]||(i[24]=(0,l.Lk)("span",null,"美金发票通道",-1)),(0,l.bF)(a,{size:"small",type:"primary",onClick:i[1]||(i[1]=e=>be())},{default:(0,l.k6)(()=>[...i[23]||(i[23]=[(0,l.eW)("配置发票通道",-1)])]),_:1})]),(0,l.Lk)("div",W,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(v,{data:(0,o.R1)(G),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(p,{prop:"configId",label:"ID"}),(0,l.bF)(p,{prop:"enterpriseName",label:"销货单位名称"}),(0,l.bF)(p,{prop:"saletaxnum",label:"售方税号"}),(0,l.bF)(p,{prop:"name",label:"发票服务商"},{default:(0,l.k6)(e=>[e.row.type?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,t.v_)((0,o.R1)(Q).state.invoiceService.find(i=>i.value==e.row.type)?.label),1)],64)):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(p,{prop:"register",label:"个人注册会议"},{default:(0,l.k6)(e=>[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.register,"onUpdate:modelValue":i=>e.row.invoiceHasSite.register=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)(p,{prop:"registerTeam",label:"团队注册会议"},{default:(0,l.k6)(e=>[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.registerTeam,"onUpdate:modelValue":i=>e.row.invoiceHasSite.registerTeam=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)(p,{prop:"hotel",label:"酒店预订"},{default:(0,l.k6)(e=>["yspay"!==e.row.type?((0,l.uX)(),(0,l.CE)("div",A,[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.hotel,"onUpdate:modelValue":i=>e.row.invoiceHasSite.hotel=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])])):((0,l.uX)(),(0,l.CE)("div",H,"暂不支持"))]),_:1}),(0,l.bF)(p,{prop:"paper",label:"投稿码缴费"},{default:(0,l.k6)(e=>["yspay"!==e.row.type?((0,l.uX)(),(0,l.CE)("div",U,[(0,l.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.row.invoiceHasSite.paper,"onUpdate:modelValue":i=>e.row.invoiceHasSite.paper=i,"active-value":1,"inactive-value":0,onClick:i=>we(e.row.invoiceHasSite)},null,8,["modelValue","onUpdate:modelValue","onClick"])])):((0,l.uX)(),(0,l.CE)("div",X,"暂不支持"))]),_:1}),(0,l.bF)(p,{prop:"name",label:"备注"},{default:(0,l.k6)(e=>[(0,l.eW)((0,t.v_)(e.row.invoiceHasSite.remark),1)]),_:1}),(0,l.bF)(p,{label:"操作",width:"150px"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>ke(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[25]||(i[25]=[(0,l.eW)("修改",-1)])]),_:1},8,["onClick"]),(0,l.bF)(a,{size:"small",type:"primary",onClick:i=>_e(e.$index,e.row)},{default:(0,l.k6)(()=>[...i[26]||(i[26]=[(0,l.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,(0,o.R1)(se)]])])]),(0,l.bF)(z,{"before-close":he,title:"电子发票通道新增",modelValue:(0,o.R1)(Y),"onUpdate:modelValue":i[2]||(i[2]=e=>(0,o.i9)(Y)?Y.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,o.R1)(Y)?((0,l.uX)(),(0,l.Wv)(n.A,{key:0,ref_key:"invoiceConfigPaymentRef",ref:B,onRushreset:re,onInvoiceconfigpaymentname:he},null,512)):(0,l.Q3)("",!0)]),_:1},8,["modelValue"]),(0,l.bF)(z,{title:"电子发票通道编辑","before-close":he,modelValue:(0,o.R1)(M),"onUpdate:modelValue":i[3]||(i[3]=e=>(0,o.i9)(M)?M.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,o.R1)(M)?((0,l.uX)(),(0,l.Wv)(s.A,{key:0,getinfo_list:(0,o.R1)(ee),onInvoiceconfigpaymentname:he},null,8,["getinfo_list"])):(0,l.Q3)("",!0)]),_:1},8,["modelValue"]),(0,l.bF)(z,{title:"电子发票通道","before-close":he,modelValue:(0,o.R1)(P),"onUpdate:modelValue":i[4]||(i[4]=e=>(0,o.i9)(P)?P.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,l.bF)(d.A,{tableData:(0,o.R1)(N),onInvoiceconfigpaymentname:he,onDialogVisibleSiteAdd:(0,o.R1)(P)},null,8,["tableData","onDialogVisibleSiteAdd"])]),_:1},8,["modelValue"]),(0,l.bF)(z,{title:"电子发票通道编辑","before-close":he,modelValue:(0,o.R1)(Z),"onUpdate:modelValue":i[5]||(i[5]=e=>(0,o.i9)(Z)?Z.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,o.R1)(Z)?((0,l.uX)(),(0,l.Wv)(c.A,{key:0,SiteEditList:(0,o.R1)(ie),onInvoiceconfigpaymentname:he},null,8,["SiteEditList"])):(0,l.Q3)("",!0)]),_:1},8,["modelValue"]),(0,l.bF)(z,{title:"电子发票通道",modelValue:(0,o.R1)(J),"onUpdate:modelValue":i[6]||(i[6]=e=>(0,o.i9)(J)?J.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,l.bF)(u.A,{tableData:(0,o.R1)(N),onInvoiceconfigpaymentname:he,onDialogVisibleSiteAdden:(0,o.R1)(J)},null,8,["tableData","onDialogVisibleSiteAdden"])]),_:1},8,["modelValue"]),(0,l.bF)(z,{title:"电子发票通道编辑","before-close":he,modelValue:(0,o.R1)(O),"onUpdate:modelValue":i[7]||(i[7]=e=>(0,o.i9)(O)?O.value=e:null),"close-on-click-modal":!1,width:"700px"},{default:(0,l.k6)(()=>[(0,o.R1)(O)?((0,l.uX)(),(0,l.Wv)(r.A,{key:0,SiteEditList:(0,o.R1)(ae),onInvoiceconfigpaymentname:he},null,8,["SiteEditList"])):(0,l.Q3)("",!0)]),_:1},8,["modelValue"])])}}},z=a(66262);const Q=(0,z.A)(T,[["__scopeId","data-v-4ed94aee"]]);var B=Q}}]);