"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[8318],{88318:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var n=a(20641),l=a(50953),i=a(71029);const r={class:"dlowntable"},o={key:0,style:{color:"green"}},d={key:1,style:{color:"gray"}},c={key:2,style:{color:"red"}},s={key:0},u={class:"pagination"};var g={__name:"dlowncenter",setup(e,{expose:t}){const a=(0,i.lq)(),{proxy:g}=(0,n.nI)(),p=(0,l.Kh)({tableData:[],dictTotal:0,dictCurrentPage:1,dictPageSize:10}),{tableData:b,dictTotal:k,dictCurrentPage:C,dictPageSize:y}=(0,l.QW)(p);function f(){const e={page:p.dictCurrentPage,per_page:p.dictPageSize,meeting_id:a.query.meeting,type_vue:1,startTime:"",endtime:""};g.$Loadimg.showLoading(),g.$http.article.getdlownList(e).then(e=>{g.$Loadimg.hideLoading(),p.tableData=e.data.list,p.dictTotal=e.data.total,p.dictCurrentPage=e.data.page,p.dictPageSize=e.data.per_page,g.$message.success(e.data.msg)})}function h(e){p.dictPageSize=e,f()}function m(e){p.dictCurrentPage=e,f()}function w(e){if(e){const t=document.createElement("a");t.href=window.location.origin+"/"+e,t.click()}}return(0,n.sV)(()=>{f()}),t({tableData:b,dictTotal:k,dictCurrentPage:C,dictPageSize:y,handleSizeChange:h,handleCurrentChange:m,dlown:w}),(e,t)=>{const a=(0,n.g2)("el-table-column"),i=(0,n.g2)("el-button"),g=(0,n.g2)("el-table"),p=(0,n.g2)("el-pagination"),f=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(f,{class:"box-card"},{default:(0,n.k6)(()=>[t[1]||(t[1]=(0,n.Lk)("div",null,[(0,n.Lk)("p",{style:{color:"red",padding:"10px 10px"}},"注: 下载任务保留时长为7天")],-1)),(0,n.bF)(g,{data:(0,l.R1)(b),stripe:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(a,{prop:"id",label:"ID"}),(0,n.bF)(a,{prop:"add_data",label:"任务时间"}),(0,n.bF)(a,{prop:"type_name",label:"模块"}),(0,n.bF)(a,{prop:"status",label:"状态"},{default:(0,n.k6)(e=>[2==e.row.status?((0,n.uX)(),(0,n.CE)("span",o,"打包成功")):(0,n.Q3)("",!0),1==e.row.status?((0,n.uX)(),(0,n.CE)("span",d,"打包中")):(0,n.Q3)("",!0),3==e.row.status?((0,n.uX)(),(0,n.CE)("span",c,"打包失败")):(0,n.Q3)("",!0)]),_:1}),(0,n.bF)(a,{prop:"date",label:"操作"},{default:(0,n.k6)(e=>[1==e.row.status||3==e.row.status?((0,n.uX)(),(0,n.CE)("span",s,"------------")):((0,n.uX)(),(0,n.Wv)(i,{key:1,onClick:t=>w(e.row.url),type:"primary"},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)("下载",-1)])]),_:1},8,["onClick"]))]),_:1})]),_:1},8,["data"]),(0,n.Lk)("div",u,[(0,n.bF)(p,{layout:"sizes,prev, pager, next, total","current-page":(0,l.R1)(C),total:(0,l.R1)(k),background:"","page-size":(0,l.R1)(y),onSizeChange:h,onCurrentChange:m},null,8,["current-page","total","page-size"])])]),_:1})])}}},p=a(66262);const b=(0,p.A)(g,[["__scopeId","data-v-4c1ad22f"]]);var k=b}}]);