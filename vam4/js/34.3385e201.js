"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[34],{60034:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});l(44114),l(18111),l(7588);var t=l(20641),s=l(50953),i=l(90033),n=l(71029),u=l(40834),o=()=>{const e="/data/public/upload/",a={image:["jpg","gif","png","jpeg"],word:["doc","docx","xls","xlsx"],text:["txt","xml","html","htm"],video:["avi","rmvb","wav","mp3"],pdf:["pdf"],ppt:["ppt"],epay_key:["pfx"]};function l(l){const t=l.split(".").pop().toLowerCase();let s="";for(const[e,i]of Object.entries(a))if(i.includes(t)){s=e;break}return`${e}${s}/${l}`}return{url:e,GetUrl:l}};const r={class:"back_text back_padding print"},m={class:"back_center_bg back_padding",style:{height:"calc(100vh - 160px)"}},c={style:{position:"absolute",right:"30px","z-index":"999"}},d={class:"Details"},p={key:0,class:"Details_fprm"},b={key:0},f={class:"shenpijgou"},k={class:"shenpijgou"},v={class:"shenpi",style:{"padding-left":"20px"}};var g={__name:"AttendingDetails",setup(e){const{GetUrl:a}=o(),l=(0,n.lq)(),g=(0,n.rd)(),{proxy:_}=((0,u.Pj)(),(0,t.nI)()),y=(0,s.Kh)({id:l.query.id,kan:!l.query.kan,radio:"",textarea1:"",checked1:!1,list:"",form:{},imgStart:"localhost"===location.hostname?"http://php7.yiyum.com":window.origin,dateTime:{},image_echo:{}}),{id:h,kan:W,radio:R,textarea1:X,checked1:x,list:L,form:F,imgStart:Q,dateTime:w,image_echo:C}=(0,s.QW)(y);function q(e){console.log(e,y.form);const l=document.createElement("a");l.href=`${y.imgStart}${a(e.url)}`,l.target="_blank",l.click()}function E(e){return console.log(e),!(e.size/1024/1024>5)||(_.$message.error("图片不能大于5MB!"),!1)}function $(){if(!y.radio)return void _.$message.error("请选择审核结果");console.log(123);const e={meetingId:l.query.meeting,type_vue:1,id:l.query.id,status:y.radio,remark:y.textarea1};_.$Loadimg.showLoading(),_.$http.article.auditParticipant(e).then(e=>{_.$Loadimg.hideLoading(),200==e.data.status&&(console.log(e.data,"attendingReview"),g.push({path:"/attendingReview",query:{meeting:l.query.meeting}}))})}function I(){const e={meetingId:l.query.meeting,type_vue:1,id:l.query.id};_.$Loadimg.showLoading(),_.$http.article.getParticipantInfoDetail(e).then(e=>{if(_.$Loadimg.hideLoading(),200==e.data.status)if(y.list=e.data.data,e.data.data.register.basic.forEach(e=>{"is_element"==e.name&&"daterange"==e.input&&e.status?(y.form[e.custom]="",y.dateTime[e.custom]=[]):"is_element"==e.name&&"datetime"==e.input&&e.status?y.form[e.custom]="":"is_element"==e.name&&"image"==e.input&&e.status?(y.form[e.custom]="",y.image_echo[e.custom+"-"+e.input]=[]):"is_element"==e.name&&"file"==e.input&&e.status&&(y.form[e.custom]=[],y.image_echo[e.custom+"-"+e.input]=[])}),e.data.data.custominfo){y.form={...e.data.data.info};const l=e.data.data.custominfo;for(var a in l){const[e,t]=[l[a],l[a].formContent.content];y.form[a]=t,"file"===e.type?y.image_echo[a+"-"+e.type].push({url:t,name:t}):"image"==e.type?y.image_echo[a+"-"+e.type]=[{url:t,name:t}]:"datetime"==e.type?y.form[a]=t:"daterange"==e.type&&(y.dateTime[a]=t?[t.split(";")[0],t.split(";")[1]]:[]),y.form[a]=t}}else y.form=e.data.data.info})}return(0,t.sV)(()=>{console.log(l),console.log(y.id,y.kan),I()}),(e,a)=>{const n=(0,t.g2)("el-button"),u=(0,t.g2)("el-form-item"),o=(0,t.g2)("el-upload"),_=(0,t.g2)("el-image"),y=(0,t.g2)("el-form"),h=(0,t.g2)("el-col"),x=(0,t.g2)("el-radio"),I=(0,t.g2)("el-radio-group"),K=(0,t.g2)("el-input"),j=(0,t.g2)("el-row");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",m,[(0,t.Lk)("div",c,[(0,t.bF)(n,{type:"primary",size:"small",plain:"",onClick:a[0]||(a[0]=e=>(0,s.R1)(g).push({path:"/attendingReview",query:{meeting:(0,s.R1)(l).query.meeting}}))},{default:(0,t.k6)(()=>[...a[4]||(a[4]=[(0,t.eW)("返回上一页",-1)])]),_:1})]),(0,t.bF)(j,null,{default:(0,t.k6)(()=>[(0,t.bF)(h,{span:11,class:"rowlng"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",d,[a[5]||(a[5]=(0,t.Lk)("div",{class:"Details_title"},[(0,t.Lk)("p",{class:"lantiao"}),(0,t.eW)(" 参会人员信息 ")],-1)),(0,s.R1)(L)?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(y,{"label-position":"top"},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,s.R1)(L).register.basic,(a,l)=>((0,t.uX)(),(0,t.CE)(t.FK,{key:l},["fullName"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:0,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).fullName),1)]),_:1},8,["label"])),"member"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:1,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).member),1)]),_:1},8,["label"])),"email"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:2,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).email),1)]),_:1},8,["label"])),"sex"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:3,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)(1==(0,s.R1)(F).sex?"男":"女"),1)]),_:1},8,["label"])),"national"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:4,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).national),1)]),_:1},8,["label"])),"province"!=a.name||"en"!=(0,s.R1)(F).resource||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:5,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).province),1)]),_:1},8,["label"])),"province"!=a.name||"cn"!=(0,s.R1)(F).resource||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)(t.FK,{key:6},[(0,t.bF)(u,{label:"省份"},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).province),1)]),_:1}),(0,t.bF)(u,{label:"市区"},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).city),1)]),_:1})],64)),"units"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:7,label:a.label,prop:a.required?"units":""},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).units),1)]),_:1},8,["label","prop"])),"departments"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:8,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).departments),1)]),_:1},8,["label"])),"jobs"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:9,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).jobs),1)]),_:1},8,["label"])),"title"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:10,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).title),1)]),_:1},8,["label"])),"card"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:11,label:a.label,prop:a.required?"card":""},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).card),1)]),_:1},8,["label","prop"])),"cardId"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:12,label:a.label,prop:a.required?"cardId":""},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).cardId),1)]),_:1},8,["label","prop"])),"education"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:13,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).education),1)]),_:1},8,["label"])),"phone"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:14,label:a.label},{default:(0,t.k6)(()=>[(0,t.eW)((0,i.v_)((0,s.R1)(F).phone),1)]),_:1},8,["label"])),"is_element"!=a.name||!a.status&&!a.supplement||a.rclass&&!a.isrclass||"申请退款"==a.label||"开户行全称"==a.label||"开户银行所在城市"==a.label||"开户银行所在省份"==a.label||"开户银行账号"==a.label?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(u,{key:15,label:a.label},{default:(0,t.k6)(()=>["input"==a.input?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.eW)((0,i.v_)((0,s.R1)(F)[a.custom]),1)],64)):"file"==a.input?((0,t.uX)(),(0,t.Wv)(o,{key:1,ref_for:!0,ref:"upload",fileList:(0,s.R1)(C)[a.custom+"-"+a.input],class:"upload-demo",action:e.fileurl,limit:1,name:"userfile",disabled:"","on-preview":q,"before-upload":E,"on-remove":(l,t)=>e.handleRemove(l,t,a.custom,"file")},null,8,["fileList","action","on-remove"])):"image"==a.input?((0,t.uX)(),(0,t.CE)(t.FK,{key:2},[(0,s.R1)(F)[a.custom]?((0,t.uX)(),(0,t.Wv)(_,{key:0,style:{width:"100px",height:"100px"},src:(0,s.R1)(Q)+"/data/public/upload/image/"+(0,s.R1)(F)[a.custom],"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":4,fit:"cover"},null,8,["src"])):(0,t.Q3)("",!0)],64)):"daterange"==a.input?((0,t.uX)(),(0,t.CE)(t.FK,{key:3},[(0,s.R1)(w)[a.custom]?((0,t.uX)(),(0,t.CE)("p",b,(0,i.v_)((0,s.R1)(w)[a.custom][0])+" - "+(0,i.v_)((0,s.R1)(w)[a.custom][1]),1)):(0,t.Q3)("",!0)],64)):"datetime"==a.input?((0,t.uX)(),(0,t.CE)(t.FK,{key:4},[(0,t.eW)((0,i.v_)((0,s.R1)(F)[a.custom]),1)],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:5},[(0,t.eW)((0,i.v_)((0,s.R1)(F)[a.custom]),1)],64))]),_:2},1032,["label"]))],64))),128))]),_:1})])):(0,t.Q3)("",!0)])]),_:1}),(0,t.bF)(h,{span:2}),(0,s.R1)(W)?((0,t.uX)(),(0,t.Wv)(h,{key:0,span:11},{default:(0,t.k6)(()=>[a[11]||(a[11]=(0,t.Lk)("div",{class:"Review"},[(0,t.Lk)("div",{class:"Review_title"},[(0,t.Lk)("p",{class:"lantiao"}),(0,t.eW)(" 审核操作 ")])],-1)),(0,t.Lk)("div",f,[a[8]||(a[8]=(0,t.eW)(" 审批结果： ",-1)),(0,t.bF)(I,{modelValue:(0,s.R1)(R),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.i9)(R)?R.value=e:null),style:{"margin-left":"10px"}},{default:(0,t.k6)(()=>[(0,t.bF)(x,{value:2},{default:(0,t.k6)(()=>[...a[6]||(a[6]=[(0,t.eW)("审批通过 ",-1)])]),_:1}),(0,t.bF)(x,{value:3},{default:(0,t.k6)(()=>[...a[7]||(a[7]=[(0,t.eW)("审批拒绝",-1)])]),_:1})]),_:1},8,["modelValue"])]),(0,t.Lk)("div",k,[(0,t.bF)(K,{modelValue:(0,s.R1)(X),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,s.i9)(X)?X.value=e:null),rows:10,resize:"none",type:"textarea",placeholder:"请输入审核意见"},null,8,["modelValue"])]),(0,t.Lk)("div",v,[(0,t.bF)(n,{size:"small",onClick:a[3]||(a[3]=e=>(0,s.R1)(g).push({path:"/attendingReview",query:{meeting:(0,s.R1)(l).query.meeting}}))},{default:(0,t.k6)(()=>[...a[9]||(a[9]=[(0,t.eW)("取消",-1)])]),_:1}),(0,t.bF)(n,{type:"primary",size:"small",onClick:$},{default:(0,t.k6)(()=>[...a[10]||(a[10]=[(0,t.eW)("保存",-1)])]),_:1})])]),_:1})):(0,t.Q3)("",!0)]),_:1})])])}}},_=l(66262);const y=(0,_.A)(g,[["__scopeId","data-v-4eae2658"]]);var h=y}}]);