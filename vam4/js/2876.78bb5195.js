"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[2876],{2876:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});a(44114),a(18111),a(7588);var l=a(20641),n=a(50953),o=a(90033),s=a(74353),r=a.n(s),d=a(71029);const i={class:"invoiceStatistics"},u={class:"back_bg back_padding"},c={class:"invoice_box"},m={style:{background:"#1677FF"}},p={class:"money"},g={style:{background:"#8E0FF9"}},v={class:"money"},b={style:{background:"#f5460c"}},k={class:"money"},h={style:{background:"#999999"}},_={class:"money"},f={class:"invoice_boxtwo"},w={style:{background:"linear-gradient(-60deg, #667EEA, #764BA2)"}},C={class:"money"},L={style:{background:"linear-gradient(-60deg, #C471F5, #FA71CD)"}},y={class:"money"},F={style:{background:"linear-gradient(-60deg, #EF436D, #FFB199)"}},A={class:"money"},P={style:{background:"linear-gradient(-60deg, #E93402, #FFCA4A)"}},D={class:"money"},R={style:{background:"linear-gradient(-60deg, #99D465, #02CF9F)"}},T={class:"money"},z={class:"back_bg back_padding invoice_table"},H={class:"header"},M={class:"meetinginput"},x={class:"thefirselect"},$={class:"pagination"};var Y={__name:"invoiceStatistics",setup(e,{expose:t}){(0,d.lq)();const a=(0,d.rd)(),{proxy:s}=(0,l.nI)(),Y=(0,n.Kh)({value:"",cname:"",value1:"",radio1:"上月",dictTotal:0,dictCurrentPage:1,dictPageSize:10,tableData:[],department_list:[],sumAmt:0,sumCnt:0,wasteCnt:0,zong:0,AttendPersonal:0,AttendTeam:0,HotelPersonal:0,HotelTeam:0,paper:0,currentsymbolcn:"￥",currentsymbolen:"$",user:{},department:{},userinfoid:{}}),{value:W,cname:V,value1:E,radio1:S,dictTotal:I,dictCurrentPage:X,dictPageSize:j,tableData:K,department_list:U,sumAmt:N,sumCnt:q,wasteCnt:B,zong:O,AttendPersonal:Q,AttendTeam:G,HotelPersonal:J,HotelTeam:Z,paper:ee,currentsymbolcn:te,currentsymbolen:ae,user:le,department:ne,userinfoid:oe}=(0,n.QW)(Y);function se(){ce(),he()}function re(e){e=e||0;var t=parseFloat(e);if(isNaN(t))return 0;t=Math.round(100*e)/100;var a=t.toString(),l=a.indexOf(".");l<0&&(l=a.length,a+=".");while(a.length<=l+2)a+="0";return a}function de(){const e=""!==Y.value1?r()(Y.value1[0]).format("YYYY-MM-DD"):"",t=""!==Y.value1?r()(Y.value1[1]).format("YYYY-MM-DD"):"",a={type_vue:1,startTime:e,endtime:t};s.$http.article.getMeetingpaymentClount(a).then(e=>{s.$Loadimg.hideLoading(),0===e.data.status?(Y.sumAmt=e.data.sumAmt,Y.sumCnt=e.data.sumCnt,Y.wasteCnt=e.data.wasteCnt,Y.zong=e.data.zong,Y.AttendPersonal=e.data.AttendPersonal,Y.AttendTeam=e.data.AttendTeam,Y.HotelPersonal=e.data.HotelPersonal,Y.HotelTeam=e.data.HotelTeam,Y.paper=e.data.paper,s.$message.success("查询成功")):s.$message.error("查询失败")})}function ie(e){Y.dictPageSize=e,ce()}function ue(e){Y.dictCurrentPage=e,ce()}function ce(){const e={type_vue:1,page:Y.dictCurrentPage,status:201,per_page:Y.dictPageSize,department:Y.value,subject:Y.cname};console.log(e,"params"),s.$Loadimg.showLoading(),s.$http.article.getAllMeeting(e).then(e=>{s.$Loadimg.hideLoading(),1===e.data.status?(Y.user=e.data.user,Y.department=e.data.department,Y.tableData=e.data.list,Y.userinfoid=e.data.userinfoid,Y.dictTotal=e.data.pageinfo.total):s.$message.error(e.data.msg)})}function me(e){let t="";return Y.department&&Y.department.forEach(a=>{a.committeeDepartmentId===e&&(t=a.title)}),t}function pe(e="s",t="0"){const a=new Date;a.setMonth(a.getMonth());var l=a.getMonth()+1,n=a.getDate();l>=1&&l<=9&&(l="0"+l),n>=0&&n<=9&&(n="0"+n);const o=a.getFullYear()+"-"+l+"-"+n;return o}function ge(){const e=new Date;e.setMonth(e.getMonth()-3);var t=e.getMonth()+1,a=e.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a);const l=e.getFullYear()+"-"+t+"-"+a;return l}function ve(){const e=new Date;e.setMonth(e.getMonth()-1);var t=e.getMonth()+1,a=e.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a);const l=e.getFullYear()+"-"+t+"-"+a;return l}function be(){var e=new Date,t=new Date(e);t.setDate(t.getDate()-365);var a="-",l=t.getFullYear(),n=t.getMonth()+1,o=t.getDate();n>=1&&n<=9&&(n="0"+n),o>=0&&o<=9&&(o="0"+o);var s=l+a+n+a+o;return s}function ke(e){var t="";"近三月"===Y.radio1&&(t=ge()),"本月"===Y.radio1&&(t=pe()),"上月"===Y.radio1&&(t=ve()),"近一年"===Y.radio1&&(t=be());const a=r()().format("YYYY-MM-DD"),l={type_vue:1,startTime:t,endtime:a};s.$http.article.getMeetingpaymentClount(l).then(e=>{s.$Loadimg.hideLoading(),0===e.data.status?(Y.sumAmt=e.data.sumAmt,Y.sumCnt=e.data.sumCnt,Y.wasteCnt=e.data.wasteCnt,Y.zong=e.data.zong,Y.AttendPersonal=e.data.AttendPersonal,Y.AttendTeam=e.data.AttendTeam,Y.HotelPersonal=e.data.HotelPersonal,Y.HotelTeam=e.data.HotelTeam,Y.paper=e.data.paper,s.$message.success("查询成功")):s.$message.error("查询失败")})}function he(){const e={type_vue:1};s.$Loadimg.showLoading(),s.$http.article.getMeetingpaymentClount(e).then(e=>{s.$Loadimg.hideLoading(),0===e.data.status?(Y.sumAmt=e.data.sumAmt,Y.sumCnt=e.data.sumCnt,Y.wasteCnt=e.data.wasteCnt,Y.zong=e.data.zong,Y.AttendPersonal=e.data.AttendPersonal,Y.AttendTeam=e.data.AttendTeam,Y.HotelPersonal=e.data.HotelPersonal,Y.HotelTeam=e.data.HotelTeam,Y.paper=e.data.paper,s.$message.success("查询成功")):s.$message.error("查询失败")})}function _e(e){a.push({path:"/invoiceDetails",query:{meetingId:e.id}})}return se(),t({value:W,cname:V,value1:E,radio1:S,dictTotal:I,dictCurrentPage:X,dictPageSize:j,tableData:K,department_list:U,sumAmt:N,sumCnt:q,wasteCnt:B,AttendPersonal:Q,AttendTeam:G,HotelPersonal:J,HotelTeam:Z,paper:ee,currentsymbolcn:te,currentsymbolen:ae,toDecimal2:re,selserch:de,handleSizeChange:ie,handleCurrentChange:ue,departmentName:me,serch:ke,detailsearch:_e}),(e,t)=>{const a=(0,l.g2)("el-date-picker"),s=(0,l.g2)("el-radio-button"),r=(0,l.g2)("el-radio-group"),d=(0,l.g2)("el-input"),Y=(0,l.g2)("el-option"),U=(0,l.g2)("el-select"),ae=(0,l.g2)("el-button"),le=(0,l.g2)("el-table-column"),oe=(0,l.g2)("el-table"),se=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",u,[(0,l.Lk)("p",null,[t[7]||(t[7]=(0,l.eW)(" 统计时间范围 ",-1)),(0,l.bF)(a,{modelValue:(0,n.R1)(E),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,n.i9)(E)?E.value=e:null),type:"daterange",size:"small",style:{margin:"5px 10px"},"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",onChange:t[1]||(t[1]=e=>de())},null,8,["modelValue"]),(0,l.bF)(r,{modelValue:(0,n.R1)(S),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,n.i9)(S)?S.value=e:null),size:"small",onChange:t[3]||(t[3]=e=>ke(2))},{default:(0,l.k6)(()=>[(0,l.bF)(s,{label:"近三月"}),(0,l.bF)(s,{label:"本月"}),(0,l.bF)(s,{label:"上月"}),(0,l.bF)(s,{label:"近一年"})]),_:1},8,["modelValue"])]),(0,l.Lk)("div",c,[(0,l.Lk)("div",m,[(0,l.Lk)("p",p,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(N))),1),t[8]||(t[8]=(0,l.Lk)("p",{class:"text"},"全部会议开票总金额（含税）",-1))]),(0,l.Lk)("div",g,[(0,l.Lk)("p",v,(0,o.v_)(re((0,n.R1)(q))),1),t[9]||(t[9]=(0,l.Lk)("p",{class:"text"},"全部会议开票总数量（不含废票）",-1))]),(0,l.Lk)("div",b,[(0,l.Lk)("p",k,(0,o.v_)(re((0,n.R1)(O))),1),t[10]||(t[10]=(0,l.Lk)("p",{class:"text"},"全部会议红冲金额",-1))]),(0,l.Lk)("div",h,[(0,l.Lk)("p",_,(0,o.v_)((0,n.R1)(B)),1),t[11]||(t[11]=(0,l.Lk)("p",{class:"text"},"全部会议废票总数量",-1))])]),(0,l.Lk)("div",f,[(0,l.Lk)("div",w,[(0,l.Lk)("p",C,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(Q))),1),t[12]||(t[12]=(0,l.Lk)("p",{class:"text"},"个人参会报名开票金额",-1))]),(0,l.Lk)("div",L,[(0,l.Lk)("p",y,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(G))),1),t[13]||(t[13]=(0,l.Lk)("p",{class:"text"},"团队参会报名开票金额",-1))]),(0,l.Lk)("div",F,[(0,l.Lk)("p",A,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(J))),1),t[14]||(t[14]=(0,l.Lk)("p",{class:"text"},"个人酒店预订开票金额",-1))]),(0,l.Lk)("div",P,[(0,l.Lk)("p",D,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(Z))),1),t[15]||(t[15]=(0,l.Lk)("p",{class:"text"},"团队酒店预订开票金额",-1))]),(0,l.Lk)("div",R,[(0,l.Lk)("p",T,(0,o.v_)((0,n.R1)(te))+(0,o.v_)(re((0,n.R1)(ee))),1),t[16]||(t[16]=(0,l.Lk)("p",{class:"text"},"论文投稿开票金额",-1))])])]),(0,l.Lk)("div",z,[(0,l.Lk)("div",H,[(0,l.Lk)("div",M,[(0,l.bF)(d,{modelValue:(0,n.R1)(V),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,n.i9)(V)?V.value=e:null),placeholder:"大会名称",size:"small"},null,8,["modelValue"])]),(0,l.Lk)("div",x,[(0,l.bF)(U,{modelValue:(0,n.R1)(W),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,n.i9)(W)?W.value=e:null),placeholder:"请选择所属分会",size:"small"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(ne),e=>((0,l.uX)(),(0,l.Wv)(Y,{key:e.committeeDepartmentId,label:e.title,value:e.committeeDepartmentId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,l.bF)(ae,{type:"primary",size:"small",onClick:t[6]||(t[6]=e=>ce())},{default:(0,l.k6)(()=>[...t[17]||(t[17]=[(0,l.eW)("搜索会议",-1)])]),_:1}),t[19]||(t[19]=(0,l.Lk)("div",{style:{height:"20px",width:"100%"}},null,-1)),(0,l.bF)(oe,{data:(0,n.R1)(K),stripe:"",border:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(le,{prop:"id","show-overflow-tooltip":"",label:"会议ID"}),(0,l.bF)(le,{"show-overflow-tooltip":"",label:"大会名称"},{default:(0,l.k6)(e=>[e.row.subject?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,o.v_)(e.row.subject),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,o.v_)(e.row.subjectEn),1)],64))]),_:1}),(0,l.bF)(le,{prop:"name","show-overflow-tooltip":"",label:"所属分会"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)(me(e.row.committeeDepartmentId)),1)]),_:1}),(0,l.bF)(le,{prop:"AttendPersonal","show-overflow-tooltip":"",label:"个人参会报名开票金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.AttendPersonal)),1)]),_:1}),(0,l.bF)(le,{prop:"AttendTeam","show-overflow-tooltip":"",label:"团队参会报名开票金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.AttendTeam)),1)]),_:1}),(0,l.bF)(le,{prop:"HotelPersonal","show-overflow-tooltip":"",label:"个人酒店预订开票金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.HotelPersonal)),1)]),_:1}),(0,l.bF)(le,{prop:"HotelTeam","show-overflow-tooltip":"",label:"团队酒店预订开票金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.HotelTeam)),1)]),_:1}),(0,l.bF)(le,{prop:"paper","show-overflow-tooltip":"",label:"论文投稿开票金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.paper)),1)]),_:1}),(0,l.bF)(le,{prop:"sumCount","show-overflow-tooltip":"",label:"红冲金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.redcount)),1)]),_:1}),(0,l.bF)(le,{prop:"sumCount","show-overflow-tooltip":"",label:"开票总金额"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)((0,n.R1)(te))+(0,o.v_)(re(e.row.sumCount)),1)]),_:1}),(0,l.bF)(le,{prop:"name",label:"操作"},{default:(0,l.k6)(e=>[(0,l.bF)(ae,{type:"primary",size:"small",onClick:t=>_e(e.row)},{default:(0,l.k6)(()=>[...t[18]||(t[18]=[(0,l.eW)("查看详情",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),(0,l.Lk)("div",$,[(0,l.bF)(se,{layout:"sizes,prev, pager, next, total","current-page":(0,n.R1)(X),total:(0,n.R1)(I),background:"","page-size":(0,n.R1)(j),onSizeChange:ie,onCurrentChange:ue},null,8,["current-page","total","page-size"])])])])}}},W=a(66262);const V=(0,W.A)(Y,[["__scopeId","data-v-9349becc"]]);var E=V}}]);