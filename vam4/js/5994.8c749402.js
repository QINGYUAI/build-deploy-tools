"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[5994],{5994:function(e,l,t){t.r(l),t.d(l,{default:function(){return i}});var a=t(20641),o=t(90033),s=t(50953);const r={class:"log"},d={class:"content"};var n={__name:"LogView",setup(e){const{proxy:l}=(0,a.nI)(),t=(0,s.Kh)({meetingId:0,msg:""}),n=(0,s.KR)({meetingId:[{required:!0,message:"请输入会议ID",trigger:"blur"},{type:"number",message:"会议ID必须为数字",trigger:"blur"}]}),u=(0,s.KR)([]);function p(){const e={...t};l.$http.article.GetLog(e).then(e=>{"200"===e.data.status?(l.$message({showClose:!0,message:e.data.msg,type:"success"}),u.value=e.data.list):l.$message.error(e.data.msg)}).catch(e=>{console.error(e)})}function i(e){if(navigator.clipboard&&window.isSecureContext)return l.$message({showClose:!0,message:"成功！",type:"success"}),navigator.clipboard.writeText(e);{const t=document.createElement("textarea");return t.value=e,t.style.position="absolute",t.style.opacity=0,t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise((e,a)=>{document.execCommand("copy")?(e(),l.$message({showClose:!0,message:"成功！",type:"success"})):l.$message.error("复制失败"),t.remove()})}}return(e,l)=>{const s=(0,a.g2)("el-input"),c=(0,a.g2)("el-form-item"),m=(0,a.g2)("el-button"),b=(0,a.g2)("el-form"),g=(0,a.g2)("el-table-column"),f=(0,a.g2)("el-text"),F=(0,a.g2)("el-popover"),k=(0,a.g2)("el-table");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(b,{model:t,inline:!0,rules:n.value},{default:(0,a.k6)(()=>[(0,a.bF)(c,{label:"会议ID"},{default:(0,a.k6)(()=>[(0,a.bF)(s,{prop:"meetingId",modelValue:t.meetingId,"onUpdate:modelValue":l[0]||(l[0]=e=>t.meetingId=e),modelModifiers:{number:!0},placeholder:"请输入会议ID"},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,{label:"日志信息"},{default:(0,a.k6)(()=>[(0,a.bF)(s,{placeholder:"请输入日志信息",modelValue:t.msg,"onUpdate:modelValue":l[1]||(l[1]=e=>t.msg=e)},null,8,["modelValue"])]),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)(()=>[(0,a.bF)(m,{type:"primary",size:"small",onClick:p},{default:(0,a.k6)(()=>[...l[2]||(l[2]=[(0,a.eW)("查询",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"]),(0,a.bF)(k,{data:u.value,border:"",style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(g,{prop:"id",label:"id"}),(0,a.bF)(g,{prop:"userName",label:"账号"}),(0,a.bF)(g,{prop:"uid",label:"用户id"}),(0,a.bF)(g,{prop:"createTime",label:"时间"}),(0,a.bF)(g,{prop:"events",label:"操作类型"}),(0,a.bF)(g,{prop:"type",label:"功能列表"}),(0,a.bF)(g,{prop:"logUrl",label:"请求地址"}),(0,a.bF)(g,{prop:"logIp",label:"ip地址"}),(0,a.bF)(g,{prop:"msg",label:"日志信息"}),(0,a.bF)(g,{prop:"descData",label:"修改内容"},{default:(0,a.k6)(e=>[(0,a.bF)(F,{"popper-class":"LogContent",width:200,trigger:"hover"},{reference:(0,a.k6)(()=>[(0,a.bF)(f,{class:"text"},{default:(0,a.k6)(()=>[(0,a.eW)((0,o.v_)(e.row.descData),1)]),_:2},1024)]),default:(0,a.k6)(()=>[(0,a.Lk)("div",d,[(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.Lk)("pre",null,(0,o.v_)(e.row.descData),1)]),_:2},1024),(0,a.bF)(m,{type:"primary",onClick:l=>i(e.row.descData)},{default:(0,a.k6)(()=>[...l[3]||(l[3]=[(0,a.eW)("复制",-1)])]),_:1},8,["onClick"])])]),_:2},1024)]),_:1}),(0,a.bF)(g,{prop:"mid",label:"会议id"}),(0,a.bF)(g,{prop:"cid",label:"组委会id"})]),_:1},8,["data"])])}}},u=t(66262);const p=(0,u.A)(n,[["__scopeId","data-v-d1fca440"]]);var i=p}}]);