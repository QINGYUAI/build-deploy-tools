"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[5346],{65200:function(e,a,t){t.d(a,{A:function(){return h}});t(44114),t(33110),t(64979);var i=t(20641),n=t(50953),l=t(90033),s=t(71029),o=t(40834),u=()=>{const e=(0,s.lq)(),a=(0,n.KR)({"电子发票增值税普通发票":{"meeting.jzykjcgzh.com":58,localhost:1535,"php7.yiyum.com":1535}}),t=window.location.hostname,i=i=>{let n=!0;const l=a.value[i];return l&&(n=!(e.query.meeting>l[t])),n};return{TypeFlag:i}};const c={class:"collectDetails_list"},d={key:0,class:"invoice"},m={key:1,class:"invoice"},g={style:{display:"flex","align-items":"center"}},r={class:"collectData_box"},v={style:{display:"flex","align-items":"center"}};var p={__name:"invoice",props:["activeName","ListDataFather"],setup(e,{expose:a}){const{TypeFlag:t}=u(),p=(0,o.Pj)(),f=(0,s.lq)(),{proxy:k}=(0,i.nI)(),h=e,{activeName:b,ListDataFather:C}=(0,n.QW)(h),L=(0,n.Kh)({valueuseen:"100",valueuse:"100",isuse:!1,value:"",checked3:"",name:"",dialog:!1,ListDataSwitch:[],ListData:[],paperConfigRegister:[],cnIsElementConfig:[],disableCn:"",disableEn:"",checkedCities:[],configurationData:[],AddName:"",ClassKid:"",ListClass:[]}),{valueuseen:y,valueuse:_,isuse:F,value:D,checked3:R,name:V,dialog:N,ListDataSwitch:w,ListData:S,paperConfigRegister:$,cnIsElementConfig:I,disableCn:x,disableEn:X,checkedCities:q,configurationData:W,AddName:E,ClassKid:U,ListClass:A}=(0,n.QW)(L);function K(e,a){L.ListData.isUse=L.isuse,L.ListData.enisReq=L.valueuseen,"0"===L.valueuseen&&(console.log("非必填"),L.ListDataSwitch[2].required=!1),"100"===L.valueuseen&&(console.log("必填"),L.ListDataSwitch[2].required=!0),console.log(L.valueuseen,L.ListDataSwitch[2].required),"en"===h.activeName?L.ListData.en_invoice[a]=e:L.ListData.cn_invoice[a]=e;const t={type_vue:1,meetingId:f.query.meeting,info:JSON.stringify(L.ListData)};t.info=btoa(encodeURIComponent(JSON.stringify(L.ListData))),k.$Loadimg.showLoading(),k.$http.article.registerAllRegistercache(t).then(e=>{k.$Loadimg.hideLoading(),1===e.data.status?(k.$message.success("修改成功"),k.$emit("changefapiao")):k.$message.error(e.data.msg)}),console.log(e,a)}function Q(e,a){L.ListData.isUse=L.isuse,L.ListData.cnisReq=L.valueuse,"0"===L.valueuse&&(console.log("非必填"),L.ListDataSwitch[2].label="发票单位税号",L.ListDataSwitch[2].required=!1),"100"===L.valueuse&&(L.ListDataSwitch[2].label="发票单位税号",console.log("必填"),L.ListDataSwitch[2].required=!0),console.log(L.valueuse,L.ListDataSwitch[2].required),"cn"===h.activeName?L.ListData.cn_invoice[a]=e:L.ListData.en_invoice[a]=e;const t={type_vue:1,meetingId:f.query.meeting,info:JSON.stringify(L.ListData)};t.info=btoa(encodeURIComponent(JSON.stringify(L.ListData))),k.$Loadimg.showLoading(),k.$http.article.registerAllRegistercache(t).then(e=>{k.$Loadimg.hideLoading(),1===e.data.status?(k.$message.success("修改成功"),k.$emit("changefapiao")):k.$message.error(e.data.msg)}),console.log(e,a)}function T(e){"cn"===h.activeName?L.ListData.cn_invoice[L.ClassKid]=e:L.ListData.en_invoice[L.ClassKid]=e;const a={type_vue:1,meetingId:f.query.meeting,info:JSON.stringify(L.ListData)};a.info=btoa(encodeURIComponent(JSON.stringify(L.ListData))),k.$Loadimg.showLoading(),k.$http.article.registerAllRegistercache(a).then(e=>{k.$Loadimg.hideLoading(),1===e.data.status?(L.Subclass=!1,L.customShow=!1,k.$message.success("修改成功")):k.$message.error(e.data.msg)})}function z(e,a){e.data.splice(a,1)}function O(e,a,t){if(1===t){if(0!==a){const t=e.data[a],i=e.data[a-1];e.data[a]=i,e.data[a-1]=t}}else if(a<e.data.length-1){const t=e.data[a],i=e.data[a+1];e.data[a]=i,e.data[a+1]=t}}function J(e){""===L.AddName?k.$message.error("请输入选项"):(e.data.push(L.AddName),L.AddName=""),console.log(e)}function B(e,a){L.dialog=!0,L.configurationData=e,L.ClassKid=a}function j(e,a){console.log(e.data),"cn"===h.activeName?L.ListData.cn_invoice[a]=e:L.ListData.en_invoice[a]=e;const t={type_vue:1,meetingId:f.query.meeting,info:JSON.stringify(L.ListData)};t.info=btoa(encodeURIComponent(JSON.stringify(L.ListData))),k.$Loadimg.showLoading(),k.$http.article.registerAllRegistercache(t).then(e=>{k.$Loadimg.hideLoading(),1===e.data.status?(k.$message.success("修改成功"),k.$emit("changefapiao")):k.$message.error(e.data.msg)})}function P(){const e={meetingId:f.query.meeting,type_vue:"1"};k.$Loadimg.showLoading(),k.$http.article.registerGetRegistercache(e).then(e=>{k.$Loadimg.hideLoading(),1===e.data.status?(L.ListClass=e.data,L.ListData=e.data.list,L.isuse=e.data.list.isUse,L.paperConfigRegister=e.data.paperConfigRegister,"cn"===h.activeName?("0"===e.data.list.cnisReq||"100"===e.data.list.cnisReq?L.valueuse=e.data.list.cnisReq:L.valueuse="100",L.ListDataSwitch=e.data.list.cn_invoice,L.cnIsElementConfig=e.data.list.cn_is_element_config):("0"===e.data.list.enisReq||"100"===e.data.list.enisReq?L.valueuseen=e.data.list.enisReq:L.valueuseen="100",L.ListDataSwitch=e.data.list.en_invoice,L.cnIsElementConfig=e.data.list.en_is_element_config),L.disableCn=e.data.disableCn,L.disableEn=e.data.disableEn):k.$message.error(e.data.msg)})}function G(){}return(0,i.wB)(()=>h.activeName,()=>{P()}),(0,i.sV)(()=>{"cn"===h.activeName&&P()}),a({activeName:b,ListDataFather:C,valueuseen:y,valueuse:_,isuse:F,value:D,checked3:R,name:V,dialog:N,ListDataSwitch:w,ListData:S,paperConfigRegister:$,cnIsElementConfig:I,disableCn:x,disableEn:X,checkedCities:q,configurationData:W,AddName:E,ClassKid:U,ListClass:A,isonEn:K,ison:Q,AddSubmit:T,DelSubclass:z,SaveSubclass:O,configurationAdd:J,configuration:B,saveInvoice:j,onSubmit:G,getList:P}),(e,a)=>{const s=(0,i.g2)("el-switch"),o=(0,i.g2)("el-col"),u=(0,i.g2)("el-input"),k=(0,i.g2)("el-button"),h=(0,i.g2)("el-option"),C=(0,i.g2)("el-select"),L=(0,i.g2)("el-row"),F=(0,i.g2)("el-checkbox"),D=(0,i.g2)("el-checkbox-group"),R=(0,i.g2)("el-form-item"),V=(0,i.g2)("CaretTop"),S=(0,i.g2)("el-icon"),$=(0,i.g2)("CaretBottom"),I=(0,i.g2)("Delete"),x=(0,i.g2)("el-form"),X=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",c,["/invoiceInformationConfiguration"==(0,n.R1)(f).path?((0,i.uX)(),(0,i.CE)("p",d," 需要先把“会议管理 => 报名信息数据收集”配置中的“发票信息”开关打开，注册参会时才会展示这边配置的发票信息！！！ ")):((0,i.uX)(),(0,i.CE)("p",m," 需要先把“基本信息”配置中的“发票信息”开关打开，注册参会时才会展示这边配置的发票信息！！！ ")),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,n.R1)(w),(e,l)=>((0,i.uX)(),(0,i.CE)("div",{key:l},[(0,i.bF)(L,{gutter:20},{default:(0,i.k6)(()=>["invoiceType"===e.name||"invoiceContent"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:0,span:3},{default:(0,i.k6)(()=>[a[6]||(a[6]=(0,i.eW)(" 启用： ",-1)),(0,i.bF)(s,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.status,"onUpdate:modelValue":a=>e.status=a,onClick:a=>j(e,l)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024)):((0,i.uX)(),(0,i.Wv)(o,{key:1,span:2})),"invoiceReceive"!==e.name&&"invoiceSendAddress"!==e.name&&"invoiceSendName"!==e.name&&"invoiceSendPhone"!==e.name?((0,i.uX)(),(0,i.Wv)(o,{key:2,span:3},{default:(0,i.k6)(()=>[(0,i.bF)(u,{size:"small",placeholder:"请输入内容","prefix-icon":"Edit",modelValue:e.label,"onUpdate:modelValue":a=>e.label=a,onBlur:a=>j(e,l)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024)):(0,i.Q3)("",!0),"invoiceType"===e.name||"invoiceContent"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:3,span:3},{default:(0,i.k6)(()=>[a[7]||(a[7]=(0,i.eW)(" 必填项： ",-1)),(0,i.bF)(s,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:e.required,"onUpdate:modelValue":a=>e.required=a,onClick:a=>j(e,l)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:2},1024)):(0,i.Q3)("",!0),"invoiceContent"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:4,span:1},{default:(0,i.k6)(()=>[(0,i.bF)(k,{type:"primary",size:"small",onClick:a=>B(e,l)},{default:(0,i.k6)(()=>[...a[8]||(a[8]=[(0,i.eW)("配置",-1)])]),_:1},8,["onClick"])]),_:2},1024)):(0,i.Q3)("",!0),"invoiceContent"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:5,span:10},{default:(0,i.k6)(()=>[(0,i.Lk)("div",g,[a[9]||(a[9]=(0,i.Lk)("span",null,"默认发票内容：",-1)),(0,i.bF)(C,{modelValue:e.default,"onUpdate:modelValue":a=>e.default=a,placeholder:"请选择",style:{width:"200px"},onChange:a=>j(e,l)},{default:(0,i.k6)(()=>[(0,i.bF)(h,{label:"请选择",value:""}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.data,e=>((0,i.uX)(),(0,i.Wv)(h,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])]),_:2},1024)):(0,i.Q3)("",!0),"invoiceType"!==e.name&&"invoiceContent"!==e.name&&"invoiceReceive"!==e.name&&"invoiceSendAddress"!==e.name&&"invoiceSendName"!==e.name&&"invoiceSendPhone"!==e.name?((0,i.uX)(),(0,i.Wv)(o,{key:6,span:8},{default:(0,i.k6)(()=>[...a[10]||(a[10]=[(0,i.eW)(" 根据发票类型所选内容自动决定该字段是否打开 ",-1)])]),_:1})):(0,i.Q3)("",!0),"发票单位税号"===e.name||"invoiceNo"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:7,span:8},{default:(0,i.k6)(()=>[a[11]||(a[11]=(0,i.Lk)("span",null,"必填校验: ",-1)),"cn"===(0,n.R1)(b)?((0,i.uX)(),(0,i.Wv)(s,{key:0,onClick:a=>Q(e,l),class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,n.R1)(_),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.i9)(_)?_.value=e:null),"active-value":"100","inactive-value":"0"},null,8,["onClick","modelValue"])):((0,i.uX)(),(0,i.Wv)(s,{key:1,onClick:a=>K(e,l),class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,n.R1)(y),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.i9)(y)?y.value=e:null),"active-value":"100","inactive-value":"0"},null,8,["onClick","modelValue"])),a[12]||(a[12]=(0,i.Lk)("span",{style:{color:"red","font-size":"12px"}},"  注:此开关仅针对纸质普通发票、电子普通发票、数电普通发票",-1))]),_:2},1024)):(0,i.Q3)("",!0)]),_:2},1024),(0,i.bF)(L,{gutter:20},{default:(0,i.k6)(()=>[(0,i.bF)(o,{span:3}),"invoiceType"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:0,span:20,style:{display:"flex"}},{default:(0,i.k6)(()=>[a[13]||(a[13]=(0,i.Lk)("span",{style:{width:"100px"}},"选项配置：",-1)),(0,i.bF)(D,{onChange:a=>j(e,l),modelValue:e.data,"onUpdate:modelValue":a=>e.data=a,class:"checkbox_group"},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,n.R1)(p).state.invoiceTypeConfig,e=>((0,i.uX)(),(0,i.CE)(i.FK,{key:e},[(0,n.R1)(t)(e.label)?((0,i.uX)(),(0,i.Wv)(F,{key:0,label:e.label,border:"",size:"mini"},null,8,["label"])):(0,i.Q3)("",!0)],64))),128))]),_:2},1032,["onChange","modelValue","onUpdate:modelValue"])]),_:2},1024)):(0,i.Q3)("",!0),(0,i.bF)(o,{span:3}),"invoiceType"===e.name?((0,i.uX)(),(0,i.Wv)(o,{key:1,span:20,style:{display:"flex","align-items":"center"}},{default:(0,i.k6)(()=>[a[14]||(a[14]=(0,i.Lk)("span",{style:{width:"150px"}},"默认发票类型：",-1)),(0,i.bF)(C,{modelValue:e.default,"onUpdate:modelValue":a=>e.default=a,placeholder:"请选择",onChange:a=>j(e,l),style:{width:"200px"}},{default:(0,i.k6)(()=>[(0,i.bF)(h,{label:"请选择",value:""}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.data,e=>((0,i.uX)(),(0,i.CE)(i.FK,{key:e},["数电增值税普通发票"===e||"数电增值税专用发票"===e?((0,i.uX)(),(0,i.Wv)(h,{key:0,label:e,value:e},null,8,["label","value"])):(0,i.Q3)("",!0)],64))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):(0,i.Q3)("",!0)]),_:2},1024)]))),128))]),(0,i.bF)(X,{title:"下拉配置设置",modelValue:(0,n.R1)(N),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,n.i9)(N)?N.value=e:null),"close-on-click-modal":!1,width:"30%"},{default:(0,i.k6)(()=>[(0,i.bF)(x,null,{default:(0,i.k6)(()=>[(0,i.bF)(R,{label:"添加选项"},{default:(0,i.k6)(()=>[(0,i.bF)(L,{gutter:20},{default:(0,i.k6)(()=>[(0,i.bF)(o,{span:20},{default:(0,i.k6)(()=>[(0,i.bF)(u,{size:"small",modelValue:(0,n.R1)(E),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.i9)(E)?E.value=e:null)},null,8,["modelValue"])]),_:1}),(0,i.bF)(o,{span:4},{default:(0,i.k6)(()=>[(0,i.bF)(k,{size:"small",type:"primary",onClick:a[3]||(a[3]=e=>J((0,n.R1)(W)))},{default:(0,i.k6)(()=>[...a[15]||(a[15]=[(0,i.eW)("添加",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),(0,i.bF)(R,null,{default:(0,i.k6)(()=>[(0,i.Lk)("div",r,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,n.R1)(W).data,(e,a)=>((0,i.uX)(),(0,i.Wv)(L,{gutter:20,key:a},{default:(0,i.k6)(()=>[(0,i.bF)(o,{span:13},{default:(0,i.k6)(()=>[(0,i.eW)((0,l.v_)(e),1)]),_:2},1024),(0,i.bF)(o,{span:4},{default:(0,i.k6)(()=>[(0,i.Lk)("div",v,[(0,i.bF)(S,{onClick:e=>O((0,n.R1)(W),a,1)},{default:(0,i.k6)(()=>[(0,i.bF)(V)]),_:1},8,["onClick"]),(0,i.bF)(S,{onClick:e=>O((0,n.R1)(W),a,2)},{default:(0,i.k6)(()=>[(0,i.bF)($)]),_:1},8,["onClick"])])]),_:2},1024),(0,i.bF)(o,{span:3}),(0,i.bF)(o,{span:4},{default:(0,i.k6)(()=>[(0,i.bF)(S,{onClick:e=>z((0,n.R1)(W),a)},{default:(0,i.k6)(()=>[(0,i.bF)(I)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}),(0,i.bF)(R,null,{default:(0,i.k6)(()=>[(0,i.bF)(k,{size:"small",type:"primary",onClick:a[4]||(a[4]=e=>T((0,n.R1)(W)))},{default:(0,i.k6)(()=>[...a[16]||(a[16]=[(0,i.eW)("保存",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},f=t(66262);const k=(0,f.A)(p,[["__scopeId","data-v-884b77b6"]]);var h=k},95346:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var i=t(20641),n=t(50953),l=t(65200),s=t(71029);const o={class:"invoiceInformationConfiguration"};var u={__name:"invoiceInformationConfiguration",setup(e,{expose:a}){const t=(0,s.lq)(),{proxy:u}=(0,i.nI)(),c=(0,n.KR)(null),d=(0,n.Kh)({activeName:"cn",activeNameLable:"基本信息"}),m=(0,n.KR)(null),{activeName:g,activeNameLable:r}=(0,n.QW)(d);function v(){"发票信息"===d.activeNameLable&&(console.log(c.value),c.value.getList())}function p(){u.$confirm("确定重置中英文字段吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={meetingId:t.query.meeting,type_vue:"1"};u.$Loadimg.showLoading(),u.$http.article.Initializeregister(e).then(e=>{u.$Loadimg.hideLoading(),1===e.data.status?m.value&&m.value.getList():u.$message.error(e.data.msg)})}).catch(()=>{u.$message({type:"info",message:"已取消删除"})})}function f(){m.value&&m.value.getList()}return a({activeName:g,activeNameLable:r,handleClick:v,Ondefault:p,changefapiao:f,Invoice:l.A}),(e,a)=>{const t=(0,i.g2)("el-tab-pane"),s=(0,i.g2)("el-tabs");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(s,{modelValue:(0,n.R1)(g),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.i9)(g)?g.value=e:null)},{default:(0,i.k6)(()=>[(0,i.bF)(t,{label:"中文配置",name:"cn"},{default:(0,i.k6)(()=>[(0,i.bF)((0,n.R1)(l.A),{onChangefapiao:f,activeName:(0,n.R1)(g),ref_key:"InvoiceCn",ref:c},null,8,["activeName"])]),_:1}),(0,i.bF)(t,{label:"英文配置",name:"en"},{default:(0,i.k6)(()=>[(0,i.bF)((0,n.R1)(l.A),{onChangefapiao:f,activeName:(0,n.R1)(g),ref:"InvoiceEn"},null,8,["activeName"])]),_:1})]),_:1},8,["modelValue"])])}}},c=t(66262);const d=(0,c.A)(u,[["__scopeId","data-v-99947650"]]);var m=d}}]);