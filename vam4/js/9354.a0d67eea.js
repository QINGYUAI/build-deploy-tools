"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[9354],{39354:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});t(44114),t(18111),t(7588);var n=t(20641),l=t(90033),r=t(50953),o=t(71029);const s={class:"back_padding back_text"},i={class:"personnel"},d={class:"personnel_text"},p={class:"personnel_text"},c={class:"personnel_text"},g={class:"personnel_div"};var u={__name:"personnel",setup(e,{expose:a}){const t=(0,o.lq)(),{proxy:u}=(0,n.nI)(),b=(0,r.Kh)({activeName:"first",tableData:[],Plist:[],Ulist:[],Count:[],list:[],colSpanArr:[],rowIndexArr:[]}),{activeName:m,tableData:h,Plist:v,Ulist:f,Count:_,list:L,colSpanArr:k,rowIndexArr:w}=(0,r.QW)(b);function A(){S(),y()}function F(e,a){console.log(e,a);let t=1;a.forEach((n,l)=>{0===l?(b.rowIndexArr.push(0),t=1):n[e]===a[l-1][e]?(t+=1,l===a.length-1&&b.colSpanArr.push(t)):(b.colSpanArr.push(t),b.rowIndexArr.push(l),l===a.length-1&&b.colSpanArr.push(1),t=1)}),b.rowIndexArr.push(a.length),console.log(b.rowIndexArr,b.colSpanArr)}function x({row:e,column:a,rowIndex:t,columnIndex:n}){if(0===n)for(let l=0;l<b.colSpanArr.length;l++){if(t===b.rowIndexArr[l])return{rowspan:b.colSpanArr[l],colspan:1};if(t>b.rowIndexArr[l]&&t<b.rowIndexArr[l+1])return{rowspan:0,colspan:0}}}function I(e,a){console.log(e),"first"===e.props.name?(b.activeName="first",y()):"second"===e.props.name?(b.activeName="second",$()):(b.activeName="third",C())}function y(){const e={type_vue:1,meetingId:t.query.meeting};u.$Loadimg.showLoading(),u.$http.article.getMeetingClass(e).then(e=>{u.$Loadimg.hideLoading(),1===e.data.status?b.tableData=e.data.list:u.$message.error(e.data.msg)})}function $(){const e={meetingId:t.query.meeting,type_vue:1};u.$Loadimg.showLoading(),u.$http.article.getMeetingProvince(e).then(e=>{u.$Loadimg.hideLoading(),1===e.data.status?(b.Plist=e.data.list,F("province",b.Plist)):u.$message.error(e.data.msg)})}function C(){const e={meetingId:t.query.meeting,type_vue:1};u.$Loadimg.showLoading(),u.$http.article.getMeetingUnits(e).then(e=>{u.$Loadimg.hideLoading(),1===e.data.status?b.Ulist=e.data.list:u.$message.error(e.data.msg)})}function S(){const e={meetingId:t.query.meeting,type_vue:1};u.$Loadimg.showLoading(),u.$http.article.getMeetingPeople(e).then(e=>{u.$Loadimg.hideLoading(),1===e.data.status?b.Count=e.data.list:u.$message.error(e.data.msg)})}return A(),a({activeName:m,tableData:h,Plist:v,Ulist:f,Count:_,list:L,colSpanArr:k,rowIndexArr:w,objectSpanMethod:x,handleClick:I}),(e,a)=>{const t=(0,n.g2)("el-table-column"),o=(0,n.g2)("el-table"),u=(0,n.g2)("el-tab-pane"),b=(0,n.g2)("el-tabs");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",s,[(0,n.Lk)("p",i,[a[1]||(a[1]=(0,n.eW)("注册总数 ",-1)),(0,n.Lk)("span",d,(0,l.v_)((0,r.R1)(_).noteam+(0,r.R1)(_).yesteam),1),a[2]||(a[2]=(0,n.eW)("个人注册",-1)),(0,n.Lk)("span",p,(0,l.v_)((0,r.R1)(_).yesteam),1),a[3]||(a[3]=(0,n.eW)("团队注册",-1)),(0,n.Lk)("span",c,(0,l.v_)((0,r.R1)(_).noteam),1)])]),(0,n.Lk)("div",g,[(0,n.bF)(b,{type:"border-card",class:"personnel_table",modelValue:(0,r.R1)(m),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,r.i9)(m)?m.value=e:null),onTabClick:I},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"按注册类别统计",name:"first"},{default:(0,n.k6)(()=>[a[4]||(a[4]=(0,n.Lk)("p",{class:"personnel_header"},"按注册类别统计",-1)),(0,n.bF)(o,{data:(0,r.R1)(h),stripe:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(t,{prop:"name",align:"center",label:"注册类别"}),(0,n.bF)(t,{prop:"name",align:"receivableTotal",label:"已缴费"}),(0,n.bF)(t,{prop:"total",align:"center",label:"总数"})]),_:1},8,["data"])]),_:1}),(0,n.bF)(u,{label:"按省市统计",name:"second"},{default:(0,n.k6)(()=>[a[5]||(a[5]=(0,n.Lk)("p",{class:"personnel_header"},"按省市统计",-1)),(0,n.bF)(o,{data:(0,r.R1)(v),"span-method":x,border:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(t,{prop:"province",align:"center",label:"省份"}),(0,n.bF)(t,{prop:"city",align:"center",label:"城市"}),(0,n.bF)(t,{prop:"total",align:"center",label:"数量"}),(0,n.bF)(t,{prop:"receivableTotal",align:"center",label:"已缴费(市)"}),(0,n.bF)(t,{prop:"receivableTotal",align:"center",label:"已缴费(省)"}),(0,n.bF)(t,{prop:"total",align:"center",label:"总数"})]),_:1},8,["data"])]),_:1}),(0,n.bF)(u,{label:"按单位统计",name:"third"},{default:(0,n.k6)(()=>[a[6]||(a[6]=(0,n.Lk)("p",{class:"personnel_header"},"按单位统计",-1)),(0,n.bF)(o,{data:(0,r.R1)(f),stripe:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(t,{prop:"units",align:"center",label:"单位名称"}),(0,n.bF)(t,{prop:"receivableTotal",align:"center",label:"已缴费"}),(0,n.bF)(t,{prop:"total",align:"center",label:"总数"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])])],64)}}},b=t(66262);const m=(0,b.A)(u,[["__scopeId","data-v-9d70ab92"]]);var h=m}}]);