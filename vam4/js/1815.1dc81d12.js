"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[1815],{61815:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});a(44114);var n=a(20641),i=a(50953),l=a(90033),o=a(71029);const r={class:"listnumber"},c={style:{padding:"0 30px"}},d={class:"listnumber_header"},s={class:"listnumber_body"},u={class:"block"};var g={__name:"listnumber",setup(e,{expose:t}){const a=(0,o.rd)(),{proxy:g}=(0,n.nI)(),p=(0,i.Kh)({tableData:[],dictTotal:0,commitTitle:"组委会",dictCurrentPage:1,dictPageSize:5}),{tableData:m,dictTotal:b,commitTitle:h,dictCurrentPage:k,dictPageSize:f}=(0,i.QW)(p);function C(){F();const e=window.location.origin;"https://meeting.cmes.org"===e&&(p.commitTitle="会议组织")}function y(e){if(e)return e.replace(e.substring(3,7),"****")}function _(){a.push({path:"/addnumber"})}function v(e,t){a.push({path:"/editnumber",query:{user_id:t.id}})}function L(e,t){g.$confirm("确认删除该"+p.commitTitle+"成员吗？删除后该成员所建会议归属"+p.commitTitle+"下！！！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={type_vue:1,userId:t.id};g.$Loadimg.showLoading(),g.$http.article.delCommitteeMember(e).then(e=>{g.$Loadimg.hideLoading(),1===e.data.status?(g.$message({type:"success",message:"删除成功!"}),F()):g.$message.error(e.data.msg)})}).catch(()=>{g.$message({type:"info",message:"已取消删除"})})}function F(){const e={type_vue:1,page:p.dictCurrentPage,per_page:p.dictPageSize};g.$Loadimg.showLoading(),g.$http.article.getCommitteeMember(e).then(e=>{g.$Loadimg.hideLoading(),p.tableData=e.data.list,p.dictTotal=e.data.pageinfo.total})}function z(e){p.dictPageSize=e,F()}function w(e){p.dictCurrentPage=e,F()}return C(),t({tableData:m,dictTotal:b,commitTitle:h,dictCurrentPage:k,dictPageSize:f,Onphone:y,handleAdd:_,handleEdit:v,handleDelete:L,handleSizeChange:z,handleCurrentChange:w}),(e,t)=>{const a=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),g=(0,n.g2)("el-tooltip"),p=(0,n.g2)("el-table"),h=(0,n.g2)("el-pagination");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",null,[(0,n.bF)(a,{type:"primary",size:"small",onClick:t[0]||(t[0]=e=>_())},{default:(0,n.k6)(()=>[...t[2]||(t[2]=[(0,n.eW)("添加",-1)])]),_:1})]),(0,n.Lk)("div",null,[(0,n.bF)(a,{type:"primary",size:"small",onClick:t[1]||(t[1]=e=>F())},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)("查询",-1)])]),_:1})]),t[4]||(t[4]=(0,n.Lk)("div",null,[(0,n.Lk)("span",null,"所有配置需要用户重新登录，方可生效:")],-1))]),(0,n.Lk)("div",s,[(0,n.bF)(p,{data:(0,i.R1)(m),stripe:"",style:{width:"100%"},align:"center"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"userId",label:"编号",align:"center"}),(0,n.bF)(o,{prop:"fullName",label:"姓名",align:"center"}),(0,n.bF)(o,{prop:"unit",label:"单位",align:"center"}),(0,n.bF)(o,{prop:"telphone",label:"电话",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(g,{class:"item",effect:"dark",content:e.row.telphone,placement:"bottom"},{default:(0,n.k6)(()=>[(0,n.bF)(a,{link:"",style:{color:"#606266"}},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(y(e.row.telphone)),1)]),_:2},1024)]),_:2},1032,["content"])]),_:1}),(0,n.bF)(o,{prop:"account",label:"邮箱",align:"center"}),(0,n.bF)(o,{label:"操作",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(a,{size:"small",type:"primary",onClick:t=>v(e.$index,e.row)},{default:(0,n.k6)(()=>[...t[5]||(t[5]=[(0,n.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,n.bF)(a,{size:"small",type:"primary",onClick:t=>L(e.$index,e.row)},{default:(0,n.k6)(()=>[...t[6]||(t[6]=[(0,n.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,n.Lk)("div",u,[(0,n.bF)(h,{layout:"prev, pager, next, total","current-page":(0,i.R1)(k),total:(0,i.R1)(b),background:"","page-size":(0,i.R1)(f),onSizeChange:z,onCurrentChange:w},null,8,["current-page","total","page-size"])])])])])}}},p=a(66262);const m=(0,p.A)(g,[["__scopeId","data-v-6e7b501e"]]);var b=m}}]);