"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[7878],{57878:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});s(33110);var a=s(20641),n=s(50953),l=s(77882),p=s(40834);const i={class:"SupplierSetting"};var o={__name:"AddPersonSupplier",setup(e){const{proxy:t}=(0,a.nI)(),s=(0,p.Pj)(),o=(0,n.Kh)({SupplierData:{json:"[]",options:"[]",fields:{}}}),{SupplierData:u}=(0,n.QW)(o);function r({json:e,options:a,fields:n}){t.$Loadimg.showLoading(),u.value={json:e,options:a,fields:n};const l={type_vue:1,committeeId:s.state.user.committeeId,jsonData:JSON.stringify(u.value)};t.$http.supplier.SupplierSaveSupplierUserField(l).then(e=>{t.$Loadimg.hideLoading(),1===e.data.status||200===e.data.status?t.$message.success(e.data.msg):t.$message.error(e.data.msg)}).catch(e=>{console.log(e,"err")})}function d(){t.$Loadimg.showLoading();const e={type_vue:1,committeeId:s.state.user.committeeId};t.$http.supplier.SupplierSupplierUserField(e).then(e=>{t.$Loadimg.hideLoading(),1===e.data.status||200===e.data.status?u.value=e.data.list:t.$message.error(e.data.msg)}).catch(e=>{console.log(e,"err")})}return(0,a.wB)(()=>s.state.user.committeeId,e=>{e&&d()},{immediate:!0}),(e,t)=>((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(l.A,{save:r,json:(0,n.R1)(u).json,options:(0,n.R1)(u).options},null,8,["json","options"])]))}},u=s(66262);const r=(0,u.A)(o,[["__scopeId","data-v-494300b6"]]);var d=r},77882:function(e,t,s){s.d(t,{A:function(){return r}});s(18111),s(20116),s(61701);var a=s(20641),n=s(50953),l=s(18965);const p={class:"box"};var i={__name:"FormDesign",props:{save:{type:Function,default:()=>{}},json:{type:String,default:()=>{}},options:{type:String,default:()=>{}},fixedFields:{type:Object,default:()=>{}}},setup(e,{expose:t}){const{proxy:s}=(0,a.nI)(),i=e,o=(0,n.KR)(null),u=(0,n.KR)({fieldReadonly:!1}),r={action:"/HomeChapter/uploadChapterFile",onSuccess:(e,t)=>(t.url=e.list.full_url,t)};function d(e){return e&&Array.isArray(e)?e.map(e=>"upload"===e.type?{...e,props:{...e.props,action:r.action,onSuccess:r.onSuccess,name:"chapter_file"}}:(e.children&&Array.isArray(e.children)&&(e.children=d(e.children)),e)):e}const c=(0,n.KR)({supplierClassId:{label:"供应商分类",type:"select"},supplierName:{label:"供应商名称",type:"input"},supplierNum:{label:"供应商纳税人识别号",type:"input"},supplierUsername:{label:"公司法人",type:"input"},supplierEmail:{label:"邮件",type:"input"},supplierAddress:{label:"公司地址",type:"input"},supplierPhone:{label:"联系方式",type:"input"},supplierLang:{label:"来源：分支机构的id",type:"select"},supplierOpenBank:{label:"开户行",type:"input"},supplierAccount:{label:"银行卡号",type:"input"},supplierBankName:{label:"开户行姓名",type:"input"},supplierImg:{label:"营业执照",type:"upload"},supplierUserImg:{label:"法人证件照",type:"upload"},meltName:{label:"报销名称",type:"input"},meltReceivable:{label:"报销金额",type:"input"},meltContract:{label:"合同图片",type:"upload"},...i.fixedFields});function m(e){const t=o.value.getRule();if(Object.keys(c.value).find(t=>e.field===t))return o.value.setRule(t),s.$message.error("固定字段不允许删除"),!0}function g(){const e=o.value.getFormDescription();i.save({json:o.value.getJson(),options:o.value.getOptionsJson(),fields:e})}return(0,a.wB)(()=>i.json,()=>{let e=l.A.parseJson(i.json);e=d(e),o.value.setRule(e),o.value.setOption(l.A.parseJson(i.options))}),(0,a.sV)(()=>{let e=l.A.parseJson(i.json);e=d(e),o.value.setRule(e),o.value.setOption(l.A.parseJson(i.options))}),t({designer:o}),(e,t)=>{const s=(0,a.g2)("el-button"),n=(0,a.g2)("fc-designer");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(n,{ref_key:"designer",ref:o,height:"100vh",config:u.value,onDelete:m},{handle:(0,a.k6)(()=>[(0,a.bF)(s,{type:"primary",size:"small",onClick:g},{default:(0,a.k6)(()=>[...t[0]||(t[0]=[(0,a.eW)("保存",-1)])]),_:1})]),_:1},8,["config"])])}}},o=s(66262);const u=(0,o.A)(i,[["__scopeId","data-v-5a260905"]]);var r=u}}]);