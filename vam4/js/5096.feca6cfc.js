"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[5096],{95096:function(e,a,t){t.r(a),t.d(a,{default:function(){return P}});var l=t(20641),o=t(50953),s=t(90033),i=t(71029);const r={style:{background:"#fff",padding:"20px 10px"}},d={class:"title_btn"},n={class:"block pagination_div"},c={class:"modification_btn"},p={class:"modification_btn",style:{"text-align":"start",margin:"20px 0px 10px 10px"}},u={class:"score_dialog"},g={class:"modification_btn"},m={class:"modification_btn"};var _={__name:"scoreAdd",emits:["onChange"],setup(e,{expose:a,emit:t}){const _=(0,i.lq)(),{proxy:b}=(0,l.nI)(),h=t,f=(0,o.Kh)({editData:[],dialogVisible1:!1,ScoreList:[],dialogVisible:!1,dialogVisibleTwo:!1,currentPage:1,per_page:1,total:0,review:{},pfreview:{},textarea:"",info:{},PFlist:[],tableData:[]}),{editData:k,dialogVisible1:v,ScoreList:L,dialogVisible:y,dialogVisibleTwo:w,currentPage:F,per_page:V,total:$,review:C,pfreview:D,textarea:I,info:x,PFlist:S,tableData:R}=(0,o.QW)(f);function P(e){f.dialogVisible1=!0,f.editData=e,console.log(e)}function W(){b.$Loadimg.showLoading();const e={meetingId:f.editData.meetingId,scoreName:f.editData.scoreName,paperClass:f.editData.paperClass,paperTopic:f.editData.paperTopic,invalid:f.editData.invalid,ScoreId:f.editData.scoreId,scorePass:f.editData.scorePass,fromScoreId:f.editData.fromScoreId,type_vue:1};b.$http.article.editScore(e).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?(U(),f.dialogVisible1=!1,b.$message.success({message:"修改成功"}),h("onChange")):b.$message.error(e.data.msg)})}function z(e){}function N(e){}function E(e){f.pfreview=e,f.pfreview.is_suer="ok"}function T(e){const a={meetingId:_.query.meeting,type_vue:1,id:e.scoreDataId};b.$confirm("确定删除评分项定义吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{b.$Loadimg.showLoading(),b.$http.article.PaperDatas_delScore_data(a).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?b.$message.success({message:"删除成功"}):b.$message.error(e.data.msg),B(f.info)})}).catch(()=>{b.$message({type:"info",message:"已取消删除"})})}function G(){f.pfreview.scoreId=f.info.scoreId,f.pfreview.meetingId=_.query.meeting,f.pfreview.scoreDataPass=parseInt(f.pfreview.scoreDataPass),f.pfreview.type_vue=1,f.pfreview.scoreDataIdVal="",f.pfreview.is_suer&&(f.pfreview.scoreDataIdVal=f.pfreview.scoreDataId),b.$Loadimg.showLoading(),b.$http.article.PaperDatas_addScoreData(f.pfreview).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?(b.$message({showClose:!0,message:"添加成功！",type:"success"}),f.pfreview={}):b.$message({showClose:!0,message:e.data.msg,type:"error"}),B(f.info)})}function U(e="1"){f.page=e,f.dialogVisible=!1,f.dialogVisibleTwo=!1;const a={meetingId:_.query.meeting,type_vue:1,page:f.page,per_page:10};b.$Loadimg.showLoading(),b.$http.article.getScore(a).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?(f.tableData=e.data.list.ScoreList.responses.data,f.total=e.data.list.ScoreList.responses.total,f.page=e.data.list.ScoreList.responses.page,f.per_page=e.data.list.ScoreList.responses.per_page):b.$message.error(e.data.msg)})}function q(){f.review.scoreName?f.review.scorePass?(f.review.type_vue=1,f.review.meetingId=_.query.meeting,b.$Loadimg.showLoading(),b.$http.article.PaperDatas_addScore(f.review).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?b.$message({showClose:!0,message:"添加成功！",type:"success"}):b.$message({showClose:!0,message:e.data.msg,type:"error"}),U()})):b.$message.error("请输入及格分"):b.$message.error("请输入评分集名称")}function X(e){const a={meetingId:_.query.meeting,type_vue:1,id:e.scoreId};b.$confirm("确定评分集模板吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{b.$Loadimg.showLoading(),b.$http.article.PaperDatas_delScore(a).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?b.$message.success({message:"删除成功"}):b.$message.error(e.data.msg),U()})}).catch(()=>{b.$message({type:"info",message:"已取消删除"})})}function B(e){f.info={},f.info=e;const a={meetingId:_.query.meeting,type_vue:1,scoreId:e.scoreId,page:1,par_page:10};b.$Loadimg.showLoading(),b.$http.article.PaperDatas_getScoreData(a).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?f.PFlist=e.data.list.ScoreList:b.$message.error(e.data.msg)}),f.dialogVisibleTwo=!0}function A(){f.editData={},f.dialogVisible1=!1}function K(){f.review={scoreName:"",scorePass:""},f.dialogVisible=!1}function Q(){f.pfreview={},f.PFlist=[],f.dialogVisibleTwo=!1}return(0,l.sV)(()=>{U()}),a({editData:k,dialogVisible1:v,ScoreList:L,dialogVisible:y,dialogVisibleTwo:w,currentPage:F,per_page:V,total:$,review:C,pfreview:D,textarea:I,info:x,PFlist:S,tableData:R,edit:P,editScore:W,handleSizeChange:z,handleCurrentChange:N,scorehandleEdit:E,del_score:T,pf_add:G,getScore:U,review_add:q,delScore:X,handleEdit:B,handleDialogVisible1Close:A,handleDialogVisibleClose:K,handleDialogVisibleTwoClose:Q}),(e,a)=>{const t=(0,l.g2)("el-button"),i=(0,l.g2)("el-table-column"),_=(0,l.g2)("el-table"),b=(0,l.g2)("el-pagination"),h=(0,l.g2)("el-input"),f=(0,l.g2)("el-col"),L=(0,l.g2)("el-row"),I=(0,l.g2)("el-dialog"),x=(0,l.g2)("Delete"),N=(0,l.g2)("el-icon");return(0,l.uX)(),(0,l.CE)("div",r,[a[32]||(a[32]=(0,l.Lk)("p",{class:"title_scord"},[(0,l.Lk)("span",{style:{display:"inline-block",width:"4px",height:"18px",background:"#047ebc","margin-right":"10px"}}),(0,l.eW)(" 评分集模板列表 ")],-1)),(0,l.Lk)("p",d,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>y.value=!0)},{default:(0,l.k6)(()=>[...a[16]||(a[16]=[(0,l.eW)("增加评集模板",-1)])]),_:1})]),(0,l.bF)(_,{data:(0,o.R1)(R),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(i,{prop:"scoreId",label:"ID"}),(0,l.bF)(i,{prop:"scoreName",label:"评分集名称"}),(0,l.bF)(i,{prop:"sum",label:"满分"}),(0,l.bF)(i,{prop:"jife",label:"及格分"}),(0,l.bF)(i,{label:"操作"},{default:(0,l.k6)(e=>[(0,l.bF)(t,{size:"small",type:"primary",onClick:a=>B(e.row)},{default:(0,l.k6)(()=>[...a[17]||(a[17]=[(0,l.eW)("编辑模板",-1)])]),_:1},8,["onClick"]),(0,l.bF)(t,{size:"small",type:"primary",onClick:a=>P(e.row)},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)("修改",-1)])]),_:1},8,["onClick"]),(0,l.bF)(t,{size:"small",type:"primary",onClick:a=>X(e.row)},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,l.Lk)("div",n,[(0,l.bF)(b,{onSizeChange:z,onCurrentChange:U,"current-page":(0,o.R1)(F),"onUpdate:currentPage":a[1]||(a[1]=e=>(0,o.i9)(F)?F.value=e:null),background:"","page-size":(0,o.R1)(V),layout:"prev, pager, next,total",total:(0,o.R1)($)},null,8,["current-page","page-size","total"])]),(0,l.bF)(I,{title:"编辑",modelValue:(0,o.R1)(v),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,o.i9)(v)?v.value=e:null),"close-on-click-modal":!1,"before-close":A,width:"40%"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(L,{gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[20]||(a[20]=(0,l.eW)(" 评分集模板名称 ： ",-1)),(0,l.bF)(h,{size:"small",style:{"margin-top":"10px"},modelValue:(0,o.R1)(k).scoreName,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.R1)(k).scoreName=e),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[21]||(a[21]=(0,l.Lk)("div",{style:{"margin-bottom":"10px"}},"评分集及格分值 ：",-1)),(0,l.bF)(h,{size:"small",modelValue:(0,o.R1)(k).scorePass,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.R1)(k).scorePass=e),placeholder:"请输入数字"},null,8,["modelValue"])]),_:1})]),_:1}),(0,l.Lk)("p",c,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[4]||(a[4]=e=>W())},{default:(0,l.k6)(()=>[...a[22]||(a[22]=[(0,l.eW)("保存",-1)])]),_:1})])])]),_:1},8,["modelValue"]),(0,l.bF)(I,{title:"评分集模板创建",modelValue:(0,o.R1)(y),"onUpdate:modelValue":a[9]||(a[9]=e=>(0,o.i9)(y)?y.value=e:null),"close-on-click-modal":!1,"before-close":K,width:"40%"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(L,{gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[23]||(a[23]=(0,l.eW)(" 评分及模板名称 ： ",-1)),(0,l.bF)(h,{size:"small",style:{"margin-top":"10px"},modelValue:(0,o.R1)(C).scoreName,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,o.R1)(C).scoreName=e),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[24]||(a[24]=(0,l.eW)(" 评分集及格分值 ： ",-1)),(0,l.bF)(h,{size:"small",style:{"margin-top":"10px"},modelValue:(0,o.R1)(C).scorePass,"onUpdate:modelValue":a[7]||(a[7]=e=>(0,o.R1)(C).scorePass=e),placeholder:"请输入数字"},null,8,["modelValue"])]),_:1})]),_:1}),(0,l.Lk)("p",p,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[8]||(a[8]=e=>q())},{default:(0,l.k6)(()=>[...a[25]||(a[25]=[(0,l.eW)("保存",-1)])]),_:1})])])]),_:1},8,["modelValue"]),(0,l.bF)(I,{title:"评分项定义",modelValue:(0,o.R1)(w),"onUpdate:modelValue":a[15]||(a[15]=e=>(0,o.i9)(w)?w.value=e:null),"close-on-click-modal":!1,"before-close":Q,width:"60%"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",u,[(0,l.bF)(L,{gutter:20},{default:(0,l.k6)(()=>[(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[26]||(a[26]=(0,l.eW)(" 评分及模板名称 ： ",-1)),(0,l.bF)(h,{size:"small",modelValue:(0,o.R1)(D).scoreDataName,"onUpdate:modelValue":a[10]||(a[10]=e=>(0,o.R1)(D).scoreDataName=e),placeholder:"请输入"},null,8,["modelValue"])]),_:1}),(0,l.bF)(f,{span:10},{default:(0,l.k6)(()=>[a[27]||(a[27]=(0,l.eW)(" 评分项分值 ： ",-1)),(0,l.bF)(h,{size:"small",modelValue:(0,o.R1)(D).scoreDataPass,"onUpdate:modelValue":a[11]||(a[11]=e=>(0,o.R1)(D).scoreDataPass=e),placeholder:"请输入数字"},null,8,["modelValue"])]),_:1})]),_:1}),a[31]||(a[31]=(0,l.Lk)("p",null,"评分项标准解释",-1)),(0,l.Lk)("p",null,[(0,l.bF)(h,{type:"textarea",resize:"none",rows:5,placeholder:"请输入内容",modelValue:(0,o.R1)(D).scoreDataDesc,"onUpdate:modelValue":a[12]||(a[12]=e=>(0,o.R1)(D).scoreDataDesc=e)},null,8,["modelValue"])]),(0,l.Lk)("p",g,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[13]||(a[13]=e=>G())},{default:(0,l.k6)(()=>[(0,l.eW)((0,s.v_)((0,o.R1)(D).is_suer?"保存":"增加评分项"),1)]),_:1})]),(0,l.bF)(_,{data:(0,o.R1)(S),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(i,{prop:"scoreId",label:"ID"}),(0,l.bF)(i,{prop:"scoreDataName",label:"评分项名称"}),(0,l.bF)(i,{prop:"scoreDataPass",label:"评分项分值"}),(0,l.bF)(i,{prop:"scoreDataDesc",label:"评分项分解释"}),(0,l.bF)(i,{label:"操作"},{default:(0,l.k6)(e=>[(0,l.bF)(t,{size:"small",type:"primary",onClick:a=>E(e.row)},{default:(0,l.k6)(()=>[...a[28]||(a[28]=[(0,l.eW)("编辑模板",-1)])]),_:1},8,["onClick"]),a[29]||(a[29]=(0,l.eW)("           ",-1)),(0,l.bF)(N,{onClick:a=>T(e.row)},{default:(0,l.k6)(()=>[(0,l.bF)(x)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,l.Lk)("p",m,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[14]||(a[14]=e=>U())},{default:(0,l.k6)(()=>[...a[30]||(a[30]=[(0,l.eW)("保存",-1)])]),_:1})])])]),_:1},8,["modelValue"])])}}},b=t(66262);const h=(0,b.A)(_,[["__scopeId","data-v-63cb04f5"]]);var f=h;t(44114),t(18111),t(22489),t(7588),t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698);const k={style:{background:"#fff",padding:"20px 10px"}},v={class:"title_btn"},L={key:0},y={key:1},w={class:"block pagination_div"},F={class:"matchingScore"},V={key:0};var $={__name:"matchingScore",setup(e,{expose:a}){const t=(0,i.lq)(),{proxy:r}=(0,l.nI)(),d={multiple:!0},n=(0,o.Kh)({dialogVisible:!1,textarea:"",value:"",info:{},currentPage:1,per_page:1,total:0,ScorescoreId:"",paperConfig:[],ScoreNoList:[],topic_sel_list:[],class_sel_list:[],checkboxGroup:[],checkboxGroup_topic:[],is_info:"",tableData:[]}),{dialogVisible:c,textarea:p,value:u,info:g,currentPage:m,per_page:_,total:b,ScorescoreId:h,paperConfig:f,ScoreNoList:$,topic_sel_list:C,class_sel_list:D,checkboxGroup:I,checkboxGroup_topic:x,is_info:S,tableData:R}=(0,o.QW)(n);function P(e){const a={meetingId:t.query.meeting,type_vue:1,id:e.scoreId};r.$confirm("确定删除论文评分集吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.$Loadimg.showLoading(),r.$http.article.PaperDatas_delScore(a).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?r.$message.success({message:"删除成功"}):r.$message.error(e.data.msg),U(n.page)})}).catch(()=>{r.$message({type:"info",message:"已取消删除"})})}function W(){var e="";if(e=void 0===n.info.scoreId?n.ScorescoreId:n.info.scoreId,""===e||"0"===e)return void(n.ScoreNoList.length>0?r.$message({type:"info",message:"请选择评分集模板！"}):r.$message({type:"info",message:"请先添加评分集模板！"}));const a={meetingId:t.query.meeting,type_vue:1,scoreId:e,class_check:n.checkboxGroup,topic_check:[...new Set(n.checkboxGroup_topic.flat())]};r.$Loadimg.showLoading(),r.$http.article.PaperDatas_save_matching(a).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?r.$message.success({message:"成功"}):r.$message.error(e.data.msg)}),U()}function z(e){const a={meetingId:t.query.meeting,type_vue:1,scoreId:0,class_check:e};r.$Loadimg.showLoading(),r.$http.article.PaperDatas_sel_list(a).then(e=>{if(r.$Loadimg.hideLoading(),1===e.data.status){n.ScoreNoList=e.data.ScoreNoList,n.class_sel_list=e.data.class_sel_list,e.data.topic_sel_list.forEach(e=>{e.value=e.topicId,e.label=e.topicTitle,e.disabled=2==e.status}),n.topic_sel_list=N(e.data.topic_sel_list);var a=[];for(var t in e.data.topic_sel_list)if(0!==e.data.topic_sel_list[t].pid&&2===e.data.topic_sel_list[t].status)for(var l in n.checkboxGroup_topic)String(n.checkboxGroup_topic[l])===String(e.data.topic_sel_list[t].topicId)&&a.push(n.checkboxGroup_topic[l]);n.checkboxGroup_topic=[]}else r.$message.error(e.data.msg)})}function N(e,a=[],t=0){if(a.length<=0){const l=[];e.forEach(e=>{e.pid===t&&(e.flag=!0,e.open=!1,e.pids=""+t,l.push(e))}),l.length>0&&(a=N(e,l))}else a.forEach(a=>{const t=[];e.forEach(e=>{a.topicId===e.pid&&(e.flag=!1,e.open=!1,e.pids=a.pids+"-"+e.pid,t.push(e))}),t.length>0?(a.children=t,N(e,t)):a.children=[]});return a}function E(){r.$message.success({message:"审稿开关已开启，无法进行操作！"})}function T(e){}function G(e){}function U(e="1"){r.$Loadimg.showLoading(),n.page=e,n.dialogVisible=!1;const a={meetingId:t.query.meeting,type_vue:1,page:n.page,per_page:10};r.$http.article.getScore(a).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?(n.tableData=e.data.list.ScoreListData.responses.data,n.total=e.data.list.ScoreListData.responses.total,n.page=e.data.list.ScoreListData.responses.page,n.per_page=e.data.list.ScoreListData.responses.per_page):r.$message.error(e.data.msg)})}function q(){const e={meetingId:t.query.meeting,type_vue:1};r.$Loadimg.showLoading(),r.$http.article.PaperDatas_paperscore(e).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?n.paperConfig=e.data.paperConfig:r.$message.error(e.data.msg)})}function X(){n.checkboxGroup=[],n.checkboxGroup_topic=[],n.ScorescoreId="",n.info={},n.is_info=0;const e={meetingId:t.query.meeting,type_vue:1};r.$Loadimg.showLoading(),r.$http.article.PaperDatas_sel_list(e).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?(n.ScoreNoList=e.data.ScoreNoList,n.class_sel_list=e.data.class_sel_list,e.data.topic_sel_list.forEach(e=>{e.value=e.topicId,e.label=e.topicTitle}),n.topic_sel_list=N(e.data.topic_sel_list)):r.$message.error(e.data.msg)}),n.dialogVisible=!0}function B(e){n.checkboxGroup=[],n.checkboxGroup_topic=[],n.info=e,n.is_info=1;const a={meetingId:t.query.meeting,type_vue:1,scoreId:e.scoreId};r.$Loadimg.showLoading(),r.$http.article.PaperDatas_sel_list(a).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status?(n.ScoreNoList=e.data.ScoreNoList,n.class_sel_list=e.data.class_sel_list,e.data.topic_sel_list.forEach(e=>{e.value=e.topicId,e.label=e.topicTitle}),n.topic_sel_list=N(e.data.topic_sel_list),console.log(n.topic_sel_list)):r.$message.error(e.data.msg)}),n.dialogVisible=!0}function A(){n.checkboxGroup=[],n.checkboxGroup_topic=[],n.ScorescoreId="",n.info={},n.is_info=0,n.dialogVisible=!1}return(0,l.sV)(()=>{U(),q()}),a({dialogVisible:c,textarea:p,value:u,info:g,currentPage:m,per_page:_,total:b,ScorescoreId:h,paperConfig:f,ScoreNoList:$,topic_sel_list:C,class_sel_list:D,checkboxGroup:I,checkboxGroup_topic:x,is_info:S,tableData:R,delScore:P,score_add_sure:W,sel_matching:z,alertMsg:E,handleSizeChange:T,handleCurrentChange:G,add_sure:X,handleEdit:B,getScore:U,handleCloseDialog:A}),(e,a)=>{const t=(0,l.g2)("el-button"),i=(0,l.g2)("el-table-column"),r=(0,l.g2)("EditPen"),n=(0,l.g2)("el-icon"),p=(0,l.g2)("Delete"),u=(0,l.g2)("el-table"),g=(0,l.g2)("el-pagination"),N=(0,l.g2)("el-option"),G=(0,l.g2)("el-select"),q=(0,l.g2)("el-cascader"),K=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.CE)("div",k,[a[16]||(a[16]=(0,l.Lk)("p",{class:"title_scord"},[(0,l.Lk)("span",{style:{display:"inline-block",width:"4px",height:"18px",background:"#047ebc","margin-right":"10px"}}),(0,l.eW)(" 匹配论文评分集列表 ")],-1)),(0,l.Lk)("p",v,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>X())},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("评分集匹配",-1)])]),_:1})]),(0,l.bF)(u,{data:(0,o.R1)(R),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(i,{prop:"scoreId",label:"ID",width:"80"}),(0,l.bF)(i,{prop:"scoreName",label:"评分集名称",width:"124"}),(0,l.bF)(i,{prop:"address",label:"类型"},{default:(0,l.k6)(e=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.row.class_sel_title,a=>((0,l.uX)(),(0,l.CE)("span",{key:a},(0,s.v_)(a.title)+" "+(0,s.v_)(e.row.class_sel_title.length>1?"/ ":""),1))),128))]),_:1}),(0,l.bF)(i,{prop:"address",label:"栏目"},{default:(0,l.k6)(e=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.row.topic_sel_title,a=>((0,l.uX)(),(0,l.CE)("span",{key:a},(0,s.v_)(a.topicTitle)+" "+(0,s.v_)(e.row.topic_sel_title.length>1?"/ ":""),1))),128))]),_:1}),(0,l.bF)(i,{prop:"address",label:"满分/及格分",width:"100"},{default:(0,l.k6)(e=>[(0,l.eW)((0,s.v_)(e.row.sum)+"/"+(0,s.v_)(e.row.jife),1)]),_:1}),(0,l.bF)(i,{label:"操作",width:"140"},{default:(0,l.k6)(e=>[1==(0,o.R1)(f).audioOpen?((0,l.uX)(),(0,l.CE)("span",L,[(0,l.bF)(n,{onClick:a[1]||(a[1]=e=>E()),color:"#428BCA"},{default:(0,l.k6)(()=>[(0,l.bF)(r)]),_:1}),a[10]||(a[10]=(0,l.eW)("   ",-1)),(0,l.bF)(n,{onClick:a[2]||(a[2]=e=>E()),color:"#428BCA"},{default:(0,l.k6)(()=>[(0,l.bF)(p)]),_:1})])):((0,l.uX)(),(0,l.CE)("span",y,[(0,l.bF)(n,{onClick:a=>B(e.row),color:"#428BCA"},{default:(0,l.k6)(()=>[(0,l.bF)(r)]),_:1},8,["onClick"]),a[11]||(a[11]=(0,l.eW)("   ",-1)),(0,l.bF)(n,{onClick:a=>P(e.row),color:"#428BCA"},{default:(0,l.k6)(()=>[(0,l.bF)(p)]),_:1},8,["onClick"])]))]),_:1})]),_:1},8,["data"]),(0,l.Lk)("div",w,[(0,l.bF)(g,{onSizeChange:T,onCurrentChange:U,"current-page":(0,o.R1)(m),"onUpdate:currentPage":a[3]||(a[3]=e=>(0,o.i9)(m)?m.value=e:null),background:"","page-size":(0,o.R1)(_),layout:"prev, pager, next,total",total:(0,o.R1)(b)},null,8,["current-page","page-size","total"])]),(0,l.bF)(K,{title:"匹配论文评分集",modelValue:(0,o.R1)(c),"onUpdate:modelValue":a[8]||(a[8]=e=>(0,o.i9)(c)?c.value=e:null),"close-on-click-modal":!1,"before-close":A,width:"60%"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",F,[(0,l.Lk)("p",null,[a[12]||(a[12]=(0,l.eW)(" 类型： ",-1)),(0,l.bF)(G,{modelValue:(0,o.R1)(I),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,o.i9)(I)?I.value=e:null),multiple:"","collapse-tags":"",size:"default","collapse-tags-tooltip":"",placeholder:"请选择",style:{width:"240px"},onChange:z},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(D),e=>((0,l.uX)(),(0,l.Wv)(N,{key:e.classId,label:e.title,value:e.classId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,l.Lk)("p",null,[a[13]||(a[13]=(0,l.eW)(" 栏目： ",-1)),(0,l.bF)(q,{modelValue:(0,o.R1)(x),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,o.i9)(x)?x.value=e:null),options:(0,o.R1)(C),"show-all-levels":!1,props:d,"collapse-tags":"",multiple:"",filterable:"","collapse-tags-tooltip":"",style:{width:"240px"}},null,8,["modelValue","options"])]),1!=(0,o.R1)(S)?((0,l.uX)(),(0,l.CE)("span",V,[(0,l.Lk)("p",null,[a[14]||(a[14]=(0,l.eW)(" 请选择评分集模板： ",-1)),(0,l.bF)(G,{size:"small",modelValue:(0,o.R1)(h),"onUpdate:modelValue":a[6]||(a[6]=e=>(0,o.i9)(h)?h.value=e:null),placeholder:"-请选择-"},{default:(0,l.k6)(()=>[(0,l.bF)(N,{label:"-请选择-",value:"0"}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)($),e=>((0,l.uX)(),(0,l.Wv)(N,{key:e.scoreId,label:e.scoreName,value:e.scoreId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])):(0,l.Q3)("",!0),(0,l.Lk)("p",null,[(0,l.bF)(t,{type:"primary",size:"small",onClick:a[7]||(a[7]=e=>W())},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.eW)("保存",-1)])]),_:1})])])]),_:1},8,["modelValue"])])}}};const C=(0,b.A)($,[["__scopeId","data-v-5105d746"]]);var D=C;const I={class:"back_bg back_padding"},x={class:"back_bg back_padding"};var S={__name:"score",setup(e,{expose:a}){const t=(0,o.KR)(null);function s(){t.value.getScore()}return a({onChildValue:s,ScoreAdd:f,MatchingScore:D}),(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",I,[(0,l.bF)((0,o.R1)(f),{onOnChange:s})]),(0,l.Lk)("div",x,[(0,l.bF)((0,o.R1)(D),{ref_key:"matchingScore",ref:t},null,512)])],64))}};const R=S;var P=R}}]);