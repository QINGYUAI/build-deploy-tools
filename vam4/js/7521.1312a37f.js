"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[7521],{6164:function(e,l,a){a.d(l,{A:function(){return Z}});a(44114),a(18111),a(20116),a(7588),a(61701),a(33110),a(64979);var t=a(20641),s=a(90033),u=a(50953),n=a(53751),i=a(71029),o=a(95531),r=a(48548),c=a(85484);const d={key:0,class:"flex gap-6"},v={class:"w-[375px] flex-shrink-0 bg-white rounded-lg shadow-lg overflow-hidden"},m={class:"h-8 bg-gray-100 flex items-center justify-between px-4"},g={class:"text-xs text-gray-500"},p={class:"flex items-center space-x-1"},b={class:"relative w-full h-full"},h=["src","alt"],f={class:"grid grid-cols-3 gap-6 p-4"},w=["onClick"],k={class:"h-full w-full relative"},_=["src"],x={class:"flex-1 bg-white rounded-lg shadow-lg p-6"},y={class:"mb-6"},C={class:"text-xl font-medium flex items-center gap-2"},L={class:"space-y-4"},F={key:0,class:"space-y-3"},$={class:"w-16 h-16 bg-gray-100 rounded overflow-hidden flex-shrink-0"},I=["src"],R={class:"flex-1"},V={class:"text-sm font-medium text-gray-900"},E={class:"flex items-center gap-2"},K={class:"flex flex-col items-center justify-center h-[120px] gap-3"},X={key:1,class:"pt-4 border-t"},S={class:"mt-4 p-4 bg-blue-50 rounded-lg"},j={class:"text-sm font-medium text-blue-700 mb-2 flex items-center gap-2"},W=["src"],U={class:"flex gap-2"},B={class:"pt-4 border-t border-gray-200 space-y-4"},A={class:"flex items-center gap-3"},M=["src"],D=["src"],T=["href"],P={key:2,class:"text-center text-sm text-gray-500 mt-2"},z={key:3,class:"text-center text-sm text-gray-500 mt-2"},O={class:"border-t border-gray-100 mt-8 pt-8"},N={class:"flex items-center justify-between mb-6"},q={key:0,class:"space-y-6 bg-gray-50 p-6 rounded-lg"},H={class:"flex gap-3"},Q={key:1,class:"loading-placeholder"};var Y={__name:"MobileContentConfiguration",setup(e){const{proxy:l}=(0,t.nI)(),a=(0,i.lq)(),Y=(0,u.KR)(!0),G=(0,u.KR)("12:00"),J=(0,u.KR)(-1),Z=(0,u.KR)(""),ee=(0,u.KR)(""),le=(0,u.KR)({}),ae=(0,u.KR)(""),te=(0,u.KR)(a.query.meeting||""),se=(0,u.KR)({type_vue:1,meetingId:a.query.meeting}),ue=(0,u.KR)({Cookies:localStorage.Cookie}),ne=(0,u.KR)(l.$store.state.api+"/website/imageUpload"),ie=(0,u.KR)({}),oe=(0,u.KR)(0),re=(0,u.KR)(null),ce=(0,u.KR)(-1),de=(0,u.KR)({banners:[],autoPlay:!0,interval:3}),ve=(0,u.KR)([]),me=(0,u.KR)({expert:[],news:[],copyright:"",icp:"",data:{mcn:{data:{}}}}),ge=(0,u.KR)({title:"",content:""}),pe=(0,u.KR)(!1),be=(0,u.KR)(null),he=(0,u.KR)({title:[{required:!0,message:"请输入新闻标题",trigger:"blur"},{min:1,max:100,message:"新闻标题长度在1到100个字符",trigger:"blur"}]}),fe=()=>{pe.value=!pe.value,pe.value||Fe()},we=(0,u.KR)({height:300}),ke=(0,u.KR)(l.$store.state.api+"/assets/js/lib/tinymce-5.1.5/php/controller.php?action=uploadimage"),_e=(0,u.KR)("image/jpeg, image/png"),xe=(0,u.KR)(!0),ye=e=>{ge.value.content=e},Ce=(e,l)=>{console.log("富文本编辑器初始化失败:",e,l)},Le=e=>{console.log("富文本编辑器图片上传成功:",e)},Fe=()=>{ge.value={title:"",content:""},be.value&&be.value.resetFields()},$e=async()=>{if(be.value)try{await be.value.validate();const e={type_vue:1,siteId:ae.value,meetingId:a.query.meeting,title:ge.value.title,content:ge.value.content};l.$Loadimg.showLoading();const t=await l.$http.article.FastMeetingaddNew(e);if(l.$Loadimg.hideLoading(),1===t.data.status){if(o.nk.success(t.data.msg),await el(),t.data.list.newsLabelId&&t.data.list.news&&t.data.list.news.id&&J.value>=0){console.log("新闻保存成功，开始设置回显数据:",{newsLabelId:t.data.list.newsLabelId,newsId:t.data.list.news.id,selectedNavIndex:J.value}),Z.value=t.data.list.newsLabelId+"+news";const e=Array.isArray(me.value.news)?me.value.news:Object.values(me.value.news||{}),l=e.find(e=>e.id==t.data.list.newsLabelId);if(l){le.value.title_list=l.news||[],le.value._cunchu="新闻栏目("+l.title+")";const e=le.value.title_list.find(e=>e.id==t.data.list.news.id);e?(ee.value=t.data.list.newsLabelId+"+"+t.data.list.news.id+"+news",le.value._cunchu=le.value._cunchu+"->"+e.subject,console.log("新闻详情回显完成:",{linkSelectValue1:ee.value,_cunchu:le.value._cunchu})):console.log("未找到新增的新闻项，只回显栏目")}else console.log("未找到对应的新闻栏目数据");le.value.url="#!c/showNews/a/index/id/"+t.data.list.news.id+"/label/"+t.data.list.newsLabelId,ve.value[J.value]={...ve.value[J.value],url:le.value.url,title_list:le.value.title_list,_cunchu:le.value._cunchu},Je(),console.log("新闻回显设置完成:",{linkSelectValue:Z.value,linkSelectValue1:ee.value,url:le.value.url,title_list:le.value.title_list,_cunchu:le.value._cunchu})}Fe(),pe.value=!1}else o.nk.error(t.data.msg)}catch(e){o.nk.error(e),l.$Loadimg.hideLoading()}},Ie=(0,u.KR)(!0),Re=(0,u.KR)(null),Ve=()=>{const e={type_vue:1,meetingId:a.query.meeting};l.$http.article.getfo(e).then(e=>{0===e.data.status?Ie.value=!1:Ie.value=!0})},Ee=(0,t.EW)(()=>-1===J.value?"Banner":ve.value[J.value].title),Ke=()=>{J.value=-1},Xe=()=>{if(!le.value||!le.value.url)return Z.value="",void(ee.value="");const e=le.value.url;if(Z.value="",ee.value="",console.log("开始回显，URL:",e),e.includes("center/show"))e.includes("#!c/centerRegister/a/index")?Z.value="center/show#!c/centerRegister/a/index":e.includes("#!c/centerRegister/a/team")?Z.value="center/show#!c/centerRegister/a/team":e.includes("#!c/centerHotel/a/index")?Z.value="center/show#!c/centerHotel/a/index":e.includes("#!c/centerHotel/a/team")?Z.value="center/show#!c/centerHotel/a/team":e.includes("#!c/centerPapers/a/plist")?Z.value="center/show#!c/centerPapers/a/plist":Z.value="center/show";else if(e.includes("#!c/showMeetingScheduleTotal/a/index"))Z.value="/?sid=#!c/showMeetingScheduleTotal/a/index";else if(e.includes("#!c/showMeetingScheduleTotal/a/schedulPeople"))Z.value="/?sid=#!c/showMeetingScheduleTotal/a/schedulPeople";else if(e.includes("#!c/showExpert/a/label")&&!e.includes("/id/"))Z.value="/?sid=#!c/showExpert/a/label";else if(e.includes("#!c/showCooperation/a/label"))Z.value="/?sid=#!c/showCooperation/a/label";else if(e.includes("#!c/showExpert/a/")){console.log("匹配到专家URL");const l=e.match(/#!c\/showExpert\/a\/index\/id\/(\d+)\/label\/(\d+)/);if(l){console.log("匹配到专家详情页");const e=l[1],a=l[2],t=Array.isArray(me.value.expert)?me.value.expert:Object.values(me.value.expert||{});console.log("专家列表:",t);const s=t.find(e=>e.id==a);if(s&&s.news){console.log("找到专家栏目数据:",s),Z.value=s.id+"+expert",le.value.title_list=s.news,le.value._cunchu="专家栏目("+s.titleCn+")";const l=s.news.find(l=>l.id==e);l&&l.expertLabelId&&(console.log("找到专家详情:",l),ee.value=l.expertLabelId+"+"+e+"+expert",le.value._cunchu=le.value._cunchu+"->"+l.nameCn)}}else{const l=e.match(/#!c\/showExpert\/a\/label\/label\/(\d+)/);if(l){console.log("匹配到专家栏目页");const e=l[1];Z.value=e+"+expert";const a=Array.isArray(me.value.expert)?me.value.expert:Object.values(me.value.expert||{}),t=a.find(l=>l.id==e);t&&t.news&&(le.value.title_list=t.news,le.value._cunchu="专家栏目("+t.titleCn+")")}}}else if(e.includes("#!c/showNews/a/")){console.log("匹配到新闻URL");const l=e.match(/#!c\/showNews\/a\/index\/id\/(\d+)\/label\/(\d+)/);if(l){console.log("匹配到新闻详情页");const e=l[1],a=l[2],t=Array.isArray(me.value.news)?me.value.news:Object.values(me.value.news||{});console.log("新闻列表:",t);const s=t.find(e=>e.id==a);if(s&&s.news){console.log("找到新闻栏目数据:",s),Z.value=s.id+"+news",le.value.title_list=s.news,le.value._cunchu="新闻栏目("+s.title+")";const l=s.news.find(l=>l.id==e);l&&l.newsLabelId&&(console.log("找到新闻详情:",l),ee.value=l.newsLabelId+"+"+e+"+news",le.value._cunchu=le.value._cunchu+"->"+l.subject)}}else{const l=e.match(/#!c\/showNews\/a\/label\/label\/(\d+)/);if(l){console.log("匹配到新闻栏目页");const e=l[1];Z.value=e+"+news";const a=Array.isArray(me.value.news)?me.value.news:Object.values(me.value.news||{}),t=a.find(l=>l.id==e);t&&t.news&&(le.value.title_list=t.news,le.value._cunchu="新闻栏目("+t.title+")")}}}console.log("回显结果 - linkSelectValue:",Z.value),console.log("回显结果 - linkSelectValue1:",ee.value),console.log("回显结果 - title_list:",le.value.title_list),console.log("回显结果 - _cunchu:",le.value._cunchu)},Se=e=>{J.value=e,le.value=ve.value[e]||{},le.value.title_list||(le.value.title_list=[]),le.value._cunchu||(le.value._cunchu=""),Xe()},je=e=>{le.value._cunchu?le.value._cunchu=le.value._cunchu+"->"+e:le.value._cunchu=e,J.value>=0&&(ve.value[J.value]={...ve.value[J.value],...le.value}),Je()},We=e=>{if(""===e||void 0===e)return!1;const l=Z.value;if(""===l||"请选择"===l)return!1;let a="";if("list"===e){const e=l.split("+");l.indexOf("news")>=0?a="#!c/showNews/a/label/label/"+e[0]:l.indexOf("expert")>=0&&(a="#!c/showExpert/a/label/label/"+e[0])}else if(l.indexOf("news")>=0){const l=e.split("+");a="#!c/showNews/a/index/id/"+l[1]+"/label/"+l[0]}else if(l.indexOf("expert")>=0){const l=e.split("+");a="#!c/showExpert/a/index/id/"+l[1]+"/label/"+l[0]}le.value.url=a,J.value>=0&&(ve.value[J.value]={...ve.value[J.value],...le.value}),Je()},Ue=()=>{de.value.banners&&de.value.banners.length>0&&(oe.value=(oe.value+1)%de.value.banners.length)},Be=()=>{de.value.autoPlay&&de.value.banners&&de.value.banners.length>1&&(re.value=setInterval(()=>{Ue()},1e3*de.value.interval))},Ae=()=>{re.value&&(clearInterval(re.value),re.value=null)},Me=()=>{de.value.autoPlay&&(Ae(),Be()),ll()},De=e=>{const a=2048,t=e.size/1024;if(t>a)return l.$message.error("附件大小不能大于"+a/1024+"M！"),!1;const s=e.type.startsWith("image/");return s?(ie.value.userfile=e,!0):(l.$message.error("请选择图片文件！"),!1)},Te=(e,a)=>{if(e&&e.list){const a={image:l.$store.state.BaseUrl+e.list,title:`Banner ${de.value.banners.length+1}`,url:"",originalData:{show_img:e.list,url:"",title:`Banner ${de.value.banners.length+1}`,target:1,bg_img:""}};de.value.banners.push(a),1===de.value.banners.length&&(oe.value=0),de.value.autoPlay&&de.value.banners.length>1&&(Ae(),Be()),ll(),ie.value.list=e.list}},Pe=e=>{const a=2048,t=e.size/1024;if(t>a)return l.$message.error("附件大小不能大于"+a/1024+"M！"),!1;const s=e.type.startsWith("image/");return s?(ie.value.userfile=e,!0):(l.$message.error("请选择图片文件！"),!1)},ze=(e,a)=>{e&&e.list&&ce.value>=0&&(de.value.banners[ce.value]={image:l.$store.state.BaseUrl+e.list,title:de.value.banners[ce.value].title,url:de.value.banners[ce.value].url||"",originalData:{show_img:e.list,url:de.value.banners[ce.value].url||"",title:de.value.banners[ce.value].title,target:1,bg_img:""}},ll(),ce.value=-1,ie.value.list=e.list)},Oe=e=>{ce.value=e},Ne=e=>{de.value.banners&&de.value.banners.length>0&&(de.value.banners.splice(e,1),oe.value>=de.value.banners.length&&(oe.value=Math.max(0,de.value.banners.length-1)),de.value.autoPlay&&de.value.banners.length>1?(Ae(),Be()):de.value.banners.length<=1&&Ae(),ll())},qe=(e,l)=>{if(!de.value.banners||de.value.banners.length<=1)return;const a="up"===l?e-1:e+1;if(a<0||a>=de.value.banners.length)return;const t=de.value.banners[e];de.value.banners[e]=de.value.banners[a],de.value.banners[a]=t,oe.value===e?oe.value=a:oe.value===a&&(oe.value=e),ll()},He=e=>{const a=2048,t=e.size/1024;if(t>a)return l.$message.error("附件大小不能大于"+a/1024+"M！"),!1;const s=e.type.startsWith("image/");return s?(ie.value.userfile=e,!0):(l.$message.error("请选择图片文件！"),!1)},Qe=(e,a)=>{e&&e.list&&-1!==J.value&&(ve.value[J.value].image=l.$store.state.BaseUrl+e.list,ve.value[J.value].icon=l.$store.state.BaseUrl+e.list,ve.value[J.value].originalData={...ve.value[J.value].originalData,show_img:e.list},ll(),ie.value.list=e.list,l.$message.success("图标上传成功！"))},Ye=e=>{if(e&&J.value>=0){let l="";switch(e.includes("+expert")||e.includes("+news")||(le.value.title_list=[],le.value._cunchu="",ee.value=""),e){case"center/show":l=`center/show?sid=${ae.value}&mid=${te.value}`;break;case"center/show#!c/centerRegister/a/index":l=`center/show?sid=${ae.value}&mid=${te.value}#!c/centerRegister/a/index`;break;case"center/show#!c/centerRegister/a/team":l=`center/show?sid=${ae.value}&mid=${te.value}#!c/centerRegister/a/team`;break;case"center/show#!c/centerHotel/a/index":l=`center/show?sid=${ae.value}&mid=${te.value}#!c/centerHotel/a/index`;break;case"center/show#!c/centerHotel/a/team":l=`center/show?sid=${ae.value}&mid=${te.value}#!c/centerHotel/a/team`;break;case"center/show#!c/centerPapers/a/plist":l=`center/show?sid=${ae.value}&mid=${te.value}#!c/centerPapers/a/plist`;break;case"/?sid=#!c/showMeetingScheduleTotal/a/index":l=`/?sid=${ae.value}&mid=${te.value}#!c/showMeetingScheduleTotal/a/index`;break;case"/?sid=#!c/showExpert/a/label":l=`/?sid=${ae.value}&mid=${te.value}#!c/showExpert/a/label`;break;case"/?sid=#!c/showCooperation/a/label":l=`/?sid=${ae.value}&mid=${te.value}#!c/showCooperation/a/label`;break;case"/?sid=#!c/showMeetingScheduleTotal/a/schedulPeople":l=`/?sid=${ae.value}&mid=${te.value}#!c/showMeetingScheduleTotal/a/schedulPeople`;break;default:if(e&&""!==e&&void 0!==e){if(e.includes("+expert")){const a=e.split("+")[0],t=Array.isArray(me.value.expert)?me.value.expert:Object.values(me.value.expert||{}),s=t.find(e=>e.id==a);s&&s.news?le.value.title_list=s.news:le.value.title_list=[],l=`#!c/showExpert/a/label/label/${a}`;for(const e of t)if(e.id==a){le.value._cunchu="专家栏目("+e.titleCn+")";break}}else if(e.includes("+news")){const a=e.split("+")[0],t=Array.isArray(me.value.news)?me.value.news:Object.values(me.value.news||{}),s=t.find(e=>e.id==a);s&&s.news?le.value.title_list=s.news:le.value.title_list=[],l=`#!c/showNews/a/label/label/${a}`;for(const e of t)if(e.id==a){le.value._cunchu="新闻栏目("+e.title+")";break}}}else l=e,le.value.title_list=[],le.value._cunchu="请选择"}ve.value[J.value].url=l,ve.value[J.value]&&(ve.value[J.value]={...ve.value[J.value],...le.value}),Je()}},Ge=e=>{const l=J.value;if(!(l<0||l>=ve.value.length)){if("left"===e&&l>0){const e=ve.value[l];ve.value[l]=ve.value[l-1],ve.value[l-1]=e,J.value=l-1}else if("right"===e&&l<ve.value.length-1){const e=ve.value[l];ve.value[l]=ve.value[l+1],ve.value[l+1]=e,J.value=l+1}ve.value.forEach((e,l)=>{e.originalIndex=l+1}),Je()}},Je=()=>{ll()},Ze=(0,u.KR)(null),el=async()=>{Y.value=!0;try{const e={meetingId:a.query.meeting,lang:"mcn"};l.$Loadimg.showLoading();const t=await l.$http.article.FastMeetinggetSiteConfig(e);if(l.$Loadimg.hideLoading(),1===t.data.status&&t.data.list.data&&t.data.list.data.mcn){const e=t.data.list.data.mcn;if(Ze.value={siteConfigId:e.siteConfigId,siteTemplateId:e.siteTemplateId,id:e.id,data:e.data},ae.value=e.id,Re.value=e.siteTemplateId,me.value.data.mcn=e,t.data.list.expert&&(me.value.expert=t.data.list.expert),t.data.list.news&&(me.value.news=t.data.list.news),t.data.list.copyright&&(me.value.copyright=t.data.list.copyright),t.data.list.icp&&(me.value.icp=t.data.list.icp),e.data.templateSlider&&(e.data.templateSlider.content&&Array.isArray(e.data.templateSlider.content)&&(de.value.banners=e.data.templateSlider.content.map((e,a)=>({image:l.$store.state.BaseUrl+e.show_img,title:e.title||`Banner ${a+1}`,url:e.url||"",originalData:e})),de.value.banners.length>0&&(oe.value=0)),e.data.templateSlider.time&&(de.value.interval=e.data.templateSlider.time)),e.data.templateNav){let a=e.data.templateNav;if(console.log(a,"navData"),ve.value=[],"object"!==typeof a||null===a||Array.isArray(a))Array.isArray(a)&&(ve.value=a.slice(0,9).map((e,a)=>{const t=e.show_img?l.$store.state.BaseUrl+e.show_img:"";return{title:e.title||`导航 ${a+1}`,image:t,icon:t,url:e.url||"",jump:void 0!==e.jump?e.jump:1,status:void 0!==e.status?e.status:1,originalData:e,originalIndex:a+1,title_list:e.title_list||[],_cunchu:e._cunchu||"",new:e.new||0}}));else for(let e=1;e<=9;e++){const t=a[e];if(t){const a=t.show_img?l.$store.state.BaseUrl+t.show_img:"";ve.value.push({title:t.title||`导航 ${e}`,image:a,icon:a,url:t.url||"",jump:void 0!==t.jump?t.jump:1,status:void 0!==t.status?t.status:1,originalData:t,originalIndex:e,title_list:t.title_list||[],_cunchu:t._cunchu||"",new:t.new||0})}else ve.value.push({title:`导航 ${e}`,image:"",icon:"",url:"",jump:1,status:1,originalData:null,originalIndex:e,title_list:[],_cunchu:"",new:t.new||0})}console.log(ve.value,"navigationItems.value")}de.value.autoPlay&&de.value.banners.length>1&&(Ae(),Be())}else o.nk.error(t.data.msg||"获取移动端站点配置失败")}catch(e){console.error("获取移动端站点配置失败:",e),o.nk.error("获取移动端站点配置失败"),l.$Loadimg.hideLoading()}finally{Y.value=!1}},ll=async()=>{try{if(!Ze.value)return void o.nk.error("配置数据未加载，请刷新页面重试");const e=de.value.banners.map((e,a)=>({show_img:e.originalData?e.originalData.show_img:e.image.startsWith(l.$store.state.BaseUrl)?e.image.replace(l.$store.state.BaseUrl,""):e.image,url:e.url||"",title:e.title||`Banner ${a+1}`,target:1,bg_img:""})),t={};ve.value.forEach((e,a)=>{const s=e.originalIndex||a+1;let u="";u=e.originalData&&e.originalData.show_img?e.originalData.show_img:e.image&&e.image.startsWith(l.$store.state.BaseUrl)?e.image.replace(l.$store.state.BaseUrl,""):e.icon&&e.icon.startsWith(l.$store.state.BaseUrl)?e.icon.replace(l.$store.state.BaseUrl,""):e.image||e.icon||"",t[s]={title:e.title,show_img:u,url:e.url||"",jump:void 0!==e.jump?e.jump:1,status:void 0!==e.status?e.status:1,title_list:e.title_list||[],_cunchu:e._cunchu||"",new:e.new||0}});const s={...Ze.value.data,templateSlider:{content:e,time:de.value.interval},templateNav:t},u={type_vue:1,meetingId:a.query.meeting,siteConfigId:Ze.value.siteConfigId,siteTemplateId:Ze.value.siteTemplateId,id:Ze.value.id,data:btoa(encodeURIComponent(JSON.stringify(s))),domain:null,expertSetting:null,kind:null,lang:"mcn",path:null,enable:0,only:0,paymentSetting:null,scheduleSetting:null,templateSetting:null,showSecond:3,adveSecond:3,adveStatus:0,adveImg:null,agreement_content:null,agreement_status:0};l.$Loadimg.showLoading();const n=await l.$http.article.updateSite(u);l.$Loadimg.hideLoading(),1===n.data.status?(console.log("轮播图配置保存成功"),o.nk.success("操作成功！"),Ze.value.data=s):o.nk.error(n.data.msg||"保存失败")}catch(e){console.error("保存轮播图配置失败:",e),o.nk.error("保存轮播图配置失败"),l.$Loadimg.hideLoading()}},al=e=>{const a=2048,t=e.size/1024;if(t>a)return l.$message.error("附件大小不能大于"+a/1024+"M！"),!1;const s=e.type.startsWith("image/");return s?(ie.value.userfile=e,!0):(l.$message.error("请选择图片文件！"),!1)},tl=(e,a)=>{e&&e.list&&(me.value.data.mcn.data.templateCountdown.img=e.list,sl(),ie.value.list=e.list,l.$message.success("倒计时背景图上传成功！"))},sl=()=>{ll()},ul=()=>{l.$message.error("您没有权限修改此配置项，请联系管理员开通版权功能")};return(0,t.sV)(()=>{const e=()=>{const e=new Date;G.value=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`};e(),setInterval(e,6e4),Ve(),el()}),(0,t.xo)(()=>{Ae()}),(e,a)=>{const i=(0,t.g2)("el-icon"),o=(0,t.g2)("el-button"),te=(0,t.g2)("el-upload"),ie=(0,t.g2)("el-input-number"),re=(0,t.g2)("el-form-item"),ce=(0,t.g2)("el-input"),Ve=(0,t.g2)("el-option"),Xe=(0,t.g2)("el-select"),Ue=(0,t.g2)("el-switch"),Be=(0,t.g2)("el-date-picker"),Ae=(0,t.g2)("el-form"),Ze=(0,t.g2)("el-skeleton");return Y.value?((0,t.uX)(),(0,t.CE)("div",Q,[(0,t.bF)(Ze,{rows:3,animated:""})])):((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",v,[(0,t.Lk)("div",m,[(0,t.Lk)("div",g,(0,s.v_)(G.value),1),(0,t.Lk)("div",p,[(0,t.bF)(i,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.Connection))]),_:1}),(0,t.bF)(i,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.Iphone))]),_:1}),(0,t.bF)(i,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.List))]),_:1})])]),(0,t.Lk)("div",{class:"relative h-48 bg-gray-100 cursor-pointer overflow-hidden",onClick:Ke},[(0,t.Lk)("div",b,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(de.value.banners,(e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:(0,s.C4)(["absolute inset-0 transition-all duration-500 ease-in-out",oe.value===l?"opacity-100 z-10":"opacity-0 z-0"])},[(0,t.Lk)("img",{src:e.image,class:"w-full h-full object-cover",alt:`Banner ${l+1}`},null,8,h)],2))),128))])]),(0,t.Lk)("div",f,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ve.value,(e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"flex flex-col items-center cursor-pointer group",onClick:e=>Se(l)},[(0,t.Lk)("div",{class:(0,s.C4)(["aspect-square w-full rounded-lg overflow-hidden transition-transform group-hover:scale-105 mb-2",{"ring-2 ring-blue-500":J.value===l}])},[(0,t.bo)((0,t.Lk)("div",k,[(0,t.Lk)("img",{src:e.image,class:"w-full h-full object-cover"},null,8,_),a[17]||(a[17]=(0,t.Lk)("div",{class:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"},null,-1))],512),[[n.aG,1==e.status]])],2),(0,t.bo)((0,t.Lk)("span",{class:"text-gray-700 text-sm font-medium text-center group-hover:text-blue-500 transition-colors"},(0,s.v_)(e.title),513),[[n.aG,1==e.status]])],8,w))),128))])]),(0,t.Lk)("div",x,[(0,t.Lk)("div",y,[(0,t.Lk)("h2",C,[(0,t.Lk)("span",null,(0,s.v_)(Ee.value)+"配置",1)])]),(0,t.bF)(Ae,{model:de.value,"label-width":"100px"},{default:(0,t.k6)(()=>[-1===J.value?((0,t.uX)(),(0,t.Wv)(re,{key:0,label:"Banner轮播图"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",L,[de.value.banners&&de.value.banners.length>0?((0,t.uX)(),(0,t.CE)("div",F,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(de.value.banners,(e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg"},[(0,t.Lk)("div",$,[(0,t.Lk)("img",{src:e.image,class:"w-full h-full object-cover"},null,8,I)]),(0,t.Lk)("div",R,[(0,t.Lk)("div",V,"Banner "+(0,s.v_)(l+1),1),a[18]||(a[18]=(0,t.Lk)("div",{class:"text-xs text-gray-500"},"点击下方按钮可更换图片",-1))]),(0,t.Lk)("div",E,[(0,t.bF)(te,{action:ne.value,headers:ue.value,data:se.value,name:"userfile","show-file-list":!1,"before-upload":Pe,"on-success":ze,onClick:()=>Oe(l)},{default:(0,t.k6)(()=>[(0,t.bF)(o,{size:"small",type:"primary",icon:(0,u.R1)(r.Edit)},{default:(0,t.k6)(()=>[...a[19]||(a[19]=[(0,t.eW)(" 更换 ",-1)])]),_:1},8,["icon"])]),_:1},8,["action","headers","data","onClick"]),(0,t.bF)(o,{size:"small",onClick:()=>qe(l,"up"),disabled:0===l},{default:(0,t.k6)(()=>[...a[20]||(a[20]=[(0,t.eW)(" 上移 ",-1)])]),_:1},8,["onClick","disabled"]),(0,t.bF)(o,{size:"small",onClick:()=>qe(l,"down"),disabled:l===de.value.banners.length-1},{default:(0,t.k6)(()=>[...a[21]||(a[21]=[(0,t.eW)(" 下移 ",-1)])]),_:1},8,["onClick","disabled"]),(0,t.bF)(o,{size:"small",type:"danger",onClick:()=>Ne(l)},{default:(0,t.k6)(()=>[...a[22]||(a[22]=[(0,t.eW)(" 删除 ",-1)])]),_:1},8,["onClick"])])]))),128))])):(0,t.Q3)("",!0),(0,t.bF)(te,{class:"banner-uploader group relative flex items-center justify-center bg-gray-50 overflow-hidden transition-all duration-300 hover:bg-gray-100",action:ne.value,headers:ue.value,data:se.value,name:"userfile","show-file-list":!1,"before-upload":De,"on-success":Te},{default:(0,t.k6)(()=>[(0,t.Lk)("div",K,[(0,t.bF)(i,{class:"text-3xl text-gray-400"},{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.Plus))]),_:1}),a[23]||(a[23]=(0,t.Lk)("span",{class:"text-gray-500"},"点击添加 Banner 图片",-1))])]),_:1},8,["action","headers","data"]),de.value.banners&&de.value.banners.length>1?((0,t.uX)(),(0,t.CE)("div",X,[de.value.autoPlay?((0,t.uX)(),(0,t.Wv)(re,{key:0,label:"播放间隔"},{default:(0,t.k6)(()=>[(0,t.bF)(ie,{modelValue:de.value.interval,"onUpdate:modelValue":a[0]||(a[0]=e=>de.value.interval=e),min:1,max:10,step:1,onChange:Me,style:{width:"120px"}},null,8,["modelValue"]),a[24]||(a[24]=(0,t.Lk)("span",{class:"ml-2 text-sm text-gray-500"},"秒",-1))]),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",S,[(0,t.Lk)("h4",j,[(0,t.bF)(i,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.InfoFilled))]),_:1}),a[25]||(a[25]=(0,t.eW)("图片上传说明 ",-1))]),a[26]||(a[26]=(0,t.Lk)("ul",{class:"text-sm text-blue-600 space-y-1"},[(0,t.Lk)("li",null,"• 建议尺寸：750 x 400px"),(0,t.Lk)("li",null,"• 支持格式：JPG、PNG"),(0,t.Lk)("li",null,"• 图片大小：不超过 2MB"),(0,t.Lk)("li",null,"• 可上传多张图片形成轮播效果")],-1))])]),_:1})):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(re,{label:"模块标题"},{default:(0,t.k6)(()=>[(0,t.bF)(ce,{modelValue:ve.value[J.value].title,"onUpdate:modelValue":a[1]||(a[1]=e=>ve.value[J.value].title=e),placeholder:"请输入模块标题",onBlur:Je},null,8,["modelValue"])]),_:1}),(0,t.bF)(re,{label:"图标"},{default:(0,t.k6)(()=>[(0,t.bF)(te,{class:"icon-uploader",action:ne.value,headers:ue.value,data:se.value,name:"userfile","show-file-list":!1,"before-upload":He,"on-success":Qe},{default:(0,t.k6)(()=>[ve.value[J.value]?.image?((0,t.uX)(),(0,t.CE)("img",{key:0,src:ve.value[J.value].image,class:"w-32 h-32 object-cover rounded"},null,8,W)):((0,t.uX)(),(0,t.Wv)(i,{key:1,class:"icon-uploader-icon"},{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(r.Plus))]),_:1}))]),_:1},8,["action","headers","data"])]),_:1}),(0,t.bF)(re,{label:"链接"},{default:(0,t.k6)(()=>[(0,t.bF)(ce,{modelValue:ve.value[J.value].url,"onUpdate:modelValue":a[2]||(a[2]=e=>ve.value[J.value].url=e),placeholder:"请输入链接地址",onInput:Je},null,8,["modelValue"])]),_:1}),(0,t.bF)(re,{label:"链接快速定位"},{default:(0,t.k6)(()=>[(0,t.bF)(Xe,{modelValue:Z.value,"onUpdate:modelValue":a[3]||(a[3]=e=>Z.value=e),placeholder:"请选择",onChange:Ye,clearable:""},{default:(0,t.k6)(()=>[(0,t.bF)(Ve,{label:"请选择",value:""}),(0,t.bF)(Ve,{label:"个人中心",value:"center/show"}),(0,t.bF)(Ve,{label:"个人注册",value:"center/show#!c/centerRegister/a/index"}),(0,t.bF)(Ve,{label:"团队注册",value:"center/show#!c/centerRegister/a/team"}),(0,t.bF)(Ve,{label:"个人酒店预订",value:"center/show#!c/centerHotel/a/index"}),(0,t.bF)(Ve,{label:"团队酒店预订",value:"center/show#!c/centerHotel/a/team"}),(0,t.bF)(Ve,{label:"论文投稿",value:"center/show#!c/centerPapers/a/plist"}),(0,t.bF)(Ve,{label:"日程",value:"/?sid=#!c/showMeetingScheduleTotal/a/index"}),(0,t.bF)(Ve,{label:"嘉宾列表",value:"/?sid=#!c/showExpert/a/label"}),(0,t.bF)(Ve,{label:"合作企业列表",value:"/?sid=#!c/showCooperation/a/label"}),(0,t.bF)(Ve,{label:"任务专家介绍",value:"/?sid=#!c/showMeetingScheduleTotal/a/schedulPeople"}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Array.isArray(me.value.expert)?me.value.expert:Object.values(me.value.expert||{}),(e,l)=>((0,t.uX)(),(0,t.Wv)(Ve,{key:"expert-"+l,label:"专家栏目("+e.titleCn+")",value:e.id+"+expert"},{default:(0,t.k6)(()=>[(0,t.eW)(" 专家栏目("+(0,s.v_)(e.titleCn)+") ",1)]),_:2},1032,["label","value"]))),128)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Array.isArray(me.value.news)?me.value.news:Object.values(me.value.news||{}),(e,l)=>((0,t.uX)(),(0,t.Wv)(Ve,{key:"news-"+l,label:"新闻栏目("+e.title+")",value:e.id+"+news"},{default:(0,t.k6)(()=>[(0,t.eW)(" 新闻栏目("+(0,s.v_)(e.title)+") ",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),le.value.title_list&&!1!==le.value.title_list&&le.value.title_list.length>0?((0,t.uX)(),(0,t.Wv)(re,{key:0,label:"详情列表"},{default:(0,t.k6)(()=>[(0,t.bF)(Xe,{size:"small",style:{width:"210px"},modelValue:ee.value,"onUpdate:modelValue":a[5]||(a[5]=e=>ee.value=e),onChange:We,placeholder:"请选择"},{default:(0,t.k6)(()=>[(0,t.bF)(Ve,{label:"列表",value:"list",onClick:a[4]||(a[4]=e=>je("列表"))},{default:(0,t.k6)(()=>[...a[27]||(a[27]=[(0,t.eW)(" 列表 ",-1)])]),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.value.title_list,(e,l)=>((0,t.uX)(),(0,t.CE)(t.FK,{key:l},[""!=le.value.title_list[0].expertLabelId&&void 0!=le.value.title_list[0].expertLabelId?((0,t.uX)(),(0,t.Wv)(Ve,{key:0,onClick:l=>je(e.nameCn),label:e.nameCn,value:e.expertLabelId+"+"+e.id+"+expert"},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(e.nameCn),1)]),_:2},1032,["onClick","label","value"])):(0,t.Q3)("",!0)],64))),128)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(le.value.title_list,(e,l)=>((0,t.uX)(),(0,t.CE)(t.FK,{key:l},[""!=le.value.title_list[0].newsLabelId&&void 0!=le.value.title_list[0].newsLabelId?((0,t.uX)(),(0,t.Wv)(Ve,{key:0,onClick:l=>je(e.subject),disabled:e.siteId!=ae.value,label:e.subject,value:e.newsLabelId+"+"+e.id+"+news"},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(e.subject)+(0,s.v_)(e.siteId==ae.value?"":"(网站不匹配)"),1)]),_:2},1032,["onClick","disabled","label","value"])):(0,t.Q3)("",!0)],64))),128))]),_:1},8,["modelValue"])]),_:1})):(0,t.Q3)("",!0),le.value.title_list&&!1!==le.value.title_list&&le.value.title_list.length>0?((0,t.uX)(),(0,t.Wv)(re,{key:1,label:"已选择"},{default:(0,t.k6)(()=>[(0,t.Lk)("span",null,(0,s.v_)(le.value._cunchu),1)]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(re,{label:"跳转功能"},{default:(0,t.k6)(()=>[(0,t.bF)(Ue,{modelValue:ve.value[J.value].jump,"onUpdate:modelValue":a[6]||(a[6]=e=>ve.value[J.value].jump=e),"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,onChange:Je},null,8,["modelValue"])]),_:1}),(0,t.bF)(re,{label:"是否显示"},{default:(0,t.k6)(()=>[(0,t.bF)(Ue,{modelValue:ve.value[J.value].status,"onUpdate:modelValue":a[7]||(a[7]=e=>ve.value[J.value].status=e),"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,onChange:Je},null,8,["modelValue"])]),_:1}),(0,t.bF)(re,{label:"移动位置"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",U,[(0,t.bF)(o,{size:"small",type:"primary",onClick:a[8]||(a[8]=e=>Ge("left")),disabled:0===J.value},{default:(0,t.k6)(()=>[...a[28]||(a[28]=[(0,t.eW)(" 向前 ",-1)])]),_:1},8,["disabled"]),(0,t.bF)(o,{size:"small",type:"primary",onClick:a[9]||(a[9]=e=>Ge("right")),disabled:J.value===ve.value.length-1},{default:(0,t.k6)(()=>[...a[29]||(a[29]=[(0,t.eW)(" 向后 ",-1)])]),_:1},8,["disabled"])])]),_:1}),(0,t.Lk)("div",B,[(0,t.bF)(re,{label:"去头部"},{default:(0,t.k6)(()=>[(0,t.bF)(Ue,{modelValue:me.value.data.mcn.data.templateTop,"onUpdate:modelValue":a[10]||(a[10]=e=>me.value.data.mcn.data.templateTop=e),"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,onChange:sl},null,8,["modelValue"])]),_:1}),me.value.data.mcn.data.templateCountdown&&34===Re.value?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(re,{label:"倒计时"},{default:(0,t.k6)(()=>[(0,t.bF)(Be,{modelValue:me.value.data.mcn.data.templateCountdown.content,"onUpdate:modelValue":a[11]||(a[11]=e=>me.value.data.mcn.data.templateCountdown.content=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",format:"YYYY-MM-DD",size:"small",onChange:sl},null,8,["modelValue"]),a[30]||(a[30]=(0,t.Lk)("div",{class:"text-sm text-gray-500 mt-1"},"不填默认使用会议开始时间",-1))]),_:1}),(0,t.bF)(re,{label:"倒计时背景图"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",A,[(0,t.bF)(te,{action:ne.value,headers:ue.value,data:se.value,name:"userfile","show-file-list":!1,"before-upload":al,"on-success":tl},{default:(0,t.k6)(()=>[me.value.data.mcn.data.templateCountdown.img?((0,t.uX)(),(0,t.CE)("img",{key:1,src:(0,u.R1)(l).$store.state.api+"/data/public/upload/image/"+me.value.data.mcn.data.templateCountdown.img,alt:"倒计时背景",class:"w-48 h-auto border rounded"},null,8,D)):((0,t.uX)(),(0,t.CE)("img",{key:0,src:(0,u.R1)(l).$store.state.api+"/assets/templates_site/mcn_mould1/assets/img/counttime.png",alt:"默认倒计时背景",class:"w-48 h-auto border rounded"},null,8,M)),(0,t.bF)(o,{type:"primary",size:"small",class:"ml-2"},{default:(0,t.k6)(()=>[...a[31]||(a[31]=[(0,t.eW)("选择图片",-1)])]),_:1})]),_:1},8,["action","headers","data"]),(0,t.Lk)("a",{href:(0,u.R1)(l).$store.state.api+"/assets/templates_site/mcn_mould1/assets/img/CountTimePsd.psb",target:"_blank"},[(0,t.bF)(o,{type:"primary",size:"small"},{default:(0,t.k6)(()=>[...a[32]||(a[32]=[(0,t.eW)("下载模版",-1)])]),_:1})],8,T)])]),_:1})],64)):(0,t.Q3)("",!0),(0,t.bF)(re,{label:"版权启用开关"},{default:(0,t.k6)(()=>[Ie.value?((0,t.uX)(),(0,t.Wv)(Ue,{key:0,modelValue:me.value.data.mcn.data.templateBottom,"onUpdate:modelValue":a[12]||(a[12]=e=>me.value.data.mcn.data.templateBottom=e),"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,onChange:sl},null,8,["modelValue"])):((0,t.uX)(),(0,t.CE)("span",{key:1,onClick:ul},[(0,t.bF)(Ue,{modelValue:me.value.data.mcn.data.templateBottom,"onUpdate:modelValue":a[13]||(a[13]=e=>me.value.data.mcn.data.templateBottom=e),"active-text":"启用","inactive-text":"关闭","active-value":1,"inactive-value":0,disabled:""},null,8,["modelValue"])]))]),_:1}),(0,t.bF)(re,{label:"版权信息"},{default:(0,t.k6)(()=>[void 0!==me.value.data.mcn.data.copyrightInfo?((0,t.uX)(),(0,t.Wv)(ce,{key:0,modelValue:me.value.data.mcn.data.copyrightInfo,"onUpdate:modelValue":a[14]||(a[14]=e=>me.value.data.mcn.data.copyrightInfo=e),placeholder:"请输入内容",size:"small",onBlur:sl},null,8,["modelValue"])):((0,t.uX)(),(0,t.Wv)(ce,{key:1,modelValue:me.value.copyright,"onUpdate:modelValue":a[15]||(a[15]=e=>me.value.copyright=e),placeholder:"请输入内容",size:"small",onBlur:sl},null,8,["modelValue"])),void 0!==me.value.data.mcn.data.icp?((0,t.uX)(),(0,t.CE)("div",P,(0,s.v_)(me.value.data.mcn.data.icp),1)):((0,t.uX)(),(0,t.CE)("div",z,(0,s.v_)(me.value.icp),1))]),_:1})]),(0,t.Lk)("div",O,[(0,t.Lk)("div",N,[a[33]||(a[33]=(0,t.Lk)("h3",{class:"text-lg font-medium"},"新闻页配置",-1)),(0,t.bF)(o,{type:"primary",class:"!rounded-button",onClick:fe},{default:(0,t.k6)(()=>[(0,t.eW)((0,s.v_)(pe.value?"取消新增新闻页":"新增新闻页"),1)]),_:1})]),pe.value?((0,t.uX)(),(0,t.CE)("div",q,[(0,t.bF)(Ae,{ref_key:"newsForm",ref:be,model:ge.value,rules:he.value,"label-width":"100px"},{default:(0,t.k6)(()=>[(0,t.bF)(re,{label:"新闻标题",prop:"title",required:""},{default:(0,t.k6)(()=>[(0,t.bF)(ce,{modelValue:ge.value.title,"onUpdate:modelValue":a[16]||(a[16]=e=>ge.value.title=e),placeholder:"请输入新闻标题",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(re,{label:"新闻内容"},{default:(0,t.k6)(()=>[(0,t.bF)(c.A,{class:"news-editor",value:ge.value.content,setting:we.value,onShow:ye,url:ke.value,accept:_e.value,"with-credentials":xe.value,onOnUploadFail:Ce,onOnUploadSuccess:Le},null,8,["value","setting","url","accept","with-credentials"])]),_:1}),(0,t.bF)(re,null,{default:(0,t.k6)(()=>[(0,t.Lk)("div",H,[(0,t.bF)(o,{type:"primary",onClick:$e},{default:(0,t.k6)(()=>[...a[34]||(a[34]=[(0,t.eW)(" 保存新闻 ",-1)])]),_:1}),(0,t.bF)(o,{onClick:Fe},{default:(0,t.k6)(()=>[...a[35]||(a[35]=[(0,t.eW)("重置",-1)])]),_:1})])]),_:1})]),_:1},8,["model","rules"])])):(0,t.Q3)("",!0)])],64))]),_:1},8,["model"])])]))}}},G=a(66262);const J=(0,G.A)(Y,[["__scopeId","data-v-45d2b54c"]]);var Z=J},67816:function(e,l,a){a.d(l,{A:function(){return x}});var t=a(20641),s=a(90033),u=a(50953),n=a(48548),i=a(71029),o=a(95531),r=a(40834);const c={class:"space-y-6 pb-80"},d={class:"bg-white rounded-lg shadow p-6"},v={class:"space-y-4"},m={key:0,class:"grid grid-cols-3 gap-6"},g=["onClick"],p=["src"],b={key:0,class:"absolute top-3 right-3 bg-blue-500 rounded-full w-[35px] h-[35px] flex items-center justify-center"},h={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3"},f={class:"text-white text-sm font-medium"},w={key:1,class:"loading-placeholder"};var k={__name:"MobileTemplateSelection",emits:["update:selectedTemplateData"],setup(e,{emit:l}){const a=(0,r.Pj)(),k=(0,i.lq)(),{proxy:_}=(0,t.nI)(),x=l,y=(0,t.EW)(()=>a.state.BaseUrl),C=(0,u.KR)(!0),L=(0,u.KR)([]),F=(0,u.KR)(null),$=(0,u.KR)(null),I=e=>{F.value===e?(F.value=null,x("update:selectedTemplateData",null)):(F.value=e,x("update:selectedTemplateData",{template:L.value[e],siteData:$.value}))},R=async()=>{try{C.value=!0;const e={meetingId:k.query.meeting,lang:"mcn"};_.$Loadimg.showLoading();const l=await _.$http.article.FastMeetinggetSite(e);if(_.$Loadimg.hideLoading(),1===l.data.status){if(L.value=l.data.list.template,$.value=l.data.list.data,l.data.list.data&&l.data.list.data.mcn&&l.data.list.data.mcn.siteTemplateId){const e=L.value.findIndex(e=>e.id===l.data.list.data.mcn.siteTemplateId);-1!==e&&(F.value=e,x("update:selectedTemplateData",{template:L.value[e],siteData:l.data.list.data}))}}else o.nk.error(l.data.msg)}catch(e){o.nk.error(e)}finally{C.value=!1}};return(0,t.sV)(()=>{R()}),(e,l)=>{const a=(0,t.g2)("el-icon"),i=(0,t.g2)("el-skeleton");return(0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",d,[l[1]||(l[1]=(0,t.Lk)("h2",{class:"text-xl font-medium mb-6"},"移动端模板选择",-1)),(0,t.Lk)("div",v,[l[0]||(l[0]=(0,t.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"中文微站模板（手机页面版）",-1)),C.value?((0,t.uX)(),(0,t.CE)("div",w,[(0,t.bF)(i,{rows:3,animated:""})])):((0,t.uX)(),(0,t.CE)("div",m,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(L.value,(e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:"mobile"+l,class:(0,s.C4)(["relative cursor-pointer rounded-lg overflow-hidden border-2 hover:border-blue-500 transition-all",{"border-blue-500":F.value===l,"border-gray-200":F.value!==l}]),onClick:e=>I(l)},[(0,t.Lk)("img",{src:y.value+"0000template"+e.id+".jpg",class:"w-full h-48 object-contain"},null,8,p),F.value===l?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.bF)(a,{class:"text-white text-xl"},{default:(0,t.k6)(()=>[(0,t.bF)((0,u.R1)(n.Select))]),_:1})])):(0,t.Q3)("",!0),(0,t.Lk)("div",h,[(0,t.Lk)("span",f,(0,s.v_)(e.title),1)])],10,g))),128))]))])])])}}};const _=k;var x=_}}]);