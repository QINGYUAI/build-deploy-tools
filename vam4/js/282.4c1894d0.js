"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[282],{282:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});a(18111),a(7588);var l=a(20641),o=a(50953),d=a(90033),i=a(74353),m=a.n(i);const n={class:"meeting_list"},u={class:"header",style:{display:"flex","justify-content":"space-between"}},c={class:"thefirselect"},s={class:"thefirselect"},r={class:"theday"},p={class:"thefirselect"},g={class:"thesedselect"},b={class:"meeting_table back_center_bg back_padding"},_={class:"pagination"};var v={__name:"recommended",setup(e,{expose:t}){const{proxy:a}=(0,l.nI)(),i=(0,o.Kh)({meeting_id:"",subject:"",committee_recommend_status:"",department_id:"",value:"",committeeSiteList:[],dictTotal:0,dictCurrentPage:1,dictPageSize:10,tableData:[]}),{meeting_id:v,subject:k,committee_recommend_status:h,department_id:f,value:F,committeeSiteList:w,dictTotal:S,dictCurrentPage:C,dictPageSize:L,tableData:R}=(0,o.QW)(i);function V(e){const t=/^[1-9]\d{0,8}$/;!1===t.test(e.committeeRecommendSort)&&(a.$message.error("请输入正整数"),e.committeeRecommendSort="")}function z(){i.meeting_id="",i.subject="",i.value="",i.department_id="",i.committee_recommend_status="",y()}function y(){let e="",t="";i.value&&(e=m()(i.value[0]).format("YYYY-MM-DD"),t=m()(i.value[1]).format("YYYY-MM-DD")),console.log(i.value);const l={type_vue:"1",meeting_id:i.meeting_id,department_id:i.department_id,subject:i.subject,startDate:e,endDate:t,committee_recommend_status:i.committee_recommend_status,page:i.dictCurrentPage,per_page:i.dictPageSize};a.$Loadimg.showLoading(),a.$http.article.recommend(l).then(e=>{a.$Loadimg.hideLoading(),1===e.data.status?(i.committeeSiteList=e.data.department_list,i.tableData=e.data.list,i.dictTotal=e.data.pageinfo.total,i.dictCurrentPage=e.data.pageinfo.page):a.$message.error(e.data.msg)})}function D(e){const t={type_vue:"1",committeeRecommendSort:e.committeeRecommendSort,committeeRecommendStatus:e.committeeRecommendStatus,id:e.id};a.$Loadimg.showLoading(),a.$http.article.editRecommend(t).then(e=>{a.$Loadimg.hideLoading(),1===e.data.status?(a.$message.success("修改成功"),y()):a.$message.error(e.data.msg)})}function j(e){let t="";return i.committeeSiteList&&i.committeeSiteList.forEach(a=>{console.log(a.title),a.committeeDepartmentId===e&&(t=a.title)}),console.log(t),t}function I(e){i.dictPageSize=e,y()}function P(e){i.dictCurrentPage=e,y()}return(0,l.sV)(()=>{y()}),t({meeting_id:v,subject:k,committee_recommend_status:h,department_id:f,value:F,committeeSiteList:w,dictTotal:S,dictCurrentPage:C,dictPageSize:L,tableData:R,shuzi:V,congzhi:z,editRecommend:D,departmentName:j,handleSizeChange:I,handleCurrentChange:P}),(e,t)=>{const a=(0,l.g2)("el-input"),i=(0,l.g2)("el-date-picker"),m=(0,l.g2)("el-option"),W=(0,l.g2)("el-select"),$=(0,l.g2)("el-button"),E=(0,l.g2)("el-table-column"),U=(0,l.g2)("el-switch"),Y=(0,l.g2)("el-table"),x=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",u,[(0,l.Lk)("div",null,[(0,l.Lk)("div",c,[(0,l.bF)(a,{modelValue:(0,o.R1)(v),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.i9)(v)?v.value=e:null),placeholder:"请输入会议ID",size:"small"},null,8,["modelValue"])]),(0,l.Lk)("div",s,[(0,l.bF)(a,{modelValue:(0,o.R1)(k),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.i9)(k)?k.value=e:null),placeholder:"请输入会议名称",size:"small"},null,8,["modelValue"])]),(0,l.Lk)("div",r,[(0,l.bF)(i,{modelValue:(0,o.R1)(F),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,o.i9)(F)?F.value=e:null),type:"daterange","range-separator":"-","start-placeholder":"请输入开始日期","end-placeholder":"请输入结束日期"},null,8,["modelValue"])]),(0,l.Lk)("div",p,[(0,l.bF)(W,{modelValue:(0,o.R1)(f),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,o.i9)(f)?f.value=e:null),size:"small",placeholder:"全部组织机构"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{value:""},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("全部组织机构",-1)])]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(w),e=>((0,l.uX)(),(0,l.Wv)(m,{key:e.committeeDepartmentId,label:e.title,value:e.committeeDepartmentId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,l.Lk)("div",g,[(0,l.bF)(W,{modelValue:(0,o.R1)(h),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,o.i9)(h)?h.value=e:null),placeholder:"全部推荐状态",size:"small"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{value:""},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.eW)("全部推荐状态",-1)])]),_:1}),(0,l.bF)(m,{label:"显示",value:"1"}),(0,l.bF)(m,{label:"隐藏",value:"0"})]),_:1},8,["modelValue"])])]),(0,l.Lk)("div",null,[(0,l.bF)($,{type:"primary",size:"small",onClick:t[5]||(t[5]=e=>y())},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.eW)("查询",-1)])]),_:1}),(0,l.bF)($,{size:"small",onClick:t[6]||(t[6]=e=>z())},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.eW)("重置",-1)])]),_:1})])]),(0,l.Lk)("div",b,[(0,l.bF)(Y,{data:(0,o.R1)(R),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)(E,{prop:"id",label:"会议ID"}),(0,l.bF)(E,{prop:"subject",label:"会议名称"},{default:(0,l.k6)(e=>[e.row.subject?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,d.v_)(e.row.subject),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,d.v_)(e.row.subjectEn),1)],64))]),_:1}),(0,l.bF)(E,{prop:"address",label:"会议举办地点"},{default:(0,l.k6)(e=>[e.row.address?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,d.v_)(e.row.address),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,d.v_)(e.row.addressEn),1)],64))]),_:1}),(0,l.bF)(E,{prop:"address",label:"组织机构"},{default:(0,l.k6)(e=>[(0,l.eW)((0,d.v_)(j(e.row.committeeDepartmentId)),1)]),_:1}),(0,l.bF)(E,{prop:"startDate",label:"开始时间"}),(0,l.bF)(E,{prop:"endDate",label:"结束时间"}),(0,l.bF)(E,{prop:"name",label:"会议推荐状态"},{default:(0,l.k6)(e=>[(0,l.bF)(U,{class:"switch","active-text":"展示","inactive-text":"隐藏",modelValue:e.row.committeeRecommendStatus,"onUpdate:modelValue":t=>e.row.committeeRecommendStatus=t,"active-value":1,"inactive-value":0,onClick:t=>D(e.row)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)(E,{prop:"name",label:"推荐排序(数字越大越靠前)"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{modelValue:e.row.committeeRecommendSort,"onUpdate:modelValue":t=>e.row.committeeRecommendSort=t,value:e.row.committeeRecommendSort?e.row.committeeRecommendSort:"",placeholder:"请输入",size:"small",style:{width:"100px"},onBlur:t=>D(e.row),onInput:t=>V(e.row)},null,8,["modelValue","onUpdate:modelValue","value","onBlur","onInput"])]),_:1})]),_:1},8,["data"]),(0,l.Lk)("div",_,[(0,l.bF)(x,{layout:"sizes,prev, pager, next, total","current-page":(0,o.R1)(C),total:(0,o.R1)(S),background:"","page-size":(0,o.R1)(L),onSizeChange:I,onCurrentChange:P},null,8,["current-page","total","page-size"])])])])}}},k=a(66262);const h=(0,k.A)(v,[["__scopeId","data-v-17adaa32"]]);var f=h}}]);