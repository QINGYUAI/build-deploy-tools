"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[4871],{24871:function(e,l,a){a.r(l),a.d(l,{default:function(){return I}});a(44114),a(18111),a(7588);var t=a(20641),o=a(50953),d=a(90033),i=a(71029),u=a(42555);const n={class:"back_bg back_padding meetingSign_row"},s={class:"back_center_bg back_padding management back_text",style:{"margin-bottom":"20px",padding:"20px 15px 0"}},m={class:"managementOut"},r={class:"management_row"},b={class:"col"},p={class:"col"},c={class:"management_row"},g={class:"col"},_={class:"col"},k={class:"management_row"},v={class:"col"},h={class:"col",style:{"justify-content":"flex-start"}},f={class:"management_row"},F={class:"col"},y={class:"management_row"},w={class:"col"},L={class:"management_row"},V={class:"col"},C={class:"back_center_bg back_padding management back_text",style:{"margin-bottom":"20px",padding:"20px 15px"}},z={class:"pagination"};var R={__name:"hotelReview",setup(e){const l=(0,i.lq)(),{proxy:a}=(0,t.nI)(),R=(0,i.rd)(),x=((0,o.KR)(null),(0,o.Kh)({hotel:"",hotel_id:"",room:"",full_name:"",room_id:"",in_date:"",team_id:"",user_id:"",refund_voucher:"",refund_audio_status:"-1",pageSize:10,page:1,total:"",datalist:"",teamlist:"",teamlistLading:!0})),{teamlist:W,hotel:I,hotel_id:X,room:S,in_date:E,team_id:q,user_id:A,refund_voucher:K,refund_audio_status:U,total:N,datalist:D,full_name:Q,room_id:Y,teamlistLading:$}=(0,o.QW)(x);function O(){const e={type_vue:1,meetingId:l.query.meeting};x.teamlistLading=!0,a.$http.article.hotelAssignment(e).then(e=>{1===e.data.status&&(console.log(e),x.teamlistLading=!1,x.hotel=e.data.hotellist,x.teamlist=e.data.teamlist)})}function M(e){u.A.state.nametitle=e.fullName||e.teamName||"",console.log(u.A.state.nametitle),e.teamId?R.push({path:"/meetingOrderteam",query:{meeting:l.query.meeting}}):R.push({path:"/meetingOrder",query:{meeting:l.query.meeting}})}function j(e){x.page=e,J()}function B(e){x.pageSize=e,J()}function G(e,a){console.log(e,a),R.push({path:"/reviewDetails",query:{id:e.orderId,type:a,meeting:l.query.meeting}})}function H(){x.hotel.forEach(e=>{x.hotel_id===e.hotelId&&(x.room=e.roomlist)}),x.hotel_id||(x.room=[],x.room_id="")}function J(){const e={type_vue:1,meetingId:l.query.meeting,hotel_id:x.hotel_id,in_date:x.in_date,team_id:x.team_id,user_id:x.user_id,refund_voucher:x.refund_voucher,refund_audio_status:x.refund_audio_status,room_id:x.room_id,full_name:x.full_name,page:x.page,per_page:x.pageSize};a.$Loadimg.showLoading(),a.$http.article.searchRefound(e).then(e=>{a.$Loadimg.hideLoading(),200==e.data.status&&(console.log(e),x.total=e.data.data.total,x.datalist=e.data.data.data)})}return(0,t.sV)(()=>{O(),J()}),(e,l)=>{const a=(0,t.g2)("el-option"),i=(0,t.g2)("el-select"),u=(0,t.g2)("el-form-item"),R=(0,t.g2)("el-input"),x=(0,t.g2)("el-button"),O=(0,t.g2)("el-date-picker"),P=(0,t.g2)("el-table-column"),T=(0,t.g2)("el-table"),Z=(0,t.g2)("el-pagination");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",s,[(0,t.Lk)("div",m,[(0,t.Lk)("div",r,[(0,t.Lk)("div",b,[(0,t.bF)(u,{label:"酒店名称："},{default:(0,t.k6)(()=>[(0,t.bF)(i,{size:"small",modelValue:(0,o.R1)(X),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,o.i9)(X)?X.value=e:null),placeholder:"请选择",onChange:l[1]||(l[1]=l=>H(e.item)),loading:(0,o.R1)($)},{default:(0,t.k6)(()=>[(0,t.bF)(a,{label:"全部",value:""}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,o.R1)(I),(e,l)=>((0,t.uX)(),(0,t.Wv)(a,{key:l,label:e.nameCn?e.nameCn:e.nameEn,value:e.hotelId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),(0,t.Lk)("div",p,[(0,t.bF)(u,{label:"是否上传凭证："},{default:(0,t.k6)(()=>[(0,t.bF)(i,{size:"small",modelValue:(0,o.R1)(K),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,o.i9)(K)?K.value=e:null),placeholder:"请选择"},{default:(0,t.k6)(()=>[(0,t.bF)(a,{label:"全部",value:""}),(0,t.bF)(a,{label:"是",value:"1"}),(0,t.bF)(a,{label:"否",value:"2"})]),_:1},8,["modelValue"])]),_:1})])]),(0,t.Lk)("div",c,[(0,t.Lk)("div",g,[(0,t.bF)(u,{label:"房型："},{default:(0,t.k6)(()=>[(0,t.bF)(i,{size:"small",modelValue:(0,o.R1)(Y),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,o.i9)(Y)?Y.value=e:null),placeholder:"请选择"},{default:(0,t.k6)(()=>[(0,t.bF)(a,{key:"0",label:"全部",value:""}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,o.R1)(S),e=>((0,t.uX)(),(0,t.Wv)(a,{key:e.value,label:e.nameCn?e.nameCn:e.nameEn,value:e.roomId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),(0,t.Lk)("div",_,[(0,t.bF)(u,{label:"审核状态："},{default:(0,t.k6)(()=>[(0,t.bF)(i,{size:"small",modelValue:(0,o.R1)(U),"onUpdate:modelValue":l[4]||(l[4]=e=>(0,o.i9)(U)?U.value=e:null),placeholder:"请选择"},{default:(0,t.k6)(()=>[(0,t.bF)(a,{label:"全部",value:"-1"}),(0,t.bF)(a,{label:"待审核",value:"1"}),(0,t.bF)(a,{label:"已通过",value:"2"}),(0,t.bF)(a,{label:"已驳回",value:"3"})]),_:1},8,["modelValue"])]),_:1})])]),(0,t.Lk)("div",k,[(0,t.Lk)("div",v,[(0,t.bF)(u,{label:"姓名："},{default:(0,t.k6)(()=>[(0,t.bF)(R,{size:"small",modelValue:(0,o.R1)(Q),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,o.i9)(Q)?Q.value=e:null),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",h,[(0,t.bF)(x,{type:"primary",size:"small",onClick:l[6]||(l[6]=e=>J())},{default:(0,t.k6)(()=>[...l[10]||(l[10]=[(0,t.eW)("搜索",-1)])]),_:1})])]),(0,t.Lk)("div",f,[(0,t.Lk)("div",F,[(0,t.bF)(u,{label:"入住时间："},{default:(0,t.k6)(()=>[(0,t.bF)(O,{modelValue:(0,o.R1)(E),"onUpdate:modelValue":l[7]||(l[7]=e=>(0,o.i9)(E)?E.value=e:null),type:"date",placeholder:"入住时间",size:"small","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})])]),(0,t.Lk)("div",y,[(0,t.Lk)("div",w,[(0,t.bF)(u,{label:"团队名称："},{default:(0,t.k6)(()=>[(0,t.bF)(i,{size:"small",modelValue:(0,o.R1)(q),"onUpdate:modelValue":l[8]||(l[8]=e=>(0,o.i9)(q)?q.value=e:null),placeholder:"请选择",filterable:"",loading:(0,o.R1)($)},{default:(0,t.k6)(()=>[(0,t.bF)(a,{label:"全部",value:""}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,o.R1)(W),e=>((0,t.uX)(),(0,t.Wv)(a,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})])]),(0,t.Lk)("div",L,[(0,t.Lk)("div",V,[(0,t.bF)(u,{label:"平台注册号："},{default:(0,t.k6)(()=>[(0,t.bF)(R,{size:"small",modelValue:(0,o.R1)(A),"onUpdate:modelValue":l[9]||(l[9]=e=>(0,o.i9)(A)?A.value=e:null),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})])])])]),(0,t.Lk)("div",C,[(0,t.bF)(T,{data:(0,o.R1)(D),stripe:"",style:{width:"100%"}},{default:(0,t.k6)(()=>[(0,t.bF)(P,{prop:"orderId",label:"id",width:"80"}),(0,t.bF)(P,{label:"酒店名称",width:"140",prop:"hotelName"}),(0,t.bF)(P,{label:"房型",width:"90",prop:"roomName"}),(0,t.bF)(P,{prop:"userId",label:"平台注册号",width:"135"}),(0,t.bF)(P,{label:"注册号",width:"135",prop:"participantId"}),(0,t.bF)(P,{label:"团队名称",width:"200",prop:"teamName"}),(0,t.bF)(P,{prop:"fullName",width:"98",label:"姓名"}),(0,t.bF)(P,{prop:"inDate",width:"150",label:"入住时间"}),(0,t.bF)(P,{label:"离店时间",width:"150",prop:"outDate"}),(0,t.bF)(P,{label:"应缴费",width:"130",prop:"receivable"}),(0,t.bF)(P,{label:"已缴费",width:"130",prop:"receipts"}),(0,t.bF)(P,{label:"缴费方式",width:"150"},{default:(0,t.k6)(e=>[(0,t.eW)((0,d.v_)(e.row.payment),1)]),_:1}),(0,t.bF)(P,{label:"是否上传凭证",width:"150"},{default:(0,t.k6)(e=>[(0,t.eW)((0,d.v_)(e.row.refundVoucher?"是":"否"),1)]),_:1}),(0,t.bF)(P,{label:"审核状态",width:"150"},{default:(0,t.k6)(e=>[1==e.row.refundAudioStatus?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.eW)(" 待审核 ")],64)):2==e.row.refundAudioStatus?((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.eW)(" 已通过 ")],64)):3==e.row.refundAudioStatus?((0,t.uX)(),(0,t.CE)(t.FK,{key:2},[(0,t.eW)(" 已驳回 ")],64)):(0,t.Q3)("",!0)]),_:1}),(0,t.bF)(P,{width:"250",label:"操作",fixed:"right"},{default:(0,t.k6)(e=>[1==e.row.refundAudioStatus?((0,t.uX)(),(0,t.Wv)(x,{key:0,style:{"margin-bottom":"5px"},size:"small",type:"danger",onClick:l=>G(e.row,0)},{default:(0,t.k6)(()=>[...l[11]||(l[11]=[(0,t.eW)("审批",-1)])]),_:1},8,["onClick"])):(0,t.Q3)("",!0),1!=e.row.refundAudioStatus?((0,t.uX)(),(0,t.Wv)(x,{key:1,style:{"margin-bottom":"5px"},size:"small",type:"danger",disabled:""},{default:(0,t.k6)(()=>[...l[12]||(l[12]=[(0,t.eW)("已审批",-1)])]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(x,{style:{"margin-bottom":"5px"},size:"small",type:"primary",onClick:l=>G(e.row,1)},{default:(0,t.k6)(()=>[...l[13]||(l[13]=[(0,t.eW)("查看",-1)])]),_:1},8,["onClick"]),(0,t.bF)(x,{style:{"margin-bottom":"5px"},size:"small",type:"primary",onClick:l=>M(e.row)},{default:(0,t.k6)(()=>[...l[14]||(l[14]=[(0,t.eW)("查看订单",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,t.Lk)("p",z,[(0,t.bF)(Z,{background:"","current-page":e.page,onSizeChange:B,onCurrentChange:j,"page-sizes":[10,20,30,40,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next, total",total:(0,o.R1)(N)},null,8,["current-page","page-size","total"])])])])}}},x=a(66262);const W=(0,x.A)(R,[["__scopeId","data-v-284692b4"]]);var I=W}}]);