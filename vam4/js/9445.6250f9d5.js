"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[9445],{29445:function(e,l,t){t.r(l),t.d(l,{default:function(){return ge}});t(44114);var a=t(20641),i=t(50953),s=t(90033),o=t(53751),d=t(71029);const n={class:"meetingSection_add"},u={class:"grid-content bg-purple"},r={class:"configure_list"},c={class:"configure_list"},p={class:"configure_list"},m={class:"configure_list"},g={class:"configure_list"},b={class:"configure_list"},h={class:"configure_list"},v={class:"configure_list"},_={class:"configure_list"},k={class:"grid-content bg-purple"},I={class:"configure_list"},f={class:"configure_list"},y={class:"courseware"};var F={__name:"meetingSection_add",props:["list"],emits:["invoiceconfigpaymentname"],setup(e,{expose:l,emit:t}){const F=(0,d.lq)(),L=(0,d.rd)(),{proxy:T}=(0,a.nI)(),C=e,{list:w}=(0,i.QW)(C),V=t,R=(0,i.Kh)({tableData:[],title:"",dateId:"",spaceId:"",isPaperStatus:"",startTime:"",endTime:"",isAudio:1,paperClassid:"",paperTopicid:"",number:"",courseware_date:""}),{tableData:S,title:W,dateId:X,spaceId:E,isPaperStatus:$,startTime:z,isAudio:D,paperClassid:K,paperTopicid:x,number:P,courseware_date:U,endTime:q}=(0,i.QW)(R);function A(){const e={type_vue:1,meetingId:F.query.meeting,title:R.title,startTime:G(R.startTime),endTime:G(R.endTime),meetingDateId:R.dateId,meetingRoomId:R.spaceId,isPaperStatus:R.isPaperStatus,classId:R.paperClassid,topicId:R.paperTopicid,isAudio:R.isAudio,num:R.number,nowTime:R.courseware_date},l=R;if(l.isPaperStatus){if(!l.paperClassid)return void T.$message.error("请选择类别");if(!l.paperTopicid)return void T.$message.error("请选择栏目")}T.$Loadimg.showLoading(),T.$http.article.GetAdd_meetingSection(e).then(e=>{if(1===e.data.status){var l=e.data.sessionId;R.isPaperStatus?(T.$message.success("小节添加成功！三秒后进入论文转化的日程展示列表"),setTimeout(()=>{T.$Loadimg.hideLoading(),L.push({path:"/meetingSection_paperList",query:{meeting:F.query.meeting,sessionId:l}})},3e3)):(T.$Loadimg.hideLoading(),T.$message({showClose:!0,message:"成功！",type:"success"}))}else T.$Loadimg.hideLoading(),T.$message({showClose:!0,message:e.data.msg,type:"error"});V("invoiceconfigpaymentname")})}function N(){const e={type_vue:1,meetingId:F.query.meeting,isPaperStatus:R.isPaperStatus,classId:R.paperClassid,isAudio:R.isAudio,topicId:R.paperTopicid};T.$Loadimg.showLoading(),T.$http.article.GetInfo_searchPapers(e).then(e=>{T.$Loadimg.hideLoading(),1===e.data.status&&(R.courseware_date=e.data.nowTime,R.number=e.data.num,R.tableData=e.data.list)})}function G(e){function l(e){return e<10?"0"+e:e}const t=new Date(e),a=l(t.getHours())+":"+l(t.getMinutes())+":"+l(t.getSeconds());return a}return l({list:w,tableData:S,title:W,dateId:X,spaceId:E,isPaperStatus:$,startTime:z,isAudio:D,paperClassid:K,paperTopicid:x,number:P,courseware_date:U,endTime:q,add_sure:A,jsPapers:N}),(e,l)=>{const t=(0,a.g2)("el-input"),d=(0,a.g2)("el-option"),F=(0,a.g2)("el-select"),L=(0,a.g2)("el-time-picker"),T=(0,a.g2)("el-switch"),C=(0,a.g2)("el-button"),V=(0,a.g2)("el-col"),R=(0,a.g2)("el-table-column"),G=(0,a.g2)("el-table"),Q=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(Q,{gutter:20},{default:(0,a.k6)(()=>[(0,a.bF)(V,{span:12},{default:(0,a.k6)(()=>[(0,a.Lk)("div",u,[(0,a.Lk)("div",r,[l[13]||(l[13]=(0,a.Lk)("span",null,"会议小节名称:",-1)),(0,a.bF)(t,{size:"small",modelValue:(0,i.R1)(W),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.i9)(W)?W.value=e:null),placeholder:"请输入内容"},null,8,["modelValue"]),l[14]||(l[14]=(0,a.Lk)("div",{class:"tishi"},"请输入会议小节名称",-1))]),(0,a.Lk)("div",c,[l[15]||(l[15]=(0,a.Lk)("span",null,"会议日期:",-1)),(0,a.bF)(F,{size:"small",modelValue:(0,i.R1)(X),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.i9)(X)?X.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(w).options_date,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.dateId,label:e.title,value:e.dateId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",p,[l[16]||(l[16]=(0,a.Lk)("span",null,"开始时间:",-1)),(0,a.bF)(L,{size:"small",modelValue:(0,i.R1)(z),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.i9)(z)?z.value=e:null),placeholder:"任意时间点"},null,8,["modelValue"]),l[17]||(l[17]=(0,a.Lk)("div",{class:"tishi"},"请输入开始时间例如：08:00:00",-1))]),(0,a.Lk)("div",m,[l[18]||(l[18]=(0,a.Lk)("span",null,"结束时间:",-1)),(0,a.bF)(L,{size:"small",modelValue:(0,i.R1)(q),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.i9)(q)?q.value=e:null),placeholder:"任意时间点"},null,8,["modelValue"]),l[19]||(l[19]=(0,a.Lk)("div",{class:"tishi"},"请输入结束时间例如：12:00:00",-1))]),(0,a.Lk)("div",g,[l[20]||(l[20]=(0,a.Lk)("span",null,"会议室:",-1)),(0,a.bF)(F,{size:"small",modelValue:(0,i.R1)(E),"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.i9)(E)?E.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(w).options_room,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.spaceId,label:e.title,value:e.spaceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",b,[l[21]||(l[21]=(0,a.Lk)("p",null,"是否为论文遴选小节",-1)),(0,a.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,i.R1)($),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,i.i9)($)?$.value=e:null),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),(0,a.bo)((0,a.Lk)("span",null,[(0,a.Lk)("div",h,[l[22]||(l[22]=(0,a.Lk)("span",null,"类别:",-1)),(0,a.bF)(F,{size:"small",modelValue:(0,i.R1)(K),"onUpdate:modelValue":l[6]||(l[6]=e=>(0,i.i9)(K)?K.value=e:null),placeholder:"请选择",onChange:l[7]||(l[7]=e=>N())},{default:(0,a.k6)(()=>[(0,a.bF)(d,{label:"请选择",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(w).paperClass,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.classId,label:e.classId+"-"+e.title,value:e.classId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",v,[l[23]||(l[23]=(0,a.Lk)("span",null,"栏目:",-1)),(0,a.bF)(F,{size:"small",modelValue:(0,i.R1)(x),"onUpdate:modelValue":l[8]||(l[8]=e=>(0,i.i9)(x)?x.value=e:null),placeholder:"请选择",onChange:l[9]||(l[9]=e=>N())},{default:(0,a.k6)(()=>[(0,a.bF)(d,{label:"请选择",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(w).paperTopic_cn,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.topicId,label:e.topicTitle,value:e.topicId,disabled:1!=e.isLastTopic&&"disabled",style:(0,s.Tr)(1==e.isLastTopic?"":"background:#ccc")},{default:(0,a.k6)(()=>[0==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.topicTitle),1)],64)):1==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)("   ∟"+(0,s.v_)(e.topicTitle),1)],64)):2==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)("      ∟"+(0,s.v_)(e.topicTitle),1)],64)):3==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)("         ∟"+(0,s.v_)(e.topicTitle),1)],64)):4==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.eW)("            ∟"+(0,s.v_)(e.topicTitle),1)],64)):5==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64))]),_:2},1032,["label","value","disabled","style"]))),128)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(w).paperTopic_en,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.topicId,label:e.topicTitle,value:e.topicId,disabled:1!=e.isLastTopic&&"disabled",style:(0,s.Tr)(1==e.isLastTopic?"":"background:#ccc")},{default:(0,a.k6)(()=>[0==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.topicTitle),1)],64)):1==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)("   ∟"+(0,s.v_)(e.topicTitle),1)],64)):2==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)("      ∟"+(0,s.v_)(e.topicTitle),1)],64)):3==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)("         ∟"+(0,s.v_)(e.topicTitle),1)],64)):4==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.eW)("            ∟"+(0,s.v_)(e.topicTitle),1)],64)):5==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64))]),_:2},1032,["label","value","disabled","style"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",_,[l[24]||(l[24]=(0,a.Lk)("p",null,"是否选用已录取论文作为课件",-1)),(0,a.bF)(T,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,i.R1)(D),"onUpdate:modelValue":l[10]||(l[10]=e=>(0,i.i9)(D)?D.value=e:null),"active-value":1,"inactive-value":0,onChange:l[11]||(l[11]=e=>N())},null,8,["modelValue"])])],512),[[o.aG,1===(0,i.R1)($)]]),(0,a.Lk)("div",null,[(0,a.bF)(C,{size:"small",type:"primary",onClick:l[12]||(l[12]=e=>A())},{default:(0,a.k6)(()=>[...l[25]||(l[25]=[(0,a.eW)("保存",-1)])]),_:1})])])]),_:1}),(0,a.bF)(V,{span:12},{default:(0,a.k6)(()=>[(0,a.Lk)("div",k,[(0,a.Lk)("div",I,[(0,a.Lk)("p",null,[l[26]||(l[26]=(0,a.eW)("当前筛选课件",-1)),(0,a.Lk)("b",null,(0,s.v_)((0,i.R1)(P)),1),l[27]||(l[27]=(0,a.eW)("篇",-1))])]),(0,a.Lk)("div",f,[(0,a.Lk)("p",null,"当前选择课件时间："+(0,s.v_)((0,i.R1)(U)),1)]),(0,a.Lk)("div",y,[(0,a.bF)(G,{data:(0,i.R1)(S),style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(R,{prop:"title"})]),_:1},8,["data"])])])]),_:1})]),_:1})])}}},L=t(66262);const T=(0,L.A)(F,[["__scopeId","data-v-c03b324e"]]);var C=T;const w={class:"meetingSection_add"},V={class:"grid-content bg-purple"},R={class:"configure_list"},S={class:"configure_list"},W={class:"configure_list"},X={class:"configure_list"},E={class:"configure_list"},$={class:"configure_list"},z={class:"configure_list"},D={class:"configure_list"},K={class:"configure_list"},x={class:"grid-content bg-purple"},P={class:"configure_list"},U={class:"configure_list"},q={class:"courseware"};var A={__name:"meetingSection_edit",props:["list"],emits:["invoiceconfigpaymentname"],setup(e,{expose:l,emit:t}){const n=(0,d.lq)(),u=(0,d.rd)(),{proxy:r}=(0,a.nI)(),c=e,{list:p}=(0,i.QW)(c),m=t,g=(0,i.Kh)({tableData:[],title:"",dateId:"",spaceId:"",isPaperStatus:"",startTime:"",endTime:"",isAudio:1,paperClassid:"",paperTopicid:"",number:"",courseware_date:""}),{tableData:b,title:h,dateId:v,spaceId:_,isPaperStatus:k,startTime:I,endTime:f,isAudio:y,paperClassid:F,paperTopicid:L,number:T,courseware_date:C}=(0,i.QW)(g);function A(){g.title=c.list.row.title,g.dateId=c.list.row.dateId,g.startTime=c.list.row.startTime,g.spaceId=c.list.row.spaceId,g.paperTopicid=c.list.row.paperTopicId,g.paperClassid=c.list.row.paperClassId,g.isPaperStatus=c.list.row.paperSession,1===g.isPaperStatus&&G();var e=c.list.row.startTime.split(":"),l=c.list.row.endTime.split(":");g.startTime=new Date(0,0,0,e[0],e[1],e[2]),g.endTime=new Date(0,0,0,l[0],l[1],l[2])}function N(){console.log(c.list.row);const e={type_vue:1,meetingId:n.query.meeting,title:g.title,startTime:Q(g.startTime),endTime:Q(g.endTime),meetingDateId:g.dateId,meetingRoomId:g.spaceId,isPaperStatus:g.isPaperStatus,classId:g.paperClassid,topicId:g.paperTopicid,isAudio:g.isAudio,num:g.number,nowTime:g.courseware_date,secsionId:c.list.row.sessionId};r.$Loadimg.showLoading(),r.$http.article.GetSave_searchPapers(e).then(e=>{1===e.data.status?g.isPaperStatus?(r.$message.success("小节修改成功！三秒后进入论文转化的日程展示列表"),setTimeout(()=>{r.$Loadimg.hideLoading(),u.push({path:"/meetingSection_paperList",query:{meeting:n.query.meeting,sessionId:c.list.row.sessionId}})},3e3)):(r.$Loadimg.hideLoading(),r.$message({showClose:!0,message:"成功！",type:"success"})):(r.$Loadimg.hideLoading(),r.$message({showClose:!0,message:e.data.msg,type:"error"})),m("invoiceconfigpaymentname")})}function G(){const e={type_vue:1,meetingId:n.query.meeting,isPaperStatus:g.isPaperStatus,classId:g.paperClassid,isAudio:g.isAudio,topicId:g.paperTopicid};r.$Loadimg.showLoading(),r.$http.article.GetInfo_searchPapers(e).then(e=>{r.$Loadimg.hideLoading(),1===e.data.status&&(g.courseware_date=e.data.nowTime,g.number=e.data.num,g.tableData=e.data.list)})}function Q(e){function l(e){return e<10?"0"+e:e}const t=new Date(e),a=l(t.getHours())+":"+l(t.getMinutes())+":"+l(t.getSeconds());return a}return A(),l({list:p,tableData:b,title:h,dateId:v,spaceId:_,isPaperStatus:k,startTime:I,endTime:f,isAudio:y,paperClassid:F,paperTopicid:L,number:T,courseware_date:C,save_sure:N}),(e,l)=>{const t=(0,a.g2)("el-input"),d=(0,a.g2)("el-option"),n=(0,a.g2)("el-select"),u=(0,a.g2)("el-time-picker"),r=(0,a.g2)("el-switch"),c=(0,a.g2)("el-button"),m=(0,a.g2)("el-col"),g=(0,a.g2)("el-table-column"),A=(0,a.g2)("el-table"),Q=(0,a.g2)("el-row");return(0,a.uX)(),(0,a.CE)("div",w,[(0,a.bF)(Q,{gutter:20},{default:(0,a.k6)(()=>[(0,a.bF)(m,{span:12},{default:(0,a.k6)(()=>[(0,a.Lk)("div",V,[(0,a.Lk)("div",R,[l[13]||(l[13]=(0,a.Lk)("span",null,"会议小节名称:",-1)),(0,a.bF)(t,{size:"small",modelValue:(0,i.R1)(h),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.i9)(h)?h.value=e:null),placeholder:"请输入内容"},null,8,["modelValue"]),l[14]||(l[14]=(0,a.Lk)("div",{class:"tishi"},"请输入会议小节名称",-1))]),(0,a.Lk)("div",S,[l[15]||(l[15]=(0,a.Lk)("span",null,"会议日期:",-1)),(0,a.bF)(n,{size:"small",modelValue:(0,i.R1)(v),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.i9)(v)?v.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(p).options_date,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.dateId,label:e.title,value:e.dateId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",W,[l[16]||(l[16]=(0,a.Lk)("span",null,"开始时间:",-1)),(0,a.bF)(u,{size:"small",modelValue:(0,i.R1)(I),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.i9)(I)?I.value=e:null),placeholder:"任意时间点"},null,8,["modelValue"]),l[17]||(l[17]=(0,a.Lk)("div",{class:"tishi"},"请输入开始时间例如：08:00:00",-1))]),(0,a.Lk)("div",X,[l[18]||(l[18]=(0,a.Lk)("span",null,"结束时间:",-1)),(0,a.bF)(u,{size:"small",modelValue:(0,i.R1)(f),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.i9)(f)?f.value=e:null),placeholder:"任意时间点"},null,8,["modelValue"]),l[19]||(l[19]=(0,a.Lk)("div",{class:"tishi"},"请输入结束时间例如：12:00:00",-1))]),(0,a.Lk)("div",E,[l[20]||(l[20]=(0,a.Lk)("span",null,"会议室:",-1)),(0,a.bF)(n,{size:"small",modelValue:(0,i.R1)(_),"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.i9)(_)?_.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(p).options_room,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.spaceId,label:e.title,value:e.spaceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",$,[l[21]||(l[21]=(0,a.Lk)("p",null,"是否为论文遴选小节",-1)),(0,a.bF)(r,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,i.R1)(k),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,i.i9)(k)?k.value=e:null),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),(0,a.bo)((0,a.Lk)("span",null,[(0,a.Lk)("div",z,[l[22]||(l[22]=(0,a.Lk)("span",null,"类别:",-1)),(0,a.bF)(n,{size:"small",modelValue:(0,i.R1)(F),"onUpdate:modelValue":l[6]||(l[6]=e=>(0,i.i9)(F)?F.value=e:null),placeholder:"请选择",onChange:l[7]||(l[7]=e=>G())},{default:(0,a.k6)(()=>[(0,a.bF)(d,{label:"请选择",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(p).paperClass,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.classId,label:e.classId+"-"+e.title,value:e.classId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",D,[l[23]||(l[23]=(0,a.Lk)("span",null,"栏目:",-1)),(0,a.bF)(n,{size:"small",modelValue:(0,i.R1)(L),"onUpdate:modelValue":l[8]||(l[8]=e=>(0,i.i9)(L)?L.value=e:null),placeholder:"请选择",onChange:l[9]||(l[9]=e=>G())},{default:(0,a.k6)(()=>[(0,a.bF)(d,{label:"请选择",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(p).paperTopic_cn,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.topicId,label:e.topicTitle,value:e.topicId,disabled:1!=e.isLastTopic&&"disabled",style:(0,s.Tr)(1==e.isLastTopic?"":"background:#ccc")},{default:(0,a.k6)(()=>[0==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.topicTitle),1)],64)):1==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)("   ∟"+(0,s.v_)(e.topicTitle),1)],64)):2==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)("      ∟"+(0,s.v_)(e.topicTitle),1)],64)):3==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)("         ∟"+(0,s.v_)(e.topicTitle),1)],64)):4==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.eW)("            ∟"+(0,s.v_)(e.topicTitle),1)],64)):5==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64))]),_:2},1032,["label","value","disabled","style"]))),128)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(p).paperTopic_en,e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.topicId,label:e.topicTitle,value:e.topicId,disabled:1!=e.isLastTopic&&"disabled",style:(0,s.Tr)(1==e.isLastTopic?"":"background:#ccc")},{default:(0,a.k6)(()=>[0==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,s.v_)(e.topicTitle),1)],64)):1==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)("   ∟"+(0,s.v_)(e.topicTitle),1)],64)):2==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)("      ∟"+(0,s.v_)(e.topicTitle),1)],64)):3==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)("         ∟"+(0,s.v_)(e.topicTitle),1)],64)):4==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.eW)("            ∟"+(0,s.v_)(e.topicTitle),1)],64)):5==e.lev?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)("               ∟"+(0,s.v_)(e.topicTitle),1)],64))]),_:2},1032,["label","value","disabled","style"]))),128))]),_:1},8,["modelValue"])]),(0,a.Lk)("div",K,[l[24]||(l[24]=(0,a.Lk)("p",null,"是否选用已录取论文作为课件",-1)),(0,a.bF)(r,{class:"switch","active-text":"启用","inactive-text":"关闭",modelValue:(0,i.R1)(y),"onUpdate:modelValue":l[10]||(l[10]=e=>(0,i.i9)(y)?y.value=e:null),"active-value":1,"inactive-value":0,onChange:l[11]||(l[11]=e=>G())},null,8,["modelValue"])])],512),[[o.aG,1===(0,i.R1)(k)]]),(0,a.Lk)("div",null,[(0,a.bF)(c,{size:"small",type:"primary",onClick:l[12]||(l[12]=e=>N())},{default:(0,a.k6)(()=>[...l[25]||(l[25]=[(0,a.eW)("保存",-1)])]),_:1})])])]),_:1}),(0,a.bF)(m,{span:12},{default:(0,a.k6)(()=>[(0,a.Lk)("div",x,[(0,a.Lk)("div",P,[(0,a.Lk)("p",null,[l[26]||(l[26]=(0,a.eW)("当前筛选课件",-1)),(0,a.Lk)("b",null,(0,s.v_)((0,i.R1)(T)),1),l[27]||(l[27]=(0,a.eW)("篇",-1))])]),(0,a.Lk)("div",U,[(0,a.Lk)("p",null,"当前选择课件时间："+(0,s.v_)((0,i.R1)(C)),1)]),(0,a.Lk)("div",q,[(0,a.bF)(A,{data:(0,i.R1)(b),style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(g,{prop:"title"})]),_:1},8,["data"])])])]),_:1})]),_:1})])}}};const N=(0,L.A)(A,[["__scopeId","data-v-421a37aa"]]);var G=N;t(18111),t(61701);const Q={class:"meetingSchedule_add"},M={style:{float:"left"}};var j={__name:"meetingSchedule_add",props:{scheduleList:{type:Object,default:()=>({})},meetingSectionInfo:{type:Array,default:()=>[]}},emits:["refreshScheduleList"],setup(e,{emit:l}){const t=e,o=l,n=(0,i.KR)(null),{proxy:u}=(0,a.nI)(),r=(0,d.lq)(),c=(0,i.Kh)({loading:!1,meetingSectionList:[],scheduleForm:{meeting_id:"",title:"",description:"",priority:0,sessionIds:[],remark:""},scheduleRules:{title:[{required:!0,message:"请输入分会标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],priority:[{required:!0,message:"请输入排序",trigger:"blur"},{type:"number",message:"排序必须为数字",trigger:"blur"}],sessionIds:[{required:!0,message:"请选择关联的会议小节",trigger:"change",validator:(e,l,t)=>{l&&0!==l.length?t():t(new Error("请选择关联的会议小节"))}}],description:[{required:!0,message:"请输入描述",trigger:"blur"},{min:5,max:200,message:"长度在 5 到 200 个字符",trigger:"blur"}]}}),{loading:p,scheduleForm:m,scheduleRules:g,meetingSectionList:b}=(0,i.QW)(c);function h(){n.value.validate(e=>{if(e){c.loading=!0;const e={meetingId:r.query.meeting,title:c.scheduleForm.title,description:c.scheduleForm.description,priority:c.scheduleForm.priority,sessionIds:`[${c.scheduleForm.sessionIds.join(",")}]`,remark:c.scheduleForm.remark};console.log("最终提交数据格式:",e),console.log("sessionIds格式:",e.sessionIds),console.log("sessionIds类型:",typeof e.sessionIds),u.$http.article.addMeetingPlace(e).then(e=>{c.loading=!1,1===e.data.status?(u.$message({showClose:!0,message:"添加成功！",type:"success"}),o("refreshScheduleList")):u.$message({showClose:!0,message:e.data.message||"添加失败！",type:"error"})}).catch(e=>{c.loading=!1,u.$message({showClose:!0,message:"网络错误，请稍后重试！",type:"error"})})}else u.$message({showClose:!0,message:"请填写完整信息！",type:"warning"})})}function v(){n.value.resetFields(),c.scheduleForm={meeting_id:"",title:"",description:"",priority:0,sessionIds:[],remark:""}}return(0,a.wB)(()=>t.meetingSectionInfo,e=>{e&&e.length>0&&(c.meetingSectionList=e.map(e=>({sessionId:e.sessionId,title:e.title,startTime:e.startTime,endTime:e.endTime,dateId:e.dateId,spaceId:e.spaceId,meetingDateName:e.meetingDateName||"",meetingRoomName:e.meetingRoomName||""})),console.log("接收到的会议小节信息:",c.meetingSectionList))},{immediate:!0}),(0,a.sV)(()=>{t.meetingSectionInfo&&t.meetingSectionInfo.length>0&&(c.meetingSectionList=t.meetingSectionInfo.map(e=>({sessionId:e.sessionId,title:e.title,startTime:e.startTime,endTime:e.endTime,dateId:e.dateId,spaceId:e.spaceId,meetingDateName:e.meetingDateName||"",meetingRoomName:e.meetingRoomName||""})))}),(e,l)=>{const t=(0,a.g2)("el-input"),o=(0,a.g2)("el-form-item"),d=(0,a.g2)("el-col"),u=(0,a.g2)("el-input-number"),r=(0,a.g2)("el-option"),c=(0,a.g2)("el-select"),_=(0,a.g2)("el-row"),k=(0,a.g2)("el-button"),I=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",Q,[(0,a.bF)(I,{ref_key:"scheduleFormRef",ref:n,model:(0,i.R1)(m),rules:(0,i.R1)(g),"label-width":"120px"},{default:(0,a.k6)(()=>[(0,a.bF)(_,{gutter:20},{default:(0,a.k6)(()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"分会标题:",prop:"title"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",modelValue:(0,i.R1)(m).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.R1)(m).title=e),placeholder:"请输入分会标题"},null,8,["modelValue"])]),_:1})]),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"排序:",prop:"priority"},{default:(0,a.k6)(()=>[(0,a.bF)(u,{size:"small",modelValue:(0,i.R1)(m).priority,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.R1)(m).priority=e),min:0,max:9999,placeholder:"请输入排序",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"关联小节:",prop:"sessionIds"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"small",modelValue:(0,i.R1)(m).sessionIds,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.R1)(m).sessionIds=e),placeholder:"请选择关联的会议小节",multiple:"","collapse-tags":"",filterable:"",style:{width:"100%"}},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(b),e=>((0,a.uX)(),(0,a.Wv)(r,{key:e.sessionId,label:`${e.title}`,value:String(e.sessionId)},{default:(0,a.k6)(()=>[(0,a.Lk)("span",M,(0,s.v_)(e.title),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,a.bF)(o,{label:"描述:",prop:"description"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",type:"textarea",rows:4,modelValue:(0,i.R1)(m).description,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.R1)(m).description=e),placeholder:"请输入日程描述"},null,8,["modelValue"])]),_:1}),(0,a.bF)(o,{label:"备注:"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",type:"textarea",rows:3,modelValue:(0,i.R1)(m).remark,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.R1)(m).remark=e),placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1}),(0,a.bF)(o,null,{default:(0,a.k6)(()=>[(0,a.bF)(k,{size:"small",type:"primary",onClick:h,loading:(0,i.R1)(p)},{default:(0,a.k6)(()=>[...l[5]||(l[5]=[(0,a.eW)("保存",-1)])]),_:1},8,["loading"]),(0,a.bF)(k,{size:"small",onClick:v},{default:(0,a.k6)(()=>[...l[6]||(l[6]=[(0,a.eW)("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}};const B=(0,L.A)(j,[["__scopeId","data-v-6851cdc9"]]);var O=B;const H={class:"meetingSchedule_edit"},J={style:{float:"left"}};var Y={__name:"meetingSchedule_edit",props:{scheduleList:{type:Object,default:()=>({})},meetingSectionInfo:{type:Array,default:()=>[]}},emits:["refreshScheduleList"],setup(e,{emit:l}){const t=e,o=l,n=(0,i.KR)(null),{proxy:u}=(0,a.nI)(),r=(0,d.lq)(),c=(0,i.Kh)({loading:!1,meetingSectionList:[],scheduleForm:{meetingplaceId:"",meeting_id:"",title:"",description:"",priority:0,sessionIds:[],remark:""},scheduleRules:{title:[{required:!0,message:"请输入分会标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],priority:[{required:!0,message:"请输入排序",trigger:"blur"},{type:"number",message:"排序必须为数字",trigger:"blur"}],sessionIds:[{required:!0,message:"请选择关联的会议小节",trigger:"change",validator:(e,l,t)=>{l&&0!==l.length?t():t(new Error("请选择关联的会议小节"))}}],description:[{required:!0,message:"请输入描述",trigger:"blur"},{min:5,max:200,message:"长度在 5 到 200 个字符",trigger:"blur"}]}}),{loading:p,scheduleForm:m,scheduleRules:g,meetingSectionList:b}=(0,i.QW)(c);function h(e){if(!e)return[];try{if("string"===typeof e&&e.startsWith("[")&&e.endsWith("]")){const l=e.slice(1,-1);return""===l.trim()?[]:l.split(",").map(e=>String(e.trim()))}return Array.isArray(e)?e.map(e=>String(e)):[]}catch(l){return console.error("解析sessionIds失败:",l),[]}}function v(){n.value.validate(e=>{if(e){c.loading=!0;const e={meetingId:r.query.meeting,meetingplaceId:c.scheduleForm.meetingplaceId,title:c.scheduleForm.title,description:c.scheduleForm.description,priority:c.scheduleForm.priority,remark:c.scheduleForm.remark,sessionIds:`[${c.scheduleForm.sessionIds.join(",")}]`};console.log("编辑页面最终提交数据格式:",e),console.log("sessionIds格式:",e.sessionIds),console.log("sessionIds类型:",typeof e.sessionIds),u.$http.article.updateMeetingPlace(e).then(e=>{c.loading=!1,1===e.data.status?(u.$message({showClose:!0,message:"修改成功！",type:"success"}),o("refreshScheduleList")):u.$message({showClose:!0,message:e.data.message||"修改失败！",type:"error"})}).catch(e=>{c.loading=!1,u.$message({showClose:!0,message:"网络错误，请稍后重试！",type:"error"})})}else u.$message({showClose:!0,message:"请填写完整信息！",type:"warning"})})}function _(){t.scheduleList?.row&&"object"===typeof t.scheduleList.row?c.scheduleForm={meetingplaceId:t.scheduleList.row.meetingplaceId||"",meeting_id:t.scheduleList.row.meetingId||"",title:t.scheduleList.row.title||"",description:t.scheduleList.row.description||"",priority:t.scheduleList.row.priority||0,sessionIds:h(t.scheduleList.row.sessionIds)||[],remark:t.scheduleList.row.remark||""}:c.scheduleForm={meetingplaceId:"",meeting_id:"",title:"",description:"",priority:0,sessionIds:[],remark:""}}return(0,a.wB)(()=>t.meetingSectionInfo,e=>{e&&e.length>0&&(c.meetingSectionList=e.map(e=>({sessionId:e.sessionId,title:e.title,startTime:e.startTime,endTime:e.endTime,dateId:e.dateId,spaceId:e.spaceId,meetingDateName:e.meetingDateName||"",meetingRoomName:e.meetingRoomName||""})),console.log("编辑页接收到的会议小节信息:",c.meetingSectionList))},{immediate:!0}),(0,a.wB)(()=>t.scheduleList,e=>{if(e&&e.row&&Object.keys(e.row).length>0){const l=e.row;t.meetingSectionInfo&&t.meetingSectionInfo.length>0&&(c.meetingSectionList=t.meetingSectionInfo.map(e=>({sessionId:e.sessionId,title:e.title,startTime:e.startTime,endTime:e.endTime,dateId:e.dateId,spaceId:e.spaceId,meetingDateName:e.meetingDateName||"",meetingRoomName:e.meetingRoomName||""}))),c.scheduleForm={meetingplaceId:l.meetingplaceId||"",meeting_id:l.meetingId||"",title:l.title||"",description:l.description||"",priority:Number(l.priority)||0,sessionIds:h(l.sessionIds)||[],remark:l.remark||""},console.log("编辑数据回显:",{"原始sessionIds":l.sessionIds,"解析后sessionIds":c.scheduleForm.sessionIds,"表单数据":c.scheduleForm})}},{immediate:!0,deep:!0}),(0,a.sV)(()=>{t.meetingSectionInfo&&t.meetingSectionInfo.length>0&&(c.meetingSectionList=t.meetingSectionInfo.map(e=>({sessionId:e.sessionId,title:e.title,startTime:e.startTime,endTime:e.endTime,dateId:e.dateId,spaceId:e.spaceId,meetingDateName:e.meetingDateName||"",meetingRoomName:e.meetingRoomName||""})))}),(e,l)=>{const t=(0,a.g2)("el-input"),o=(0,a.g2)("el-form-item"),d=(0,a.g2)("el-col"),u=(0,a.g2)("el-input-number"),r=(0,a.g2)("el-option"),c=(0,a.g2)("el-select"),h=(0,a.g2)("el-row"),k=(0,a.g2)("el-button"),I=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",H,[(0,a.bF)(I,{ref_key:"scheduleFormRef",ref:n,model:(0,i.R1)(m),rules:(0,i.R1)(g),"label-width":"120px"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{gutter:20},{default:(0,a.k6)(()=>[(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"分会标题:",prop:"title"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",modelValue:(0,i.R1)(m).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.R1)(m).title=e),placeholder:"请输入分会标题"},null,8,["modelValue"])]),_:1})]),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"排序:",prop:"priority"},{default:(0,a.k6)(()=>[(0,a.bF)(u,{size:"small",modelValue:(0,i.R1)(m).priority,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.R1)(m).priority=e),min:0,max:9999,placeholder:"请输入排序",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,a.bF)(d,{span:12},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"关联小节:",prop:"sessionIds"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{size:"small",modelValue:(0,i.R1)(m).sessionIds,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.R1)(m).sessionIds=e),placeholder:"请选择关联的会议小节",multiple:"","collapse-tags":"",style:{width:"100%"}},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(b),e=>((0,a.uX)(),(0,a.Wv)(r,{key:e.sessionId,label:`${e.title}`,value:String(e.sessionId)},{default:(0,a.k6)(()=>[(0,a.Lk)("span",J,(0,s.v_)(e.title),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,a.bF)(o,{label:"描述:",prop:"description"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",type:"textarea",rows:4,modelValue:(0,i.R1)(m).description,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.R1)(m).description=e),placeholder:"请输入日程描述"},null,8,["modelValue"])]),_:1}),(0,a.bF)(o,{label:"备注:"},{default:(0,a.k6)(()=>[(0,a.bF)(t,{size:"small",type:"textarea",rows:3,modelValue:(0,i.R1)(m).remark,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.R1)(m).remark=e),placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1}),(0,a.bF)(o,null,{default:(0,a.k6)(()=>[(0,a.bF)(k,{size:"small",type:"primary",onClick:v,loading:(0,i.R1)(p)},{default:(0,a.k6)(()=>[...l[5]||(l[5]=[(0,a.eW)("保存修改",-1)])]),_:1},8,["loading"]),(0,a.bF)(k,{size:"small",onClick:_},{default:(0,a.k6)(()=>[...l[6]||(l[6]=[(0,a.eW)("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}};const Z=(0,L.A)(Y,[["__scopeId","data-v-4d483621"]]);var ee=Z;const le={class:"meetingSection"},te={class:"header"},ae={key:0},ie={key:0,style:{color:"#1aa15f"}},se={key:1,style:{color:"#dd4f43"}},oe={key:1},de={key:0},ne={key:1},ue={class:"block pagination_div"},re={class:"header"},ce={class:"block pagination_div"};var pe={__name:"meetingSection",setup(e,{expose:l}){const t=(0,d.lq)(),o=(0,d.rd)(),{proxy:n}=(0,a.nI)(),u=(0,i.Kh)({activeTab:"section",tableData:[],dialogVisible:!1,dialogVisibleedit:!1,value2:!0,total:0,per_page:0,currentPage:1,loading:!0,list:{},options_date:[],options_room:[],meeting_date_id:"",meeting_room_id:"",value:"",site:{},scheduleTableData:[],scheduleDialogVisible:!1,scheduleDialogVisibleEdit:!1,scheduleTotal:0,schedule_per_page:10,scheduleCurrentPage:1,scheduleLoading:!1,scheduleList:{row:{}},title:"",meetingplaceId:"",meetingSectionInfo:[]}),{activeTab:r,tableData:c,dialogVisible:p,dialogVisibleedit:m,value2:g,total:b,per_page:h,currentPage:v,loading:_,list:k,options_date:I,options_room:f,meeting_date_id:y,meeting_room_id:F,value:L,site:T,scheduleTableData:w,scheduleDialogVisible:V,scheduleDialogVisibleEdit:R,scheduleTotal:S,schedule_per_page:W,scheduleCurrentPage:X,scheduleLoading:E,scheduleList:$,title:z,meetingplaceId:D,meetingSectionInfo:K}=(0,i.QW)(u);function x(){Q()}function P(e){"schedule"===e.props.name&&H()}function U(e,l){console.log(e,l),u.list.row=l,u.dialogVisibleedit=!0}function q(e,l){const a={type_vue:1,meetingId:t.query.meeting,sessionId:l.sessionId};n.$confirm("该小节下所有日程（主持人和演讲者）数据都会被删除，此操作不可恢复，确认删除该会议小节吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{n.$Loadimg.showLoading(),n.$http.article.GetDel_searchPapers(a).then(e=>{n.$Loadimg.hideLoading(),1===e.data.status?n.$message({showClose:!0,message:"删除成功！",type:"success"}):n.$message({showClose:!0,message:"删除失败！",type:"error"}),Q(u.page)})}).catch(()=>{n.$message({type:"info",message:"已取消删除"})})}function A(e){}function N(e){}function Q(e="1"){u.page=e;const l={type_vue:1,per_page:10,page:e,meetingId:t.query.meeting,date_id:u.meeting_date_id,space_id:u.meeting_room_id,meetingplaceId:u.meetingplaceId};u.dialogVisible=!1,u.dialogVisibleedit=!1,n.$http.article.GetInfo_meetingSection(l).then(e=>{1===e.data.status&&(u.tableData=e.data.list,u.list.meetingRoomPlace=e.data.meetingRoomPlace,u.list.options_date=e.data.meetingDateInfo,u.site=e.data.site,u.list.options_room=e.data.meetingRoomInfo,u.options_room=e.data.meetingRoomInfo,u.options_date=e.data.meetingDateInfo,u.total=e.data.pageinfo.total,u.per_page=e.data.pageinfo.per_page,j())})}function M(e,l){var t="",a="https:"===document.location.protocol?"https://":"http://",i="";for(i in u.site)if("mcn"===u.site[i].lang){t=a+window.location.host+"/home/pov?sid="+u.site[i].id+"&mid="+u.site[i].meetingId+"&spid="+l+"&ssid="+e;break}return t}function j(){u.loading=!0;const e={type_vue:1,meetingId:t.query.meeting};n.$http.article.GetInfo_meetingSectionindex(e).then(e=>{1===e.data.status&&(u.list.paperClass=e.data.paperClass,u.list.paperTopic=e.data.paperTopic,u.list.paperTopic_cn=e.data.paperTopic_cn,u.list.paperTopic_en=e.data.paperTopic_en,u.loading=!1)})}function B(e,l){if(1!==e)return!1;o.push({path:"/meetingSection_paperList",query:{meeting:t.query.meeting,sessionId:l}})}function H(e="1"){u.scheduleCurrentPage=e;const l={per_page:10,page:e,meetingId:t.query.meeting,title:u.title};u.scheduleDialogVisible=!1,u.scheduleDialogVisibleEdit=!1,u.scheduleLoading=!0,n.$http.article.getMeetingPlace(l).then(e=>{u.scheduleLoading=!1,1===e.data.status&&(u.scheduleTableData=e.data.list.data||[],u.scheduleTotal=e.data.list.pageinfo?e.data.list.pageinfo.total:0,u.schedule_per_page=e.data.list.pageinfo?e.data.list.pageinfo.per_page:10,u.meetingSectionInfo=e.data.list.meetingSeeionInfo||[],console.log("获取到的会议小节信息:",u.meetingSectionInfo))}).catch(e=>{u.scheduleLoading=!1,u.scheduleTableData=[],u.scheduleTotal=0,u.meetingSectionInfo=[],n.$message({showClose:!0,message:"网络错误，请稍后重试！",type:"error"})})}function J(e,l){u.scheduleList||(u.scheduleList={row:{}}),u.scheduleList.row=l,u.scheduleDialogVisibleEdit=!0}function Y(e,l){console.log(l),n.$confirm("确认删除该分会场吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e={meetingplaceId:l.meetingplaceId,meetingId:l.meetingId};n.$Loadimg.showLoading(),n.$http.article.delMeetingPlace(e).then(e=>{n.$Loadimg.hideLoading(),1===e.data.status?(n.$message({showClose:!0,message:"删除成功！",type:"success"}),H(u.scheduleCurrentPage)):n.$message({showClose:!0,message:e.data.message||"删除失败！",type:"error"})}).catch(e=>{n.$Loadimg.hideLoading(),n.$message({showClose:!0,message:"网络错误，请稍后重试！",type:"error"})})}).catch(()=>{n.$message({type:"info",message:"已取消删除"})})}function Z(e){u.schedule_per_page=e,H(1)}return x(),l({activeTab:r,tableData:c,dialogVisible:p,dialogVisibleedit:m,value2:g,total:b,per_page:h,currentPage:v,loading:_,list:k,options_date:I,options_room:f,meeting_date_id:y,meeting_room_id:F,value:L,site:T,scheduleTableData:w,scheduleDialogVisible:V,scheduleDialogVisibleEdit:R,scheduleTotal:S,schedule_per_page:W,scheduleCurrentPage:X,scheduleLoading:E,scheduleList:$,title:z,meetingplaceId:D,meetingSectionInfo:K,handleEdit:U,handleDelete:q,handleSizeChange:A,handleCurrentChange:N,exportUrl:M,getScheduleInfo:H,handleScheduleEdit:J,handleScheduleDelete:Y,handleScheduleSizeChange:Z,handleTabClick:P,MeetingSectionadd:C,MeetingSectionedit:G}),(e,l)=>{const t=(0,a.g2)("el-button"),o=(0,a.g2)("el-option"),d=(0,a.g2)("el-select"),n=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-table-column"),g=(0,a.g2)("el-table"),L=(0,a.g2)("el-pagination"),T=(0,a.g2)("el-tab-pane"),x=(0,a.g2)("el-input"),N=(0,a.g2)("el-tabs"),j=(0,a.g2)("el-dialog"),pe=(0,a.gN)("loading");return(0,a.uX)(),(0,a.CE)("div",le,[(0,a.bF)(N,{type:"border-card",modelValue:(0,i.R1)(r),"onUpdate:modelValue":l[10]||(l[10]=e=>(0,i.i9)(r)?r.value=e:null),onTabClick:P},{default:(0,a.k6)(()=>[(0,a.bF)(T,{label:"会议小节",name:"section"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",te,[(0,a.bF)(t,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>p.value=!0)},{default:(0,a.k6)(()=>[...l[15]||(l[15]=[(0,a.eW)("添加会议小节",-1)])]),_:1}),(0,a.bF)(n,{label:"日期:"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{class:"select-width",size:"small",modelValue:(0,i.R1)(y),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.i9)(y)?y.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"全部",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(I),e=>((0,a.uX)(),(0,a.Wv)(o,{key:e.dateId,label:e.title,value:e.dateId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(n,{label:"会议室:"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{class:"select-width",size:"small",modelValue:(0,i.R1)(F),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.i9)(F)?F.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"全部",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(f),e=>((0,a.uX)(),(0,a.Wv)(o,{key:e.spaceId,label:e.title,value:e.spaceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(n,{label:"分会场:"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{class:"select-width",size:"small",modelValue:(0,i.R1)(D),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.i9)(D)?D.value=e:null),placeholder:"请选择"},{default:(0,a.k6)(()=>[(0,a.bF)(o,{label:"全部",value:""}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,i.R1)(k).meetingRoomPlace,e=>((0,a.uX)(),(0,a.Wv)(o,{key:e.meetingplaceId,label:e.title,value:e.meetingplaceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(t,{size:"small",type:"primary",onClick:l[4]||(l[4]=e=>Q())},{default:(0,a.k6)(()=>[...l[16]||(l[16]=[(0,a.eW)("搜索",-1)])]),_:1})]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(g,{data:(0,i.R1)(c),stripe:"",style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(u,{prop:"sessionId",label:"ID"}),(0,a.bF)(u,{prop:"title",label:"名称"}),(0,a.bF)(u,{prop:"startTime",label:"开始时间"}),(0,a.bF)(u,{prop:"name",label:"外链地址",width:"200"},{default:(0,a.k6)(e=>[(0,a.eW)((0,s.v_)(M(e.row.sessionId,e.row.spaceId)),1)]),_:1}),(0,a.bF)(u,{prop:"endTime",label:"结束时间"}),(0,a.bF)(u,{prop:"meetingDateName",label:"日期"}),(0,a.bF)(u,{prop:"meetingRoomName",label:"会议室"}),(0,a.bF)(u,{prop:"placetitle",label:"分会场"}),(0,a.bF)(u,{prop:"name",label:"是否为关联论文小节"},{default:(0,a.k6)(e=>[1===e.row.paperSession?((0,a.uX)(),(0,a.CE)("div",ae,[l[17]||(l[17]=(0,a.Lk)("span",{style:{color:"#428bca"}},"是",-1)),l[18]||(l[18]=(0,a.eW)(" - ",-1)),1==e.row.is_speakerList?((0,a.uX)(),(0,a.CE)("span",ie,"已关联")):(0,a.Q3)("",!0),0==e.row.is_speakerList?((0,a.uX)(),(0,a.CE)("span",se,"未关联")):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",oe,"否"))]),_:1}),(0,a.bF)(u,{prop:"name",label:"论文初始化"},{default:(0,a.k6)(e=>[1===e.row.paperSession&&0===e.row.is_speakerList?((0,a.uX)(),(0,a.CE)("span",de,[(0,a.bF)(t,{type:"primary",size:"small",onClick:l=>B(e.row.paperSession,e.row.sessionId,e.row.is_speakerList)},{default:(0,a.k6)(()=>[...l[19]||(l[19]=[(0,a.eW)("初始化",-1)])]),_:1},8,["onClick"])])):((0,a.uX)(),(0,a.CE)("span",ne,[(0,a.bF)(t,{disabled:"",size:"small"},{default:(0,a.k6)(()=>[...l[20]||(l[20]=[(0,a.eW)("初始化",-1)])]),_:1})]))]),_:1}),(0,a.bF)(u,{label:"操作"},{default:(0,a.k6)(e=>[(0,a.bF)(t,{size:"small",type:"primary",onClick:l=>U(e.$index,e.row)},{default:(0,a.k6)(()=>[...l[21]||(l[21]=[(0,a.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,a.bF)(t,{size:"small",type:"danger",onClick:l=>q(e.$index,e.row)},{default:(0,a.k6)(()=>[...l[22]||(l[22]=[(0,a.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[pe,(0,i.R1)(_)]]),(0,a.Lk)("div",ue,[(0,a.bF)(L,{onSizeChange:A,onCurrentChange:Q,"current-page":(0,i.R1)(v),"onUpdate:currentPage":l[5]||(l[5]=e=>(0,i.i9)(v)?v.value=e:null),background:"","page-size":(0,i.R1)(h),layout:"prev, pager, next,total",total:(0,i.R1)(b)},null,8,["current-page","page-size","total"])])]),_:1}),(0,a.bF)(T,{label:"分会场",name:"schedule"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",re,[(0,a.bF)(t,{size:"small",type:"primary",onClick:l[6]||(l[6]=e=>V.value=!0)},{default:(0,a.k6)(()=>[...l[23]||(l[23]=[(0,a.eW)("添加分会场",-1)])]),_:1}),(0,a.bF)(n,{label:"标题:"},{default:(0,a.k6)(()=>[(0,a.bF)(x,{class:"select-width",size:"small",modelValue:(0,i.R1)(z),"onUpdate:modelValue":l[7]||(l[7]=e=>(0,i.i9)(z)?z.value=e:null),placeholder:"请输入标题",clearable:""},null,8,["modelValue"])]),_:1}),(0,a.bF)(t,{size:"small",type:"primary",onClick:l[8]||(l[8]=e=>H())},{default:(0,a.k6)(()=>[...l[24]||(l[24]=[(0,a.eW)("搜索",-1)])]),_:1})]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(g,{data:(0,i.R1)(w),stripe:"",style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(u,{prop:"meetingplaceId",label:"ID"}),(0,a.bF)(u,{prop:"title",label:"分会标题"}),(0,a.bF)(u,{prop:"description",label:"描述"}),(0,a.bF)(u,{prop:"remark",label:"备注"}),(0,a.bF)(u,{prop:"priority",label:"权重"}),(0,a.bF)(u,{label:"操作"},{default:(0,a.k6)(e=>[(0,a.bF)(t,{size:"small",type:"primary",onClick:l=>J(e.$index,e.row)},{default:(0,a.k6)(()=>[...l[25]||(l[25]=[(0,a.eW)("编辑",-1)])]),_:1},8,["onClick"]),(0,a.bF)(t,{size:"small",type:"danger",onClick:l=>Y(e.$index,e.row)},{default:(0,a.k6)(()=>[...l[26]||(l[26]=[(0,a.eW)("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[pe,(0,i.R1)(E)]]),(0,a.Lk)("div",ce,[(0,a.bF)(L,{onSizeChange:Z,onCurrentChange:H,"current-page":(0,i.R1)(X),"onUpdate:currentPage":l[9]||(l[9]=e=>(0,i.i9)(X)?X.value=e:null),background:"","page-size":(0,i.R1)(W),layout:"prev, pager, next,total",total:(0,i.R1)(S)},null,8,["current-page","page-size","total"])])]),_:1})]),_:1},8,["modelValue"]),(0,a.bF)(j,{title:"新建会议小节",modelValue:(0,i.R1)(p),"onUpdate:modelValue":l[11]||(l[11]=e=>(0,i.i9)(p)?p.value=e:null),"close-on-click-modal":!1,"destroy-on-close":"",width:"900px"},{default:(0,a.k6)(()=>[(0,a.bF)(C,{list:(0,i.R1)(k),onInvoiceconfigpaymentname:Q},null,8,["list"])]),_:1},8,["modelValue"]),(0,a.bF)(j,{title:"编辑会议小节",modelValue:(0,i.R1)(m),"onUpdate:modelValue":l[12]||(l[12]=e=>(0,i.i9)(m)?m.value=e:null),"close-on-click-modal":!1,"destroy-on-close":"",width:"900px"},{default:(0,a.k6)(()=>[(0,a.bF)(G,{list:(0,i.R1)(k),onInvoiceconfigpaymentname:Q},null,8,["list"])]),_:1},8,["modelValue"]),(0,a.bF)(j,{title:"新建分会场",modelValue:(0,i.R1)(V),"onUpdate:modelValue":l[13]||(l[13]=e=>(0,i.i9)(V)?V.value=e:null),"close-on-click-modal":!1,"destroy-on-close":"",width:"800px"},{default:(0,a.k6)(()=>[(0,a.bF)(O,{scheduleList:(0,i.R1)($),meetingSectionInfo:(0,i.R1)(K),onRefreshScheduleList:H},null,8,["scheduleList","meetingSectionInfo"])]),_:1},8,["modelValue"]),(0,a.bF)(j,{title:"编辑分会场",modelValue:(0,i.R1)(R),"onUpdate:modelValue":l[14]||(l[14]=e=>(0,i.i9)(R)?R.value=e:null),"close-on-click-modal":!1,"destroy-on-close":"",width:"800px"},{default:(0,a.k6)(()=>[(0,a.bF)(ee,{scheduleList:(0,i.R1)($),meetingSectionInfo:(0,i.R1)(K),onRefreshScheduleList:H},null,8,["scheduleList","meetingSectionInfo"])]),_:1},8,["modelValue"])])}}};const me=(0,L.A)(pe,[["__scopeId","data-v-194bb29c"]]);var ge=me}}]);