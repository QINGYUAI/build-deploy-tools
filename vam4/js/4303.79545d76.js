"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[4303],{49420:function(e,t,i){i.d(t,{w:function(){return a}});i(18111),i(81148),i(22489),i(20116),i(61701);var s=i(50953);function a(){const e=(0,s.Kh)({denglu:["æœªç™»å½•","å·²ç™»å½•"],renzheng:["æœªçŸ¥","å·²è®¤è¯","å¾…è®¤è¯"],dlzt:["æœªç™»å½•","ç™»å½•ä¸­(å¾…è¾“å…¥æ ¡éªŒç )","å·²ç™»å½•"],rzzt:["å¤±æ•ˆ","æœ‰æ•ˆ"]}),t=(t,i)=>{if(!t||!i)return{loginStatus:null,authStatus:null,loginText:"æœªçŸ¥",authText:"æœªçŸ¥",loginSuccess:!1,authSuccess:!1};let s=null,a=null,n="æœªçŸ¥",r="æœªçŸ¥",l=!1,o=!1;return 3==i.type?(t.denglu&&(t.denglu.result&&void 0!==t.denglu.result.certificationStatus?(s=t.denglu.result.certificationStatus,n=e.denglu[s]||"æœªçŸ¥",l=1==s):n=t.denglu.describe||"æœªçŸ¥"),t.renzheng&&(t.renzheng.result&&void 0!==t.renzheng.result.certificationStatus?(a=t.renzheng.result.certificationStatus,r=e.renzheng[a]||"æœªçŸ¥",o=1==a):r=t.renzheng.describe||"æœªçŸ¥")):4==i.type&&t.renzheng&&t.renzheng.list&&(void 0!==t.renzheng.list.dlzt&&(s=t.renzheng.list.dlzt,n=e.dlzt[s]||"æœªçŸ¥",l=2==s),void 0!==t.renzheng.list.rzzt&&(a=t.renzheng.list.rzzt,r=e.rzzt[a]||"æœªçŸ¥",o=1==a)),{loginStatus:s,authStatus:a,loginText:n,authText:r,loginSuccess:l,authSuccess:o}},i=(e,i)=>Array.isArray(e)&&i?e.map((e,s)=>{const a=t(e,i);return{index:s,name:e.name,displayName:e.Name,fullName:(e.Name||"å¼€ç¥¨äººï¼ˆæš‚æ— æ•°æ®ï¼‰")+"-"+e.name,originalData:e,...a}}):[],a=e=>{if(!Array.isArray(e))return{total:0,loginSuccessCount:0,authSuccessCount:0,bothSuccessCount:0,loginSuccessRate:0,authSuccessRate:0,bothSuccessRate:0};const t=e.length,i=e.filter(e=>e.loginSuccess).length,s=e.filter(e=>e.authSuccess).length,a=e.filter(e=>e.loginSuccess&&e.authSuccess).length;return{total:t,loginSuccessCount:i,authSuccessCount:s,bothSuccessCount:a,loginSuccessRate:t>0?(i/t*100).toFixed(2):0,authSuccessRate:t>0?(s/t*100).toFixed(2):0,bothSuccessRate:t>0?(a/t*100).toFixed(2):0}},n=(e,i,s)=>{if(!Array.isArray(e)||!s)return null;const a=e.find(e=>e.name==s||e.Name&&e.Name==s||(e.Name||"å¼€ç¥¨äººï¼ˆæš‚æ— æ•°æ®ï¼‰")+"-"+e.name==s);if(!a)return null;const n=t(a,i);return{name:a.name,displayName:a.Name,fullName:(a.Name||"å¼€ç¥¨äººï¼ˆæš‚æ— æ•°æ®ï¼‰")+"-"+a.name,originalData:a,...n}},r=e=>!(!Array.isArray(e)||0==e.length)&&e.every(e=>e.loginSuccess&&e.authSuccess),l=e=>Array.isArray(e)?e.filter(e=>!e.loginSuccess||!e.authSuccess):[];return{statusMaps:e,getItemAuthStatus:t,getAllAuthStatus:i,getAuthStatusSummary:a,findAuthStatusByName:n,isAllAuthenticated:r,getPendingItems:l}}},56593:function(e,t,i){i.d(t,{j:function(){return r}});var s=i(71029),a=i(20641),n=i(40834);const r=()=>{(0,s.rd)();const e=(0,s.lq)(),t=(0,n.Pj)(),i=(0,a.EW)(()=>"php7.yiyum.com"==location.hostname||"localhost"==location.hostname||"meeting.cstam.org.cn"==location.hostname),r=(0,a.EW)(()=>"cloud.yiyum.com"==location.hostname||("localhost"==location.hostname||"php7.yiyum.com"==location.hostname)&&1681==e.query.meeting),l=(0,a.EW)(()=>{const e=location.hostname;return t.state.isSpecialHost||"localhost"==e||"php7.yiyum.com"==e||"cloud.yiyum.com"==e||"fangzhen.yiyum.com"==e}),o=(0,a.EW)(()=>{let t=!1;return("php7.yiyum.com"!=location.hostname&&"localhost"!=location.hostname||1548!=e.query.meeting&&1577!=e.query.meeting)&&("cloud.yiyum.com"!=location.hostname||1228!=e.query.meeting&&1357!=e.query.meeting&&1457!=e.query.meeting&&1396!=e.query.meeting&&1417!=e.query.meeting&&1463!=e.query.meeting)||(t=!0),!0}),u=(e,t,i,s)=>{const a=e.is_element_config[t.input];if(!a.number||!a.number[s])return o.value,i;const n=a.number[s];let r="";return r=-1e3===n?"":a.text_limit?a.text_limit.replace("{number}",n):"ä½™"+n,o.value?i+" "+r:i};return{ReimbursementShow:i,NoVideoShow:r,ProfessionalTemplateShow:l,CustomFieldHotelRoomShow:o,GetNumber:u}}},58027:function(e,t,i){i(18111),i(7588),i(61701);var s=i(50953),a=i(20641);t.A=(e,t,i)=>{const n=(0,s.KR)([]),r=(0,s.KR)("100%"),l=(0,s.KR)(null);function o(){const t=e.value?._?.refs?.bodyWrapper?.children[0]?.children[0];t?.addEventListener("scroll",()=>u(t))}function u(s){const a=document.querySelectorAll(t),l=document.querySelectorAll(i);let o=s?.scrollLeft||0;const u=e.value?.bodyWidth.slice(0,-2)-r.value.slice(0,-2),c=o<u?o:u;a.forEach(e=>{e.style.transform=`translateX(${c}px)`,e.style.transition="all 100ms"}),l.forEach(e=>{e.style.transform=`translateX(${c}px)`,e.style.transition="all 100ms"}),n.value?.map(e=>{const t=e?._?.refs?.bodyWrapper?.children[0]?.children[0];t&&(t.scrollLeft=c)})}function c(){const t=e.value?._?.refs?.bodyWrapper?.children[0]?.children[0];r.value=t?.clientWidth?t.clientWidth+"px":"100%"}return(0,a.sV)(()=>{o(),c();const t=e.value?._?.refs?.bodyWrapper?.children[0]?.children[0];l.value=new ResizeObserver(e=>{c()}),l.value.observe(t)}),(0,a.hi)(()=>{const t=e.value?._?.refs?.bodyWrapper?.children[0]?.children[0];t?.removeEventListener("scroll",()=>u(t)),l.value?.disconnect()}),{thDiv:n,TableWidth:r,setScroll:u}}},65431:function(e,t,i){i.d(t,{z:function(){return r}});var s=i(20641),a=i(40834),n=i(71029);const r=()=>{const e=(0,n.lq)(),t=(0,a.Pj)(),i=(0,s.EW)(()=>t.state.isSpecialHost||("localhost"==location.hostname||"php7.yiyum.com"==location.hostname)&&1655==e.query.meeting);function r({rules:e,type:t}){i.value&&"phone"==t?e["phone"]=[{required:!0,message:"è¯·å¡«å†™ç”µè¯",trigger:"blur"}]:i.value&&"invoice"==t&&(e["invoiceType"]=[{required:!0,message:"è¯·å¡«å†™å‘ç¥¨ç±»å‹",trigger:"blur"}],e["invoiceCompany"]=[{required:!0,message:"è¯·å¡«å†™å‘ç¥¨å•ä½åç§°",trigger:"blur"}],e["invoiceNo"]=[{required:!0,message:"è¯·å¡«å†™å‘ç¥¨å•ä½ç¨å·",trigger:"blur"}],e["invoiceContent"]=[{required:!0,message:"è¯·å¡«å†™å‘ç¥¨å†…å®¹",trigger:"blur"}],e["invoiceEmail"]=[{required:!0,message:"è¯·å¡«å†™å‘ç¥¨emailæ¥æ”¶åœ°å€",trigger:"blur"}])}function l({rules:e}){e["invoiceType"]=[{required:!1,message:"è¯·å¡«å†™å‘ç¥¨ç±»å‹",trigger:"blur"}],e["invoiceCompany"]=[{required:!1,message:"è¯·å¡«å†™å‘ç¥¨å•ä½åç§°",trigger:"blur"}],e["invoiceNo"]=[{required:!1,message:"è¯·å¡«å†™å‘ç¥¨å•ä½ç¨å·",trigger:"blur"}],e["invoiceContent"]=[{required:!1,message:"è¯·å¡«å†™å‘ç¥¨å†…å®¹",trigger:"blur"}],e["invoiceEmail"]=[{required:!1,message:"è¯·å¡«å†™å‘ç¥¨emailæ¥æ”¶åœ°å€",trigger:"blur"}]}return{isSpecialHost:i,isSpecialRule:r,isSpecialRuleNoInvoice:l}}},67608:function(e,t,i){i(69112);var s=i(20641),a=i(50953),n=i(71029),r=i(40834);t.A=()=>{const{proxy:e}=(0,s.nI)(),t=(0,r.Pj)(),i=(0,n.lq)(),l=(0,a.KR)(!1),o=(0,a.KR)(!1),u=(0,a.KR)(null),c=(0,a.KR)({type:"",props:{},scope:{}});(0,s.wB)(()=>o.value,e=>{e||(c.value={type:"",props:{},scope:{}})});const g=(0,a.Kh)({qrCode:"",QRCodetext:"",djs:120,yzm:"è·å–éªŒè¯ç ",authentication:!1,DigitalLogin:!1,formRef:null,form:{extNumber:"",Digital:"",qrCode:""},rules:{extNumber:{required:!0,message:"",trigger:"change"},Digital:[{required:!0,message:"è¯·è¾“å…¥éªŒè¯ç ",trigger:"blur"},{validator:S,trigger:"blur",message:"è¯·å…ˆé€‰æ‹©å¼€ç¥¨äºº"}]},approveData:{},dialogVisible:!1,itemConfig:{},denglu:["æœªç™»å½•","å·²ç™»å½•"],renzheng:["æœªçŸ¥","å·²è®¤è¯","å¾…è®¤è¯"],dlzt:["æœªç™»å½•","ç™»å½•ä¸­(å¾…è¾“å…¥æ ¡éªŒç )","å·²ç™»å½•"],rzzt:["å¤±æ•ˆ","æœ‰æ•ˆ"]}),{denglu:m,renzheng:d,dlzt:h,rzzt:f,itemConfig:p}=(0,a.QW)(g),y=(0,a.KR)(1),v=(0,s.EW)(()=>g.form.extNumber?JSON.parse(g.form.extNumber).name:""),b=(0,s.EW)(()=>{let e=!1;const t=!!g.form.extNumber&&JSON.parse(g.form.extNumber);return g.itemConfig&&t&&(3===g.itemConfig.type?e="1"===t.denglu.result?.certificationStatus:4===g.itemConfig.type&&(e="2"===t.renzheng.list?.dlzt)),e});function S(e,t,i){""===v.value?i(new Error("è¯·å…ˆé€‰æ‹©å¼€ç¥¨äºº")):i()}function z(i,s){i={...i,type:y.value};let a="verifyFace";i.meetingId||(i.committee_id=t.state.user.committeeId,a="CommitteeInvoiceVerifyFace"),e.$Loadimg.showLoading(),e.$http.article[a](i).then(t=>{e.$Loadimg.hideLoading(),s(t)}).catch(t=>{e.$Loadimg.hideLoading(),console.error(t)})}function q(){if(v.value){const t={queryType:4,meetingId:i.query.meeting,clerkId:v.value};function s(){g.setTime=setInterval(()=>{g.djs--,g.yzm=`é‡æ–°è·å–${g.djs}s`,g.djs<=0&&(clearInterval(g.setTime),g.djs=120,g.yzm="è·å–éªŒè¯ç ")},1e3)}console.log(t),z(t,t=>{3===p.value.type?200===t.data.status?"E0000"!==t.data.list.code?e.$message.error(t.data.list.describe):(e.$message.success(t.data.list.describe),s()):300===t.data.status&&e.$message.error(t.data.msg):4===p.value.type&&("S0000"===t.data.list.status?e.$message.success(t.data.list.list.msg):"NEED_VERIFY_CODE"===t.data.list.status?(e.$message.error(t.data.list.list.msg),s()):(t.data.list.status,e.$message.error(t.data.list.list.msg)))})}}function C(t){g.formRef.validate(s=>{if(!s)return!1;{const s={queryType:2,number:g.form.Digital,clerkId:v.value,meetingId:i.query.meeting};z(s,i=>{3===p.value.type?(t(),g.DigitalLogin=!0,g.djs):4===p.value.type&&("S0000"===i.data.list.status?(t(),g.DigitalLogin=!0,g.djs,e.$message.success(i.data.list.list.msg)):("NEED_VERIFY_CODE"===i.data.list.status||i.data.list.status,e.$message.error(i.data.list.list.msg)))})}})}function I(t){const s={queryType:0,clerkId:v.value,authQrType:"ç¨åŠ¡å±€äºŒç»´ç "===g.form.qrCode?0:1,meetingId:i.query.meeting};z(s,t=>{if(3===p.value.type)"E0000"===t.data.list.code?(e.$message.success(t.data.list.describe),t.data.list.result&&(t.data.list.result&&t.data.list.result.qrCode?t.data.list.result&&t.data.list.result.qrCode&&(g.approveData=t.data.list.result,g.QRCodetext=t.data.list.result.qrCode):e.$message.error(t.data.list.result.message||"äºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡æ–°æ“ä½œ"))):e.$message.error(t.data.list.describe);else if(4===p.value.type){if(console.log(t.data.list),"S0000"===t.data.list.status)return e.$message.success(t.data.list.list.msg),g.approveData=t.data.list.list,void(g.QRCodetext=t.data.list.list.ewmtx);"NEED_VERIFY_CODE"===t.data.list.status||t.data.list.status,e.$message.error(t.data.list.list.msg)}const s={queryType:1,meetingId:i.query.meeting,clerkId:v.value};z(s,t=>{if(3===p.value.type)"E0000"===t.data.list.code?(e.$message.success(t.data.list.describe),t.data.list.result&&(t.data.list.result&&t.data.list.result.qrCode?t.data.list.result&&t.data.list.result.qrCode&&(g.approveData=t.data.list.result,g.QRCodetext=t.data.list.result.qrCode):e.$message.error(t.data.list.result.message||"äºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡æ–°æ“ä½œ"))):e.$message.error(t.data.list.describe);else if(4===p.value.type){if("S0000"===t.data.list.status)return e.$message.success(t.data.list.list.msg),g.approveData=t.data.list.list,void(g.QRCodetext=t.data.list.list.ewmtx);"NEED_VERIFY_CODE"===t.data.list.status||t.data.list.status,e.$message.error(t.data.list.list.msg)}})})}function R(e){120==g.djs&&(g.DigitalLogin=!1,g.QRCodetext="",g.approveData={},g.form={Digital:"",qrCode:"",extNumber:""}),g.dialogVisible=!1,e()}return{invoiceFlag:l,invoiceListType:y,cancellationDia:o,cancellationRef:u,cancellationType:c,figure:g,DigitalFlag:b,clerkId:v,DigitalAuthentication:I,Digitalrieister:C,Digitalold:q,dialogClose:R}}},84788:function(e,t,i){i(18111),i(20116),i(18237);var s=i(50953);t.A=({GetExtNumberNum:e,ext_number:t,type:i,invoiceConfig:a})=>{console.log("ğŸš€ ~ invoiceConfig:",a);const n=(0,s.KR)(!1),r=e.find(e=>e.name===t.split("-")[1]),l=(0,s.KR)({3:{denglu:{certificationStatus:1},renzheng:{certificationStatus:1}},4:{denglu:{dlzt:2},renzheng:{rzzt:1}}}),o=l.value[i];if(3===i){const e=u(["denglu","result","certificationStatus"],r)==u(["denglu","certificationStatus"],o),t=u(["renzheng","result","certificationStatus"],r)==u(["renzheng","certificationStatus"],o);e&&t&&(n.value=!0)}else if(4===i){const e=u(["renzheng","list","dlzt"],r)==u(["denglu","dlzt"],o),t=u(["renzheng","list","rzzt"],r)==u(["renzheng","rzzt"],o);e&&t&&(n.value=!0)}function u(e,t){return e.reduce(function(e,t){return e&&e[t]?e[t]:null},t)}return(70===a.configId&&5===a.committeeId||82===a.configId&&253===a.committeeId||145===a.configId&&5===a.committeeId)&&(n.value=!0),console.log(n,"invoiceAllocation"),{flag:n.value}}},92176:function(e,t,i){i.d(t,{A:function(){return n}});i(18111),i(13579);var s=i(50953),a=i(40834);function n({TableRef:e,getQrCodeStatus:t,$vm:i,GetList:n,type:r,typeField:l}){const o=(0,a.Pj)(),u=(0,s.Kh)({batchDia:!1,batchInvoiceRef:null,multipleInvoice:[]}),{batchDia:c,batchInvoiceRef:g,multipleInvoice:m}=(0,s.QW)(u);function d(e){u.batchInvoiceRef?.doneFlag&&e()}function h(){e.value&&e.value.clearSelection(),n(),u.multipleTable=[]}async function f(){if(o.state.isTicket[l])if(u.multipleInvoice.length>0){await t(r);let e=!1;const s=u.multipleInvoice.some(t=>{try{if(t.listOrder&&"en"===t.listOrder[0].currency)return!0}catch(s){return console.error(s),i.$message({type:"warning",message:`æ³¨å†Œå·ä¸º${t.meetingParticipant.id}çš„è®¢å•æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥`}),e=!0,!0}});if(e)return;if(s)return void i.$message({type:"warning",message:"å½“å‰é€‰æ‹©ç”¨æˆ·ä¸­å­˜åœ¨è‹±æ–‡å‘ç¥¨ï¼Œè¯·é‡æ–°é€‰æ‹©"});const a=u.multipleInvoice.some(e=>"æ•°ç”µå¢å€¼ç¨æ™®é€šå‘ç¥¨"!==e.meetingParticipant.invoiceType&&"æ•°ç”µå¢å€¼ç¨ä¸“ç”¨å‘ç¥¨"!==e.meetingParticipant.invoiceType);if(a)return void i.$message({type:"warning",message:"å½“å‰é€‰æ‹©ç”¨æˆ·ä¸­å­˜åœ¨éæ•°ç”µå‘ç¥¨ï¼Œè¯·é‡æ–°é€‰æ‹©"});u.batchDia=!0}else i.$message({type:"warning",message:"è¯·é€‰æ‹©å¼€ç¥¨äºº",showClose:!0});else i.$message({type:"warning",message:"éæ•°ç”µé…ç½®ï¼Œä¸å¯ä½¿ç”¨æ‰¹é‡å¼€ç¥¨"})}function p(e){u.multipleInvoice=e}function y({row:e,flag:t=!0,isNoFirst:i}){return(i||1!=e.meetingParticipant.invoiceOpen)&&t}return{batchDia:c,batchInvoiceRef:g,multipleInvoice:m,handleCloseBatch:d,closeFun:h,AllInvoice:f,handleSelectionTable:p,selectableTable:y}}}}]);