"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[9566],{99566:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});a(18111),a(7588);var l=a(20641),i=a(50953),o=a(90033),d=a(74353),n=a.n(d);const s={class:"meeting_list"},c={class:"header",style:{display:"flex","justify-content":"space-between"}},u={class:"thefirselect"},m={class:"thefirselect"},r={class:"theday"},p={class:"thefirselect"},g={class:"thesedselect"},b={class:"meeting_table back_center_bg back_padding"},_={class:"pagination"};var v={__name:"recent",setup(e,{expose:t}){const{proxy:a}=(0,l.nI)(),d=(0,i.Kh)({meeting_id:"",subject:"",committee_notice_status:"",department_id:"",value:"",committeeSiteList:[],dictTotal:0,dictCurrentPage:1,dictPageSize:10,tableData:[]}),{meeting_id:v,subject:k,committee_notice_status:h,department_id:f,value:F,committeeSiteList:C,dictTotal:L,dictCurrentPage:V,dictPageSize:w,tableData:S}=(0,i.QW)(d);function z(e){const t=/^[1-9]\d{0,8}$/;!1===t.test(e.committeeNoticeSort)&&(a.$message.error("请输入正整数"),e.committeeNoticeSort="")}function y(){d.meeting_id="",d.subject="",d.value="",d.department_id="",d.committee_notice_status="",D()}function D(){let e="",t="";d.value&&(e=n()(d.value[0]).format("YYYY-MM-DD"),t=n()(d.value[1]).format("YYYY-MM-DD")),console.log(d.value);const l={type_vue:"1",meeting_id:d.meeting_id,department_id:d.department_id,subject:d.subject,startDate:e,endDate:t,committee_notice_status:d.committee_notice_status,page:d.dictCurrentPage,per_page:d.dictPageSize,ajax:"ajax"};a.$Loadimg.showLoading(),a.$http.article.notice(l).then(e=>{a.$Loadimg.hideLoading(),1===e.data.status?(d.committeeSiteList=e.data.department_list,d.tableData=e.data.list,d.dictTotal=e.data.pageinfo.total,d.dictCurrentPage=e.data.pageinfo.page):a.$message.error(e.data.msg)})}function j(e){const t={type_vue:"1",committeeNoticeSort:e.committeeNoticeSort,committeeNoticeStatus:e.committeeNoticeStatus,id:e.id};a.$Loadimg.showLoading(),a.$http.article.editNotice(t).then(e=>{a.$Loadimg.hideLoading(),1===e.data.status?(a.$message.success("修改成功"),D()):a.$message.error(e.data.msg)})}function N(e){let t="";return d.committeeSiteList&&d.committeeSiteList.forEach(a=>{console.log(a.title),a.committeeDepartmentId===e&&(t=a.title)}),t}function I(e){d.dictPageSize=e,D()}function P(e){d.dictCurrentPage=e,D()}return(0,l.sV)(()=>{D()}),t({meeting_id:v,subject:k,committee_notice_status:h,department_id:f,value:F,committeeSiteList:C,dictTotal:L,dictCurrentPage:V,dictPageSize:w,tableData:S,shuzi:z,congzhi:y,editRecommend:j,departmentName:N,handleSizeChange:I,handleCurrentChange:P}),(e,t)=>{const a=(0,l.g2)("el-input"),d=(0,l.g2)("el-date-picker"),n=(0,l.g2)("el-option"),R=(0,l.g2)("el-select"),W=(0,l.g2)("el-button"),$=(0,l.g2)("el-table-column"),x=(0,l.g2)("el-switch"),E=(0,l.g2)("el-table"),U=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",c,[(0,l.Lk)("div",null,[(0,l.Lk)("div",u,[(0,l.bF)(a,{modelValue:(0,i.R1)(v),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.i9)(v)?v.value=e:null),placeholder:"请输入会议ID",size:"small"},null,8,["modelValue"])]),(0,l.Lk)("div",m,[(0,l.bF)(a,{modelValue:(0,i.R1)(k),"onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.i9)(k)?k.value=e:null),placeholder:"请输入会议名称",size:"small"},null,8,["modelValue"])]),(0,l.Lk)("div",r,[(0,l.bF)(d,{modelValue:(0,i.R1)(F),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.i9)(F)?F.value=e:null),type:"daterange","range-separator":"-","start-placeholder":"请输入开始日期","end-placeholder":"请输入结束日期"},null,8,["modelValue"])]),(0,l.Lk)("div",p,[(0,l.bF)(R,{modelValue:(0,i.R1)(f),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,i.i9)(f)?f.value=e:null),size:"small",placeholder:"全部组织机构",class:"statics"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{value:""},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("全部组织机构",-1)])]),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)(C),e=>((0,l.uX)(),(0,l.Wv)(n,{key:e.committeeDepartmentId,label:e.title,value:e.committeeDepartmentId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),(0,l.Lk)("div",g,[(0,l.bF)(R,{modelValue:(0,i.R1)(h),"onUpdate:modelValue":t[4]||(t[4]=e=>(0,i.i9)(h)?h.value=e:null),placeholder:"全部推荐状态",size:"small",class:"statics"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{value:""},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.eW)("全部推荐状态",-1)])]),_:1}),(0,l.bF)(n,{label:"显示",value:"1"}),(0,l.bF)(n,{label:"隐藏",value:"0"})]),_:1},8,["modelValue"])])]),(0,l.Lk)("div",null,[(0,l.bF)(W,{type:"primary",size:"small",onClick:t[5]||(t[5]=e=>D())},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.eW)("查询",-1)])]),_:1}),(0,l.bF)(W,{size:"small",onClick:t[6]||(t[6]=e=>y())},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.eW)("重置",-1)])]),_:1})])]),(0,l.Lk)("div",b,[(0,l.bF)(E,{data:(0,i.R1)(S),stripe:"",style:{width:"100%"}},{default:(0,l.k6)(()=>[(0,l.bF)($,{prop:"id",label:"会议ID"}),(0,l.bF)($,{prop:"subject",label:"会议名称"},{default:(0,l.k6)(e=>[e.row.subject?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,o.v_)(e.row.subject),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,o.v_)(e.row.subjectEn),1)],64))]),_:1}),(0,l.bF)($,{prop:"address",label:"会议举办地点"},{default:(0,l.k6)(e=>[e.row.address?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,o.v_)(e.row.address),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,o.v_)(e.row.addressEn),1)],64))]),_:1}),(0,l.bF)($,{label:"组织机构"},{default:(0,l.k6)(e=>[(0,l.eW)((0,o.v_)(N(e.row.committeeDepartmentId)),1)]),_:1}),(0,l.bF)($,{prop:"startDate",label:"开始时间"}),(0,l.bF)($,{prop:"endDate",label:"结束时间"}),(0,l.bF)($,{prop:"name",label:"会议推荐状态"},{default:(0,l.k6)(e=>[(0,l.bF)(x,{class:"switch","active-text":"展示","inactive-text":"隐藏",modelValue:e.row.committeeNoticeStatus,"onUpdate:modelValue":t=>e.row.committeeNoticeStatus=t,"active-value":1,"inactive-value":0,onClick:t=>j(e.row)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1}),(0,l.bF)($,{prop:"name",label:"推荐排序(数字越大越靠前)"},{default:(0,l.k6)(e=>[(0,l.bF)(a,{modelValue:e.row.committeeNoticeSort,"onUpdate:modelValue":t=>e.row.committeeNoticeSort=t,placeholder:"请输入",size:"small",style:{width:"100px"},onBlur:t=>j(e.row),onInput:t=>z(e.row)},null,8,["modelValue","onUpdate:modelValue","onBlur","onInput"])]),_:1})]),_:1},8,["data"]),(0,l.Lk)("div",_,[(0,l.bF)(U,{layout:"sizes,prev, pager, next, total","current-page":(0,i.R1)(V),total:(0,i.R1)(L),background:"","page-size":(0,i.R1)(w),onSizeChange:I,onCurrentChange:P},null,8,["current-page","total","page-size"])])])])}}},k=a(66262);const h=(0,k.A)(v,[["__scopeId","data-v-c1a0f1ba"]]);var f=h}}]);