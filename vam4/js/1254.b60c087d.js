"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[1254],{28873:function(e,l,n){n.r(l),n.d(l,{default:function(){return L}});var i=n(20641),a=n(50953),t=n(90033),o=n(99917),u=n(49451),s=n(99276),c=n(49463),v=n(42307),d=n(89208),m=n(38557),r=n(40834),f=n(71029),g=n(67608);const h={class:"columnsDiv",style:{"padding-left":"40px"}},b={class:"columnsDiv"},k={class:"columnsDiv",style:{"padding-left":"95px"}},p={class:"columnsDiv"},y={class:"columnsDiv"},R={class:"invoiceadmin back_padding invoiceAdmin_expand",style:{height:"100%"}};var I={__name:"invoiceadmin",setup(e,{expose:l}){const{invoiceListType:n}=(0,g.A)(),I=(0,f.lq)(),w=(0,r.Pj)(),{proxy:_}=(0,i.nI)(),L=(0,a.KR)(null),F=(0,a.KR)(null),N=(0,a.KR)(null),D=(0,a.KR)(null),x=(0,a.KR)(null),X=(0,a.KR)(null),C=(0,a.KR)(null),E=(0,a.Kh)({columnsL:["注册号","平台号","姓名","投稿数量","手机号","应收金额","已收金额","代开金额","开具数量","操作"],columnsG:["发票种类","注册号","姓名","酒店名称","手机号","应收金额","已收金额","待开金额","发票号","开具状态","开票数量","操作"],columnsT2:["团队名称","订单数","团队报名ID","手机号","团队应收金额","团队实收金额","已开票金额","未开票金额","发票数量","操作"],columnsT:["团队名称","团队人数/签到人数","团队报名ID","手机号","团队应收金额","团队应收金额","已开票金额","未开票金额","已开票人数","未开票人数","发票数量","操作"],columns:["发票种类","注册号","姓名","注册类别","手机号","发票抬头","应收金额","已收金额","待开金额","发票号","开票状态","开具数量","操作"],stickyStyle:{width:"100%",position:"fixed",zIndex:"1200",top:"0",display:"none",background:"#f1f1f1","font-weight":"bold"},activeName:"个人参会报名",ids:"",invoiceConfig:{},dialogVisible:!1,InvoiceDialog:!1,InvoiceEnFlag:!1}),{columnsL:O,columnsG:T,columnsT2:A,columnsT:W,columns:K,stickyStyle:Q,activeName:V,ids:G,invoiceConfig:S,dialogVisible:Y,InvoiceDialog:$,InvoiceEnFlag:U}=(0,a.QW)(E);function q(){E.BaseUrl=w.state.BaseUrl,M()}function B(){const e=window.pageYOffset||document.documentElement.scrollTop;E.stickyStyle.display=e>500?"flex":"none"}function H(e){E.InvoiceDialog=!0,(0,i.dY)(()=>{F.value.setCodeStatus(e)})}function P(e,l,n,a,t){E.InvoiceDialog=!0,(0,i.dY)(()=>{F.value.handleClose(e,l,n,a,t),a&&(E.ids=a)})}function j(e,l,n,a,t){E.InvoiceEnFlag=!0,(0,i.dY)(()=>{(0,i.dY)(()=>{N.value.handleClose(e,l,n,a,t),a&&(E.ids=a)})})}function z(e){E.InvoiceDialog=!1,"个人参会报名"===E.activeName?(L.value.GetinvoiceParticipantList(e),e&&"开票失败"!==e&&L.value.AllInvoice(e)):"团队参会报名"===E.activeName?D.value.OngetList():"个人酒店预订"===E.activeName?x.value.OngetList():"团队酒店预订"===E.activeName?X.value.OngetList():"论文投稿缴费"===E.activeName&&C.value.OngetList1()}function J(e,l){const n={type_vue:1,dataId:e,type:l,meetingId:I.query.meeting};_.$Loadimg.showLoading(),_.$http.article.invoiceadminRefreshInvoice(n).then(e=>{_.$Loadimg.hideLoading(),1===e.data.status?(_.$message.success("刷新成功"),1===l?L.value.GetinvoiceParticipantList():2===l?D.value.OngetList():3===l?x.value.OngetList():4===l?X.value.OngetList():5===l&&C.value.OngetList1()):_.$message.error("刷新失败")})}function M(){const e={meetingId:I.query.meeting,type_vue:1};_.$http.article.InvoiceConfigInvoice_config_list(e).then(e=>{1===e.data.status&&(E.invoiceConfig=e.data.site,Z(e.data.site))})}function Z(e){const l=[...e.cn],n=e=>l.some(l=>l.invoiceHasSite[e]&&(4==l.type||3==l.type)),i={register:n("register"),registerTeam:n("registerTeam"),hotel:n("hotel"),paper:n("paper")};w.commit("setTicket",i)}return(0,i.wB)(()=>E.activeName,e=>{"个人参会报名"===E.activeName?n.value=1:"团队参会报名"===E.activeName?n.value=2:"个人酒店预订"===E.activeName?n.value=3:"团队酒店预订"===E.activeName?n.value=4:"论文投稿缴费"===E.activeName&&(n.value=5)},{immediate:!0}),q(),(0,i.sV)(()=>{window.addEventListener("scroll",B),(0,i.dY)(()=>{})}),(0,i.Gt)("setCodeStatus",H),(0,i.Gt)("invoiceConfig",S),l({columnsL:O,columnsG:T,columnsT2:A,columnsT:W,columns:K,stickyStyle:Q,activeName:V,ids:G,InvoiceHotelTeam:o.A,InvoicHotel:u.A,Invoiceadmin:s.A,InvoiceTeam:c.A,InvoiceDetails:v.A,Invoicedialog:d.A,OnDisable:P,refresh:z,refreshInvoice:J}),(e,l)=>{const n=(0,i.g2)("el-table-column"),r=(0,i.g2)("el-table"),f=(0,i.g2)("el-tab-pane"),g=(0,i.g2)("el-tabs"),I=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,["个人参会报名"===(0,a.R1)(V)?((0,i.uX)(),(0,i.CE)("div",{key:0,style:(0,t.Tr)([(0,a.R1)(Q),{"text-align":"center","line-height":"40px",height:"40px"}])},[(0,i.Lk)("div",h,[(0,i.bF)(r,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{width:"80"}),(0,i.bF)(n,{width:"80"}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(K),e=>((0,i.uX)(),(0,i.Wv)(n,{key:e,label:e,width:"操作"===e?220:"发票类型"===e?110:101},null,8,["label","width"]))),128))]),_:1})])],4)):(0,i.Q3)("",!0),"团队参会报名"===(0,a.R1)(V)?((0,i.uX)(),(0,i.CE)("div",{key:1,style:(0,t.Tr)([(0,a.R1)(Q),{"text-align":"center"}])},[(0,i.Lk)("div",b,[(0,i.bF)(r,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{width:"90"}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(W),e=>((0,i.uX)(),(0,i.Wv)(n,{key:e,label:e},null,8,["label"]))),128))]),_:1})])],4)):(0,i.Q3)("",!0),"个人酒店预订"===(0,a.R1)(V)?((0,i.uX)(),(0,i.CE)("div",{key:2,style:(0,t.Tr)([(0,a.R1)(Q),{"text-align":"center","line-height":"40px",height:"40px"}])},[(0,i.Lk)("div",k,[(0,i.bF)(r,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{width:"40"}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(T),e=>((0,i.uX)(),(0,i.Wv)(n,{key:e,label:e},null,8,["label"]))),128))]),_:1})])],4)):(0,i.Q3)("",!0),"团队酒店预订"===(0,a.R1)(V)?((0,i.uX)(),(0,i.CE)("div",{key:3,style:(0,t.Tr)([(0,a.R1)(Q),{"text-align":"center","line-height":"40px",height:"40px"}])},[(0,i.Lk)("div",p,[(0,i.bF)(r,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{width:"100"}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(A),e=>((0,i.uX)(),(0,i.Wv)(n,{key:e,label:e},null,8,["label"]))),128))]),_:1})])],4)):(0,i.Q3)("",!0),"论文投稿缴费"===(0,a.R1)(V)?((0,i.uX)(),(0,i.CE)("div",{key:4,style:(0,t.Tr)([(0,a.R1)(Q),{"text-align":"center","line-height":"40px",height:"40px"}])},[(0,i.Lk)("div",y,[(0,i.bF)(r,null,{default:(0,i.k6)(()=>[(0,i.bF)(n,{width:"100"}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(O),e=>((0,i.uX)(),(0,i.Wv)(n,{key:e,label:e},null,8,["label"]))),128))]),_:1})])],4)):(0,i.Q3)("",!0),(0,i.Lk)("div",R,[(0,i.bF)(g,{type:"border-card",modelValue:(0,a.R1)(V),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,a.i9)(V)?V.value=e:null)},{default:(0,i.k6)(()=>[(0,i.bF)(f,{label:"个人参会报名",name:"个人参会报名"},{default:(0,i.k6)(()=>["个人参会报名"===(0,a.R1)(V)?((0,i.uX)(),(0,i.Wv)(s.A,{key:0,activeName:(0,a.R1)(V),num:"1",ref_key:"Individual",ref:L,onRefresh:z,onOnDisable:P,onOnDisableEn:j,onRefreshInvoice:J},null,8,["activeName"])):(0,i.Q3)("",!0)]),_:1}),(0,i.bF)(f,{label:"团队参会报名",name:"团队参会报名"},{default:(0,i.k6)(()=>["团队参会报名"===(0,a.R1)(V)?((0,i.uX)(),(0,i.Wv)(c.A,{key:0,activeName:(0,a.R1)(V),num:"2",ref_key:"team",ref:D,onOnDisable:P,onOnDisableEn:j,onRefreshInvoice:J},null,8,["activeName"])):(0,i.Q3)("",!0)]),_:1}),(0,i.bF)(f,{label:"个人酒店预订",name:"个人酒店预订"},{default:(0,i.k6)(()=>["个人酒店预订"===(0,a.R1)(V)?((0,i.uX)(),(0,i.Wv)(u.A,{key:0,activeName:(0,a.R1)(V),num:"3",ref_key:"hotel",ref:x,onRefresh:z,onOnDisable:P,onOnDisableEn:j,onRefreshInvoice:J},null,8,["activeName"])):(0,i.Q3)("",!0)]),_:1}),(0,i.bF)(f,{label:"团队酒店预订",name:"团队酒店预订"},{default:(0,i.k6)(()=>["团队酒店预订"===(0,a.R1)(V)?((0,i.uX)(),(0,i.Wv)(o.A,{key:0,activeName:(0,a.R1)(V),num:"4",ref_key:"hotelTeam",ref:X,onOnDisable:P,onOnDisableEn:j,onRefreshInvoice:J},null,8,["activeName"])):(0,i.Q3)("",!0)]),_:1}),(0,i.bF)(f,{label:"论文投稿缴费",name:"论文投稿缴费"},{default:(0,i.k6)(()=>["论文投稿缴费"===(0,a.R1)(V)?((0,i.uX)(),(0,i.Wv)(v.A,{key:0,activeName:(0,a.R1)(V),num:"5",ref_key:"paperinfo",ref:C,onOnDisable:P,onOnDisableEn:j,onRefreshInvoice:J},null,8,["activeName"])):(0,i.Q3)("",!0)]),_:1})]),_:1},8,["modelValue"]),(0,a.R1)($)?((0,i.uX)(),(0,i.Wv)((0,a.R1)(d.A),{key:0,ids:(0,a.R1)(G),activeName:(0,a.R1)(V),ref_key:"invoice",ref:F,onRefresh:z},null,8,["ids","activeName"])):(0,i.Q3)("",!0),(0,a.R1)(U)?((0,i.uX)(),(0,i.Wv)(m.A,{key:1,modelValue:(0,a.R1)(U),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,a.i9)(U)?U.value=e:null),ids:(0,a.R1)(G),ref_key:"invoiceEn",ref:N,onRefresh:z},null,8,["modelValue","ids"])):(0,i.Q3)("",!0),(0,i.bF)(I,{title:"打印插件下载",modelValue:(0,a.R1)(Y),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,a.i9)(Y)?Y.value=e:null),"close-on-click-modal":!1,width:"30%"},{default:(0,i.k6)(()=>[...l[3]||(l[3]=[(0,i.Lk)("div",{class:"Invoiceadmin_text"},[(0,i.eW)(" 诺诺："),(0,i.Lk)("a",{href:" https://www.baidu.com/"}," https://www.baidu.com/")],-1),(0,i.Lk)("div",{class:"Invoiceadmin_text"},[(0,i.eW)(" 诺诺："),(0,i.Lk)("a",{href:" https://www.baidu.com/"}," https://www.baidu.com/")],-1),(0,i.Lk)("p",null,"诺诺：https://www.baidu.com/",-1)])]),_:1},8,["modelValue"])])],64)}}},w=n(66262);const _=(0,w.A)(I,[["__scopeId","data-v-70696354"]]);var L=_}}]);