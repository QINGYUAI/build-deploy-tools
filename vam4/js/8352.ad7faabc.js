"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[8352],{8352:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});a(44114),a(18111),a(20116);var l=a(20641),n=a(50953),u=a(90033),o=a(15992),r=a(71029);const d={class:"invoiceStatistical"},i={class:"box"},s={class:"paginated"};var b={__name:"index",setup(e){const[t,a]=[(0,r.rd)(),(0,r.lq)()],{proxy:b}=(0,l.nI)(),c=(0,n.Kh)({date:"",type:"本月",number:"",startDate:"",endDate:"",invoiceType:[]});function p(){M()}function k(){null!==c.date?(c.startDate=""!==c.date?dayjs(c.date[0]).format("YYYY-MM-DD"):"",c.endDate=""!==c.date?dayjs(c.date[1]).format("YYYY-MM-DD"):""):(c.startDate="",c.endDate="")}function g(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1),a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),l=(new Date).getFullYear(),n=(new Date).getMonth(),u=l+"-"+n+"-"+a,o=l+"-"+n+"-01";let r="";if("近三月"===c.type&&(r=m()),"本月"===c.type&&(r=f()),"上月"===c.type){const e=new Date;let t=e.getFullYear(),a=e.getMonth()-1;0===a&&(a=12,t-=1),a<10&&(a="0"+a);new Date(t,a,0)}"近一年"===c.type&&(r=v());const d=b.$dayjs().format("YYYY-MM-DD");c.startDate=r,c.endDate=d,"上月"===c.type&&(c.startDate=o,c.endDate=u),c.date=[c.startDate,c.endDate],"全部"===c.type&&(c.startDate="",c.endDate="",c.date="")}function m(){const e=new Date;e.setMonth(e.getMonth()-3);let t=e.getMonth()+1,a=e.getDate();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),e.getFullYear()+"-"+t+"-"+a}function f(){const e=new Date;e.setMonth(e.getMonth());let t=e.getMonth()+1,a=e.getDate();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),e.getFullYear()+"-"+t+"-01"}function v(){const e=new Date,t=new Date(e);t.setDate(t.getDate()-365);const a="-",l=t.getFullYear();let n=t.getMonth()+1,u=t.getDate();return n>=1&&n<=9&&(n="0"+n),u>=0&&u<=9&&(u="0"+u),l+a+n+a+u}const y=(0,n.Kh)({blueticketMoney:0,blueticketNumber:0,meetingId:0,redticketMoney:0,redticketNumber:0,amount:0,taxrateamount:0,openedAmount:0});(0,l.sV)(()=>{});const _=(0,n.Kh)({tableData:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11},{id:12}],multipleTable:[],paginateData:{total:0,current:1,size:10}}),{tableData:F,paginateData:D,multipleTable:h}=(0,n.QW)(_);function M(){_.paginateData.total=_.tableData.length}function x(){console.log(_.multipleTable,"multipleTable")}function L(e){_.multipleTable=e}function Y(e){t.push({path:"/IssueInvoice",query:{type:1,...a.query}})}return(0,l.wB)(()=>_.paginateData,()=>{M()}),(0,l.sV)(()=>{M()}),(e,t)=>{const a=(0,l.g2)("el-date-picker"),r=(0,l.g2)("el-radio-button"),b=(0,l.g2)("el-radio-group"),m=(0,l.g2)("el-form-item"),f=(0,l.g2)("el-input"),v=(0,l.g2)("el-button"),_=(0,l.g2)("el-checkbox"),h=(0,l.g2)("el-checkbox-group"),M=(0,l.g2)("el-form"),w=(0,l.g2)("el-table-column"),V=(0,l.g2)("el-table"),z=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("div",i,[(0,l.Lk)("main",null,[(0,l.bF)(M,null,{default:(0,l.k6)(()=>[(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(m,{label:"统计时间范围"},{default:(0,l.k6)(()=>[(0,l.bF)(a,{modelValue:c.date,"onUpdate:modelValue":t[0]||(t[0]=e=>c.date=e),type:"daterange",size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","unlink-panels":!0,onChange:t[1]||(t[1]=e=>k())},null,8,["modelValue"]),(0,l.bF)(b,{modelValue:c.type,"onUpdate:modelValue":t[2]||(t[2]=e=>c.type=e),size:"small",onChange:t[3]||(t[3]=e=>g(c.type))},{default:(0,l.k6)(()=>[(0,l.bF)(r,{value:"近三月",label:"近三月"}),(0,l.bF)(r,{value:"本月",label:"本月"}),(0,l.bF)(r,{value:"上月",label:"上月"}),(0,l.bF)(r,{value:"近一年",label:"近一年"}),(0,l.bF)(r,{value:"全部",label:"全部"})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,{label:"发票号码"},{default:(0,l.k6)(()=>[(0,l.bF)(f,{modelValue:c.number,"onUpdate:modelValue":t[4]||(t[4]=e=>c.number=e),placeholder:"请输入发票号码"},null,8,["modelValue"])]),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{size:"small",type:"primary",onClick:p},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.eW)("查询",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(m,{label:"发票类型"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{modelValue:c.invoiceType,"onUpdate:modelValue":t[5]||(t[5]=e=>c.invoiceType=e)},{default:(0,l.k6)(()=>[(0,l.bF)(_,{label:"会议发票",value:"会议发票"}),(0,l.bF)(_,{label:"其他发票",value:"其他发票"})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{type:"primary",size:"small",onClick:x},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.eW)("打印发票",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(o.A,{number:y},null,8,["number"]),(0,l.bF)(V,{data:(0,n.R1)(F),onSelectionChange:L},{default:(0,l.k6)(()=>[(0,l.bF)(w,{type:"selection"}),(0,l.bF)(w,{label:"流水号"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"发票抬头"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"发票号码"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"发票类型"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"关联票号"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"开票时间"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"含税发票金额"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"销货单位名称"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"发票状态"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"开票状态"},{default:(0,l.k6)(e=>[(0,l.Lk)("span",null,(0,u.v_)(e.$index+1),1)]),_:1}),(0,l.bF)(w,{label:"操作"},{default:(0,l.k6)(e=>[(0,l.bF)(v,{type:"primary",size:"small",link:"",onClick:t=>Y(e.row)},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.eW)("查看发票",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),(0,l.Lk)("div",s,[(0,l.bF)(z,{layout:"prev, pager, next, total","current-page":(0,n.R1)(D).current,"onUpdate:currentPage":t[6]||(t[6]=e=>(0,n.R1)(D).current=e),"page-size":(0,n.R1)(D).size,"onUpdate:pageSize":t[7]||(t[7]=e=>(0,n.R1)(D).size=e),total:(0,n.R1)(D).total,background:"","page-sizes":[100,200,300,400]},null,8,["current-page","page-size","total"])])])])}}},c=a(66262);const p=(0,c.A)(b,[["__scopeId","data-v-17a97139"]]);var k=p},15992:function(e,t,a){a.d(t,{A:function(){return k}});var l=a(20641),n=a(90033),u=a(50953);const o={style:{color:"var(--el-color-danger)"}},r={style:{color:"var(--el-color-danger)"}},d={style:{color:"var(--el-color-danger)"}},i={style:{color:"var(--el-color-danger)"}},s={style:{color:"var(--el-color-danger)"}},b={style:{color:"var(--el-color-danger)"}};var c={__name:"InvoiceMoney",props:{number:{type:Object,default:()=>({blueticketMoney:0,blueticketNumber:0,meetingId:0,redticketMoney:0,redticketNumber:0,amount:0,taxrateamount:0,openedAmount:0})}},setup(e){const t=e,a=(0,u.Kh)({numbers:t.number}),{numbers:c}=(0,u.QW)(a);function p(){a.numbers.blueticketMoney=(a.numbers.blueticketMoney-0).toFixed(2),a.numbers.redticketMoney=(a.numbers.redticketMoney-0).toFixed(2)}return(0,l.wB)(()=>t.number,()=>p(),{deep:!0}),(e,t)=>{const a=(0,l.g2)("el-tag");return(0,l.uX)(),(0,l.Wv)(a,{type:"primary",class:"invoiceStatistics"},{default:(0,l.k6)(()=>[t[0]||(t[0]=(0,l.eW)(" 发票总开张数和金额：蓝票 ",-1)),(0,l.Lk)("span",o,(0,n.v_)((0,u.R1)(c).blueticketNumber),1),t[1]||(t[1]=(0,l.eW)(" 张， 红票 ",-1)),(0,l.Lk)("span",r,(0,n.v_)((0,u.R1)(c).redticketNumber),1),t[2]||(t[2]=(0,l.eW)(" 张 ,蓝票金额 ",-1)),(0,l.Lk)("span",d,(0,n.v_)((0,u.R1)(c).blueticketMoney),1),t[3]||(t[3]=(0,l.eW)(" 元， 红票金额 ",-1)),(0,l.Lk)("span",i,(0,n.v_)((0,u.R1)(c).redticketMoney),1),t[4]||(t[4]=(0,l.eW)(" 元， 不含税金额 ",-1)),(0,l.Lk)("span",s,(0,n.v_)((0,u.R1)(c).amount),1),t[5]||(t[5]=(0,l.eW)(" ， 税金 ",-1)),(0,l.Lk)("span",b,(0,n.v_)((0,u.R1)(c).taxrateamount),1)]),_:1})}}};const p=c;var k=p}}]);