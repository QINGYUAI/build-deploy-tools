"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[6632],{10128:function(e,t,i){var n=i(15215),a=i(62103),o=i(43870),r=i(5638),s=i(69622),l=i(34833),u=i(44532),c=i(98026),p=i(89632),d=i(90540),h=function(e){function t(t,i,n,a){var o=e.call(this)||this;return o.updateData(t,i,n,a),o}return(0,n.C6)(t,e),t.prototype._createSymbol=function(e,t,i,n,o){this.removeAll();var r=(0,a.v5)(e,-1,-1,2,2,null,o);r.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),r.drift=f,this._symbolType=e,this.add(r)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){(0,l.HY)(this.childAt(0))},t.prototype.downplay=function(){(0,l.SD)(this.childAt(0))},t.prototype.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},t.prototype.setDraggable=function(e,t){var i=this.childAt(0);i.draggable=e,i.cursor=!t&&e?"move":i.cursor},t.prototype.updateData=function(e,i,n,a){this.silent=!1;var o=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),u=o!==this._symbolType,c=a&&a.disableAnimation;if(u){var p=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,e,i,l,p)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):r.oi(d,h,s,i),(0,r.ap)(d)}if(this._updateCommon(e,i,l,n,a),u){d=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,r.LW(d,h,s,i)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,i,n,o){var r,s,h,f,g,y,m,v,_,S=this.childAt(0),b=e.hostModel;if(n&&(r=n.emphasisItemStyle,s=n.blurItemStyle,h=n.selectItemStyle,f=n.focus,g=n.blurScope,m=n.labelStatesModels,v=n.hoverScale,_=n.cursorStyle,y=n.emphasisDisabled),!n||e.hasItemOption){var A=n&&n.itemModel?n.itemModel:e.getItemModel(t),x=A.getModel("emphasis");r=x.getModel("itemStyle").getItemStyle(),h=A.getModel(["select","itemStyle"]).getItemStyle(),s=A.getModel(["blur","itemStyle"]).getItemStyle(),f=x.get("focus"),g=x.get("blurScope"),y=x.get("disabled"),m=(0,p.lx)(A),v=x.getShallow("scale"),_=A.getShallow("cursor")}var I=e.getItemVisual(t,"symbolRotate");S.attr("rotation",(I||0)*Math.PI/180||0);var M=(0,a.hV)(e.getItemVisual(t,"symbolOffset"),i);M&&(S.x=M[0],S.y=M[1]),_&&S.attr("cursor",_);var w=e.getItemVisual(t,"style"),L=w.fill;if(S instanceof d.Ay){var D=S.style;S.useStyle((0,c.extend)({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},w))}else S.__isEmptyBrush?S.useStyle((0,c.extend)({},w)):S.useStyle(w),S.style.decal=null,S.setColor(L,o&&o.symbolInnerColor),S.style.strokeNoScale=!0;var C=e.getItemVisual(t,"liftZ"),N=this._z2;null!=C?null==N&&(this._z2=S.z2,S.z2+=C):null!=N&&(S.z2=N,this._z2=null);var z=o&&o.useNameLabel;function E(t){return z?e.getName(t):(0,u.i)(e,t)}(0,p.qM)(S,m,{labelFetcher:b,labelDataIndex:t,defaultText:E,inheritColor:L,defaultOpacity:w.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var T=S.ensureState("emphasis");T.style=r,S.ensureState("select").style=h,S.ensureState("blur").style=s;var V=null==v||!0===v?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;T.scaleX=this._sizeX*V,T.scaleY=this._sizeY*V,this.setSymbolScale(1),(0,l.Lm)(this,f,g,y)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,i){var n=this.childAt(0),a=(0,s.z)(this).dataIndex,o=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var l=n.getTextContent();l&&r.Nz(l,{style:{opacity:0}},t,{dataIndex:a,removeOpt:o,cb:function(){n.removeTextContent()}})}else n.removeTextContent();r.Nz(n,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:a,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return(0,a.xU)(e.getItemVisual(t,"symbolSize"))},t}(o.A);function f(e,t){this.parent.drift(e,t)}t.A=h},13269:function(e,t,i){var n=i(15215),a=i(46448),o=i(31331),r=i(83509),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,n.C6)(t,e),t.prototype.createLine=function(e,t,i){return new a.A(e,t,i)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],n=0,a=1;a<t.length;a++){var o=t[a-1],s=t[a];n+=r.dist(o,s),i.push(n)}if(0!==n){for(a=0;a<i.length;a++)i[a]/=n;this._offsets=i,this._length=n}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,i=this._points,n=this._offsets,a=i.length;if(n){var o,r=this._lastFrame;if(t<this._lastFramePercent){var s=Math.min(r+1,a-1);for(o=s;o>=0;o--)if(n[o]<=t)break;o=Math.min(o,a-2)}else{for(o=r;o<a;o++)if(n[o]>t)break;o=Math.min(o-1,a-2)}var l=(t-n[o])/(n[o+1]-n[o]),u=i[o],c=i[o+1];e.x=u[0]*(1-l)+l*c[0],e.y=u[1]*(1-l)+l*c[1];var p=e.__t<1?c[0]-u[0]:u[0]-c[0],d=e.__t<1?c[1]-u[1]:u[1]-c[1];e.rotation=-Math.atan2(d,p)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(o.A);t.A=s},13637:function(e,t,i){var n=i(98026),a=i(6006),o=i(97351),r=i(29756),s=i(48170),l=i(89737),u=i(90106),c=i(34310),p=i(65008),d=i(23071),h=i(13430);function f(e,t){var i,a=e.get("coordinateSystem"),o=l.A.get(a);return t&&t.coordSysDims&&(i=n.map(t.coordSysDims,function(e){var i={name:e},n=t.axisMap.get(e);if(n){var a=n.get("type");i.type=(0,r.B)(a)}return i})),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),i}function g(e,t,i){var a,o;return i&&n.each(e,function(e,n){var r=e.coordDim,s=i.categoryAxisMap.get(r);s&&(null==a&&(a=n),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(o=!0)}),o||null==a||(e[a].otherDims.itemName=0),a}function y(e,t,i){i=i||{};var r,s=t.getSourceManager(),l=!1;e?(l=!0,r=(0,c.AF)(e)):(r=s.getSource(),l=r.sourceFormat===h.mK);var y=(0,u.X)(t),v=f(t,y),_=i.useEncodeDefaulter,S=n.isFunction(_)?_:_?n.curry(d.OC,v,t):null,b={coordDimensions:v,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:S,canOmitUnusedDimensions:!l},A=(0,o.A)(r,b),x=g(A.dimensions,i.createInvertedIndices,y),I=l?null:s.getSharedDataStore(A),M=(0,p.iJ)(t,{schema:A,store:I}),w=new a.A(A,t);w.setCalculationInfo(M);var L=null!=x&&m(r)?function(e,t,i,n){return n===x?i:this.defaultDimValueGetter(e,t,i,n)}:null;return w.hasItemOption=!1,w.initData(l?r:I,null,L),w}function m(e){if(e.sourceFormat===h.mK){var t=v(e.data||[]);return!n.isArray((0,s.vj)(t))}}function v(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}t.A=y},15501:function(e,t,i){i.d(t,{n:function(){return s}});var n=i(72731),a=i(98026),o=i(29756),r=i(23071),s=function(){function e(){}return e.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&null!=t.get(e)},e.prototype.getInitialData=function(e,t){var i,s,l=t.getComponent("xAxis",this.get("xAxisIndex")),u=t.getComponent("yAxis",this.get("yAxisIndex")),c=l.get("type"),p=u.get("type");"category"===c?(e.layout="horizontal",i=l.getOrdinalMeta(),s=!this._hasEncodeRule("x")):"category"===p?(e.layout="vertical",i=u.getOrdinalMeta(),s=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var d=["x","y"],h="horizontal"===e.layout?0:1,f=this._baseAxisDim=d[h],g=d[1-h],y=[l,u],m=y[h].get("type"),v=y[1-h].get("type"),_=e.data;if(_&&s){var S=[];a.each(_,function(e,t){var i;a.isArray(e)?(i=e.slice(),e.unshift(t)):a.isArray(e.value)?(i=a.extend({},e),i.value=i.value.slice(),e.value.unshift(t)):i=e,S.push(i)}),e.data=S}var b=this.defaultValueDimensions,A=[{name:f,type:(0,o.B)(m),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:(0,o.B)(v),dimsDef:b.slice()}];return(0,n.A)(this,{coordDimensions:A,dimensionsCount:b.length+1,encodeDefaulter:a.curry(r.OC,A,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}()},16484:function(e,t,i){i.d(t,{a:function(){return _e}});var n=i(98026);function a(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),a=e.getGraph(),o=a.data,r=i.mapArray(i.getName);o.filterSelf(function(e){var i=o.getItemModel(e),a=i.getShallow("category");if(null!=a){(0,n.isNumber)(a)&&(a=r[a]);for(var s=0;s<t.length;s++)if(!t[s].isSelected(a))return!1}return!0})})}function o(e){var t={};e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),a=e.getData(),o={};i.each(function(n){var a=i.getName(n);o["ec-"+a]=n;var r=i.getItemModel(n),s=r.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(a,t)),i.setItemVisual(n,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=r.getShallow(l[u],!0);null!=c&&i.setItemVisual(n,l[u],c)}}),i.count()&&a.each(function(e){var t=a.getItemModel(e),r=t.getShallow("category");if(null!=r){(0,n.isString)(r)&&(r=o["ec-"+r]);var s=i.getItemVisual(r,"style"),l=a.ensureUniqueItemVisual(e,"style");(0,n.extend)(l,s);for(var u=["symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)a.setItemVisual(e,u[c],i.getItemVisual(r,u[c]))}})})}function r(e){return e instanceof Array||(e=[e,e]),e}function s(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),a=r(e.get("edgeSymbol")),o=r(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",a&&a[0]),i.setVisual("toSymbol",a&&a[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(e){var a=i.getItemModel(e),o=t.getEdgeByIndex(e),s=r(a.getShallow("symbol",!0)),l=r(a.getShallow("symbolSize",!0)),u=a.getModel("lineStyle").getLineStyle(),c=i.ensureUniqueItemVisual(e,"style");switch((0,n.extend)(c,u),c.stroke){case"source":var p=o.node1.getVisual("style");c.stroke=p&&p.fill;break;case"target":p=o.node2.getVisual("style");c.stroke=p&&p.fill;break}s[0]&&o.setVisual("fromSymbol",s[0]),s[1]&&o.setVisual("toSymbol",s[1]),l[0]&&o.setVisual("fromSymbolSize",l[0]),l[1]&&o.setVisual("toSymbolSize",l[1])})})}var l=i(83509),u="--\x3e",c=function(e){return e.get("autoCurveness")||null},p=function(e,t){var i=c(e),a=20,o=[];if(n.isNumber(i))a=i;else if(n.isArray(i))return void(e.__curvenessList=i);t>a&&(a=t);var r=a%2?a+2:a+3;o=[];for(var s=0;s<r;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},d=function(e,t,i){var n=[e.id,e.dataIndex].join("."),a=[t.id,t.dataIndex].join(".");return[i.uid,n,a].join(u)},h=function(e){var t=e.split(u);return[t[0],t[2],t[1]].join(u)},f=function(e,t){var i=d(e.node1,e.node2,t);return t.__edgeMap[i]},g=function(e,t){var i=y(d(e.node1,e.node2,t),t),n=y(d(e.node2,e.node1,t),t);return i+n},y=function(e,t){var i=t.__edgeMap;return i[e]?i[e].length:0};function m(e){c(e)&&(e.__curvenessList=[],e.__edgeMap={},p(e))}function v(e,t,i,n){if(c(i)){var a=d(e,t,i),o=i.__edgeMap,r=o[h(a)];o[a]&&!r?o[a].isForward=!0:r&&o[a]&&(r.isForward=!0,o[a].isForward=!1),o[a]=o[a]||[],o[a].push(n)}}function _(e,t,i,a){var o=c(t),r=n.isArray(o);if(!o)return null;var s=f(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===i){l=u;break}var m=g(e,t);p(t,m),e.lineStyle=e.lineStyle||{};var v=d(e.node1,e.node2,t),_=t.__curvenessList,S=r||m%2?0:1;if(s.isForward)return _[S+l];var b=h(v),A=y(b,t),x=_[l+A+S];return a?r?o&&0===o[0]?(A+S)%2?x:-x:((A%2?0:1)+S)%2?x:-x:(A+S)%2?x:-x:_[l+A+S]}function S(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var i=e.getGraph();i.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),b(i,e)}}function b(e,t){e.eachEdge(function(e,i){var a=n.retrieve3(e.getModel().get(["lineStyle","curveness"]),-_(e,t,i,!0),0),o=l.clone(e.node1.getLayout()),r=l.clone(e.node2.getLayout()),s=[o,r];+a&&s.push([(o[0]+r[0])/2-(o[1]-r[1])*a,(o[1]+r[1])/2-(r[0]-o[0])*a]),e.setLayout(s)})}function A(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var a=e.getData(),o=[];(0,n.each)(i.dimensions,function(e){o=o.concat(a.mapDimensionsAll(e))});for(var r=0;r<a.count();r++){for(var s=[],l=!1,u=0;u<o.length;u++){var c=a.get(o[u],r);isNaN(c)||(l=!0),s.push(c)}l?a.setItemLayout(r,i.dataToPoint(s)):a.setItemLayout(r,[NaN,NaN])}b(a.graph,e)}else t&&"none"!==t||S(e)})}function x(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=e.option.nodeScaleRatio,n=t.scaleX,a=t.getZoom(),o=(a-1)*i+1;return o/n}function I(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var M=Math.PI,w=[];function L(e,t,i,a){var o=e.coordinateSystem;if(!o||"view"===o.type){var r=o.getBoundingRect(),s=e.getData(),u=s.graph,c=r.width/2+r.x,p=r.height/2+r.y,d=Math.min(r.width,r.height)/2,h=s.count();if(s.setLayout({cx:c,cy:p}),h){if(i){var f=o.pointToData(a),g=f[0],y=f[1],m=[g-c,y-p];l.normalize(m,m),l.scale(m,m,d),i.setLayout([c+m[0],p+m[1]],!0);var v=e.get(["circular","rotateLabel"]);C(i,v,c,p)}D[t](e,u,s,d,c,p,h),u.eachEdge(function(t,i){var a,o=n.retrieve3(t.getModel().get(["lineStyle","curveness"]),_(t,e,i),0),r=l.clone(t.node1.getLayout()),s=l.clone(t.node2.getLayout()),u=(r[0]+s[0])/2,d=(r[1]+s[1])/2;+o&&(o*=3,a=[c*o+u*(1-o),p*o+d*(1-o)]),t.setLayout([r,s,a])})}}}var D={value:function(e,t,i,n,a,o,r){var s=0,l=i.getSum("value"),u=2*Math.PI/(l||r);t.eachNode(function(e){var t=e.getValue("value"),i=u*(l?t:1)/2;s+=i,e.setLayout([n*Math.cos(s)+a,n*Math.sin(s)+o]),s+=i})},symbolSize:function(e,t,i,n,a,o,r){var s=0;w.length=r;var l=x(e);t.eachNode(function(e){var t=I(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var i=Math.asin(t/2/n);isNaN(i)&&(i=M/2),w[e.dataIndex]=i,s+=2*i});var u=(2*M-s)/r/2,c=0;t.eachNode(function(e){var t=u+w[e.dataIndex];c+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([n*Math.cos(c)+a,n*Math.sin(c)+o]),c+=t})}};function C(e,t,i,a){var o=e.getGraphicEl();if(o){var r=e.getModel(),s=r.get(["label","rotate"])||0,l=o.getSymbolPath();if(t){var u=e.getLayout(),c=Math.atan2(u[1]-a,u[0]-i);c<0&&(c=2*Math.PI+c);var p=u[0]<i;p&&(c-=Math.PI);var d=p?"left":"right";l.setTextConfig({rotation:-c,position:d,origin:"center"});var h=l.ensureState("emphasis");n.extend(h.textConfig||(h.textConfig={}),{position:d})}else l.setTextConfig({rotation:s*=Math.PI/180})}}function N(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&L(e,"symbolSize")})}var z=l.scaleAndAdd;function E(e,t,i){for(var n=e,a=t,o=i.rect,r=o.width,s=o.height,u=[o.x+r/2,o.y+s/2],c=null==i.gravity?.1:i.gravity,p=0;p<n.length;p++){var d=n[p];d.p||(d.p=l.create(r*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),d.pp=l.clone(d.p),d.edges=null}var h,f,g=null==i.friction?.6:i.friction,y=g;return{warmUp:function(){y=.8*g},setFixed:function(e){n[e].fixed=!0},setUnfixed:function(e){n[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){f=e},step:function(e){h&&h(n,a);for(var t=[],i=n.length,o=0;o<a.length;o++){var r=a[o];if(!r.ignoreForceLayout){var s=r.n1,p=r.n2;l.sub(t,p.p,s.p);var d=l.len(t)-r.d,g=p.w/(s.w+p.w);isNaN(g)&&(g=0),l.normalize(t,t),!s.fixed&&z(s.p,s.p,t,g*d*y),!p.fixed&&z(p.p,p.p,t,-(1-g)*d*y)}}for(o=0;o<i;o++){var m=n[o];m.fixed||(l.sub(t,u,m.p),z(m.p,m.p,t,c*y))}for(o=0;o<i;o++){s=n[o];for(var v=o+1;v<i;v++){p=n[v];l.sub(t,p.p,s.p);d=l.len(t);0===d&&(l.set(t,Math.random()-.5,Math.random()-.5),d=1);var _=(s.rep+p.rep)/d/d;!s.fixed&&z(s.pp,s.pp,t,_),!p.fixed&&z(p.pp,p.pp,t,-_)}}var S=[];for(o=0;o<i;o++){m=n[o];m.fixed||(l.sub(S,m.p,m.pp),z(m.p,m.p,S,y),l.copy(m.pp,m.p))}y*=.992;var b=y<.01;f&&f(n,a,b),e&&e(b)}}}var T=i(24326);function V(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},a=e.getGraph(),o=a.data,r=a.edgeData,s=e.getModel("force"),u=s.get("initLayout");e.preservedPoints?o.each(function(e){var t=o.getId(e);o.setItemLayout(e,i[t]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&L(e,"value"):S(e);var c=o.getDataExtent("value"),p=r.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength"),f=n.isArray(d)?d:[d,d],g=n.isArray(h)?h:[h,h];g=[g[1],g[0]];var y=o.mapArray("value",function(e,t){var i=o.getItemLayout(t),n=(0,T.Cb)(e,c,f);return isNaN(n)&&(n=(f[0]+f[1])/2),{w:n,rep:n,fixed:o.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),m=r.mapArray("value",function(t,i){var o=a.getEdgeByIndex(i),r=(0,T.Cb)(t,p,g);isNaN(r)&&(r=(g[0]+g[1])/2);var s=o.getModel(),l=n.retrieve3(o.getModel().get(["lineStyle","curveness"]),-_(o,e,i,!0),0);return{n1:y[o.node1.dataIndex],n2:y[o.node2.dataIndex],d:r,curveness:l,ignoreForceLayout:s.get("ignoreForceLayout")}}),v=t.getBoundingRect(),b=E(y,m,{rect:v,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].fixed&&l.copy(e[i].p,a.getNodeByIndex(i).getLayout())}),b.afterStep(function(e,t,n){for(var r=0,s=e.length;r<s;r++)e[r].fixed||a.getNodeByIndex(r).setLayout(e[r].p),i[o.getId(r)]=e[r].p;for(r=0,s=t.length;r<s;r++){var u=t[r],c=a.getEdgeByIndex(r),p=u.n1.p,d=u.n2.p,h=c.getLayout();h=h?h.slice():[],h[0]=h[0]||[],h[1]=h[1]||[],l.copy(h[0],p),l.copy(h[1],d),+u.curveness&&(h[2]=[(p[0]+d[0])/2-(p[1]-d[1])*u.curveness,(p[1]+d[1])/2-(d[0]-p[0])*u.curveness]),c.setLayout(h)}}),e.forceLayout=b,e.preservedPoints=i,b.step()}else e.forceLayout=null})}var P=i(56219),O=i(34253),R=i(48813);function k(e,t,i){var a=(0,n.extend)(e.getBoxLayoutParams(),{aspect:i});return(0,O.dV)(a,{width:t.getWidth(),height:t.getHeight()})}function B(e,t){var i=[];return e.eachSeriesByType("graph",function(e){var n=e.get("coordinateSystem");if(!n||"view"===n){var a=e.getData(),o=a.mapArray(function(e){var t=a.getItemModel(e);return[+t.get("x"),+t.get("y")]}),r=[],s=[];R.Cr(o,r,s),s[0]-r[0]===0&&(s[0]+=1,r[0]-=1),s[1]-r[1]===0&&(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),u=k(e,t,l);isNaN(l)&&(r=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-r[0],p=s[1]-r[1],d=u.width,h=u.height,f=e.coordinateSystem=new P.A;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(r[0],r[1],c,p),f.setViewRect(u.x,u.y,d,h),f.setCenter(e.get("center"),t),f.setZoom(e.get("zoom")),i.push(f)}}),i}var G=i(15215),F=i(18386),Y=i(64380),X=i(81722),U=i(56366),j=i(72589),H=i(5638),W=i(89259),Z=[],q=[],K=[],Q=W.k3,J=l.distSquare,$=Math.abs;function ee(e,t,i){for(var n,a=e[0],o=e[1],r=e[2],s=1/0,l=i*i,u=.1,c=.1;c<=.9;c+=.1){Z[0]=Q(a[0],o[0],r[0],c),Z[1]=Q(a[1],o[1],r[1],c);var p=$(J(Z,t)-l);p<s&&(s=p,n=c)}for(var d=0;d<32;d++){var h=n+u;q[0]=Q(a[0],o[0],r[0],n),q[1]=Q(a[1],o[1],r[1],n),K[0]=Q(a[0],o[0],r[0],h),K[1]=Q(a[1],o[1],r[1],h);p=J(q,t)-l;if($(p)<.01)break;var f=J(K,t)-l;u/=2,p<0?f>=0?n+=u:n-=u:f>=0?n-=u:n+=u}return n}function te(e,t){var i=[],n=W.kx,a=[[],[],[]],o=[[],[]],r=[];t/=2,e.eachEdge(function(e,s){var u=e.getLayout(),c=e.getVisual("fromSymbol"),p=e.getVisual("toSymbol");u.__original||(u.__original=[l.clone(u[0]),l.clone(u[1])],u[2]&&u.__original.push(l.clone(u[2])));var d=u.__original;if(null!=u[2]){if(l.copy(a[0],d[0]),l.copy(a[1],d[2]),l.copy(a[2],d[1]),c&&"none"!==c){var h=I(e.node1),f=ee(a,d[0],h*t);n(a[0][0],a[1][0],a[2][0],f,i),a[0][0]=i[3],a[1][0]=i[4],n(a[0][1],a[1][1],a[2][1],f,i),a[0][1]=i[3],a[1][1]=i[4]}if(p&&"none"!==p){h=I(e.node2),f=ee(a,d[1],h*t);n(a[0][0],a[1][0],a[2][0],f,i),a[1][0]=i[1],a[2][0]=i[2],n(a[0][1],a[1][1],a[2][1],f,i),a[1][1]=i[1],a[2][1]=i[2]}l.copy(u[0],a[0]),l.copy(u[1],a[2]),l.copy(u[2],a[1])}else{if(l.copy(o[0],d[0]),l.copy(o[1],d[1]),l.sub(r,o[1],o[0]),l.normalize(r,r),c&&"none"!==c){h=I(e.node1);l.scaleAndAdd(o[0],o[0],r,h*t)}if(p&&"none"!==p){h=I(e.node2);l.scaleAndAdd(o[1],o[1],r,-h*t)}l.copy(u[0],o[0]),l.copy(u[1],o[1])}})}var ie=i(6666),ne=i(69622);function ae(e){return"view"===e.type}var oe=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,G.C6)(t,e),t.prototype.init=function(e,t){var i=new F.A,n=new Y.A,a=this.group;this._controller=new X.A(t.getZr()),this._controllerHost={target:a},a.add(i.group),a.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},t.prototype.render=function(e,t,i){var n=this,a=e.coordinateSystem;this._model=e;var o=this._symbolDraw,r=this._lineDraw,s=this.group;if(ae(a)){var l={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?s.attr(l):H.oi(s,l,e)}te(e.getGraph(),x(e));var u=e.getData();o.updateData(u);var c=e.getEdgeData();r.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,i),clearTimeout(this._layoutTimeout);var p=e.forceLayout,d=e.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,d);var h=e.get("layout");u.graph.eachNode(function(t){var i=t.dataIndex,a=t.getGraphicEl(),o=t.getModel();if(a){a.off("drag").off("dragend");var r=o.get("draggable");r&&a.on("drag",function(o){switch(h){case"force":p.warmUp(),!n._layouting&&n._startForceLayoutIteration(p,d),p.setFixed(i),u.setItemLayout(i,[a.x,a.y]);break;case"circular":u.setItemLayout(i,[a.x,a.y]),t.setLayout({fixed:!0},!0),L(e,"symbolSize",t,[o.offsetX,o.offsetY]),n.updateLayout(e);break;case"none":default:u.setItemLayout(i,[a.x,a.y]),b(e.getGraph(),e),n.updateLayout(e);break}}).on("dragend",function(){p&&p.setUnfixed(i)}),a.setDraggable(r,!!o.get("cursor"));var s=o.get(["emphasis","focus"]);"adjacency"===s&&((0,ne.z)(a).focus=t.getAdjacentDataIndices())}}),u.graph.eachEdge(function(e){var t=e.getGraphicEl(),i=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===i&&((0,ne.z)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})});var f="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),g=u.getLayout("cx"),y=u.getLayout("cy");u.graph.eachNode(function(e){C(e,f,g,y)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var i=this;(function n(){e.step(function(e){i.updateLayout(i._model),(i._layouting=!e)&&(t?i._layoutTimeout=setTimeout(n,16):n())})})()},t.prototype._updateController=function(e,t,i){var n=this,a=this._controller,o=this._controllerHost,r=this.group;a.setPointerChecker(function(t,n,a){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(n,a)&&!(0,j.I)(t,i,e)}),ae(e.coordinateSystem)?(a.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(t){U.t(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){U.x(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),n._updateNodeAndLinkScale(),te(e.getGraph(),x(e)),n._lineDraw.updateLayout(),i.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),i=x(e);t.eachItemGraphicEl(function(e,t){e&&e.setSymbolScale(i)})},t.prototype.updateLayout=function(e){te(e.getGraph(),x(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ie.A),re=oe,se=i(6006),le=i(48170),ue=i(5202),ce=i(62695),pe=i(58239),de=i(47355),he=i(3961),fe=i(4235),ge=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.hasSymbolVisual=!0,i}return(0,G.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new pe.A(n,n),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,le.M5)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){m(this);var r=(0,ce.A)(a,i,this,!0,s);return n.each(r.edges,function(e){v(e.node1,e.node2,this,e.dataIndex)},this),r.data}function s(e,t){e.wrapMethod("getItemModel",function(e){var t=o._categoriesModels,i=e.getShallow("category"),n=t[i];return n&&(n.parentModel=e.parentModel,e.parentModel=n),e});var i=ue.A.prototype.getModel;function n(e,t){var n=i.call(this,e,t);return n.resolveParentPath=a,n}function a(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=a,e.getModel=n,e})}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,i){if("edge"===i){var n=this.getData(),a=this.getDataParams(e,i),o=n.graph.getEdgeByIndex(e),r=n.getName(o.node1.dataIndex),s=n.getName(o.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,he.Qx)("nameValue",{name:l.join(" > "),value:a.value,noValue:null==a.value})}var u=(0,fe.J)({series:this,dataIndex:e,multipleSeries:t});return u},t.prototype._updateCategoriesData=function(){var e=n.map(this.option.categories||[],function(e){return null!=e.value?e:n.extend({value:0},e)}),t=new se.A(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(de.A),ye=ge,me=i(78536),ve={type:"graphRoam",event:"graphRoam",update:"none"};function _e(e){e.registerChartView(re),e.registerSeriesModel(ye),e.registerProcessor(a),e.registerVisual(o),e.registerVisual(s),e.registerLayout(A),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,N),e.registerLayout(V),e.registerCoordinateSystem("graphView",{dimensions:P.A.dimensions,create:B}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},n.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},n.noop),e.registerAction(ve,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(t){var n=t.coordinateSystem,a=(0,me.f)(n,e,void 0,i);t.setCenter&&t.setCenter(a.center),t.setZoom&&t.setZoom(a.zoom)})})}},18386:function(e,t,i){var n=i(43199),a=i(43870),o=i(5638),r=i(10128),s=i(98026),l=i(89632);function u(e,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function c(e){return null==e||(0,s.isObject)(e)||(e={isIgnore:e}),e||{}}function p(e){var t=e.hostModel,i=t.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:(0,l.lx)(t),cursorStyle:t.get("cursor")}}var d=function(){function e(e){this.group=new a.A,this._SymbolCtor=e||r.A}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=c(t);var i=this.group,n=e.hostModel,a=this._data,r=this._SymbolCtor,s=t.disableAnimation,l=p(e),d={disableAnimation:s},h=t.getSymbolPoint||function(t){return e.getItemLayout(t)};a||i.removeAll(),e.diff(a).add(function(n){var a=h(n);if(u(e,a,n,t)){var o=new r(e,n,l,d);o.setPosition(a),e.setItemGraphicEl(n,o),i.add(o)}}).update(function(c,p){var f=a.getItemGraphicEl(p),g=h(c);if(u(e,g,c,t)){var y=e.getItemVisual(c,"symbol")||"circle",m=f&&f.getSymbolType&&f.getSymbolType();if(!f||m&&m!==y)i.remove(f),f=new r(e,c,l,d),f.setPosition(g);else{f.updateData(e,c,l,d);var v={x:g[0],y:g[1]};s?f.attr(v):o.oi(f,v,n)}i.add(f),e.setItemGraphicEl(c,f)}else i.remove(f)}).remove(function(e){var t=a.getItemGraphicEl(e);t&&t.fadeOut(function(){i.remove(t)},n)}).execute(),this._getSymbolPoint=h,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(t,i){var n=e._getSymbolPoint(i);t.setPosition(n),t.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=p(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,i){function n(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=c(i);for(var a=e.start;a<e.end;a++){var o=t.getItemLayout(a);if(u(t,o,a,i)){var r=new this._SymbolCtor(t,a,this._seriesScope);r.traverse(n),r.setPosition(o),this.group.add(r),t.setItemGraphicEl(a,r),this._progressiveEls.push(r)}}},e.prototype.eachRendered=function(e){n.traverseElements(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)},i.hostModel)}):t.removeAll()},e}();t.A=d},31331:function(e,t,i){var n=i(15215),a=i(43870),o=i(48629),r=i(98026),s=i(62103),l=i(83509),u=i(89259),c=function(e){function t(t,i,n){var a=e.call(this)||this;return a.add(a.createLine(t,i,n)),a._updateEffectSymbol(t,i),a}return(0,n.C6)(t,e),t.prototype.createLine=function(e,t,i){return new o.A(e,t,i)},t.prototype._updateEffectSymbol=function(e,t){var i=e.getItemModel(t),n=i.getModel("effect"),a=n.get("symbolSize"),o=n.get("symbol");r.isArray(a)||(a=[a,a]);var l=e.getItemVisual(t,"style"),u=n.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=(0,s.v5)(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(n.getItemStyle(["color"])),c.scaleX=a[0],c.scaleY=a[1],c.setColor(u),this._symbolType=o,this._symbolScale=a,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,i){var n=this.childAt(1);if(n){var a=e.getItemLayout(i),o=1e3*t.get("period"),s=t.get("loop"),l=t.get("roundTrip"),u=t.get("constantSpeed"),c=r.retrieve(t.get("delay"),function(t){return t/e.count()*o/3});if(n.ignore=!0,this._updateAnimationPoints(n,a),u>0&&(o=this._getLineLength(n)/u*1e3),o!==this._period||s!==this._loop||l!==this._roundTrip){n.stopAnimation();var p=void 0;p=r.isFunction(c)?c(i):c,n.__t>0&&(p=-o*n.__t),this._animateSymbol(n,o,p,s,l)}this._period=o,this._loop=s,this._roundTrip=l}},t.prototype._animateSymbol=function(e,t,i,n,a){if(t>0){e.__t=0;var o=this,r=e.animate("",n).when(a?2*t:t,{__t:a?2:1}).delay(i).during(function(){o._updateSymbolPosition(e)});n||r.done(function(){o.remove(e)}),r.start()}},t.prototype._getLineLength=function(e){return l.dist(e.__p1,e.__cp1)+l.dist(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,i){this.childAt(0).updateData(e,t,i),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,i=e.__p2,n=e.__cp1,a=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],r=o.slice(),s=u.k3,c=u.z7;o[0]=s(t[0],n[0],i[0],a),o[1]=s(t[1],n[1],i[1],a);var p=e.__t<1?c(t[0],n[0],i[0],a):c(i[0],n[0],t[0],1-a),d=e.__t<1?c(t[1],n[1],i[1],a):c(i[1],n[1],t[1],1-a);e.rotation=-Math.atan2(d,p)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*l.dist(r,o),1===a&&(o[0]=r[0]+(o[0]-r[0])/2,o[1]=r[1]+(o[1]-r[1])/2)):1===e.__lastT?e.scaleY=2*l.dist(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var i=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,i,t)},t}(a.A);t.A=c},41616:function(e,t,i){i.d(t,{bl:function(){return o},ev:function(){return s},mw:function(){return a},x5:function(){return r}});var n=i(98026);function a(e,t,i){if(e&&n.indexOf(t,e.type)>=0){var a=i.getData().tree.root,o=e.targetNode;if(n.isString(o)&&(o=a.getNodeById(o)),o&&a.contains(o))return{node:o};var r=e.targetNodeId;if(null!=r&&(o=a.getNodeById(r)))return{node:o}}}function o(e){var t=[];while(e)e=e.parentNode,e&&t.push(e);return t.reverse()}function r(e,t){var i=o(e);return n.indexOf(i,t)>=0}function s(e,t){var i=[];while(e){var n=e.dataIndex;i.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return i.reverse(),i}},44532:function(e,t,i){i.d(t,{T:function(){return r},i:function(){return o}});var n=i(58267),a=i(98026);function o(e,t){var i=e.mapDimensionsAll("defaultedLabel"),a=i.length;if(1===a){var o=(0,n.QE)(e,t,i[0]);return null!=o?o+"":null}if(a){for(var r=[],s=0;s<i.length;s++)r.push((0,n.QE)(e,t,i[s]));return r.join(" ")}}function r(e,t){var i=e.mapDimensionsAll("defaultedLabel");if(!(0,a.isArray)(t))return t+"";for(var n=[],o=0;o<i.length;o++){var r=e.getDimensionIndex(i[o]);r>=0&&n.push(t[r])}return n.join(" ")}},46448:function(e,t,i){var n=i(15215),a=i(43870),o=i(39195),r=i(5638),s=i(34833),l=function(e){function t(t,i,n){var a=e.call(this)||this;return a._createPolyline(t,i,n),a}return(0,n.C6)(t,e),t.prototype._createPolyline=function(e,t,i){var n=e.getItemLayout(t),a=new o.A({shape:{points:n}});this.add(a),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var n=e.hostModel,a=this.childAt(0),o={shape:{points:e.getItemLayout(t)}};r.oi(a,o,n,t),this._updateCommonStl(e,t,i)},t.prototype._updateCommonStl=function(e,t,i){var n=this.childAt(0),a=e.getItemModel(t),o=i&&i.emphasisLineStyle,r=i&&i.focus,l=i&&i.blurScope,u=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var c=a.getModel("emphasis");o=c.getModel("lineStyle").getLineStyle(),u=c.get("disabled"),r=c.get("focus"),l=c.get("blurScope")}n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.style.strokeNoScale=!0;var p=n.ensureState("emphasis");p.style=o,(0,s.Lm)(this,r,l,u)},t.prototype.updateLayout=function(e,t){var i=this.childAt(0);i.setShape("points",e.getItemLayout(t))},t}(a.A);t.A=l},48629:function(e,t,i){i.d(t,{A:function(){return D}});var n=i(15215),a=i(98026),o=i(83509),r=i(62103),s=i(82861),l=i(53849),u=i(59482),c=s.A.prototype,p=l.A.prototype,d=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,n.C6)(t,e)})(d);function h(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var f=function(e){function t(t){var i=e.call(this,t)||this;return i.type="ec-line",i}return(0,n.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new d},t.prototype.buildPath=function(e,t){h(t)?c.buildPath.call(this,e,t):p.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return h(this.shape)?c.pointAt.call(this,e):p.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,i=h(t)?[t.x2-t.x1,t.y2-t.y1]:p.tangentAt.call(this,e);return o.normalize(i,i)},t}(u.Ay),g=f,y=i(5638),m=i(43870),v=i(34833),_=i(89632),S=i(24326),b=["fromSymbol","toSymbol"];function A(e){return"_"+e+"Type"}function x(e,t,i){var n=t.getItemVisual(i,e);if(!n||"none"===n)return n;var a=t.getItemVisual(i,e+"Size"),o=t.getItemVisual(i,e+"Rotate"),s=t.getItemVisual(i,e+"Offset"),l=t.getItemVisual(i,e+"KeepAspect"),u=r.xU(a),c=r.hV(s||0,u);return n+u+c+(o||"")+(l||"")}function I(e,t,i){var n=t.getItemVisual(i,e);if(n&&"none"!==n){var a=t.getItemVisual(i,e+"Size"),o=t.getItemVisual(i,e+"Rotate"),s=t.getItemVisual(i,e+"Offset"),l=t.getItemVisual(i,e+"KeepAspect"),u=r.xU(a),c=r.hV(s||0,u),p=r.v5(n,-u[0]/2+c[0],-u[1]/2+c[1],u[0],u[1],null,l);return p.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,p.name=e,p}}function M(e){var t=new g({name:"line",subPixelOptimize:!0});return w(t.shape,e),t}function w(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}var L=function(e){function t(t,i,n){var a=e.call(this)||this;return a._createLine(t,i,n),a}return(0,n.C6)(t,e),t.prototype._createLine=function(e,t,i){var n=e.hostModel,o=e.getItemLayout(t),r=M(o);r.shape.percent=0,y.LW(r,{shape:{percent:1}},n,t),this.add(r),(0,a.each)(b,function(i){var n=I(i,e,t);this.add(n),this[A(i)]=x(i,e,t)},this),this._updateCommonStl(e,t,i)},t.prototype.updateData=function(e,t,i){var n=e.hostModel,o=this.childOfName("line"),r=e.getItemLayout(t),s={shape:{}};w(s.shape,r),y.oi(o,s,n,t),(0,a.each)(b,function(i){var n=x(i,e,t),a=A(i);if(this[a]!==n){this.remove(this.childOfName(i));var o=I(i,e,t);this.add(o)}this[a]=n},this),this._updateCommonStl(e,t,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,i){var n=e.hostModel,o=this.childOfName("line"),r=i&&i.emphasisLineStyle,s=i&&i.blurLineStyle,l=i&&i.selectLineStyle,u=i&&i.labelStatesModels,c=i&&i.emphasisDisabled,p=i&&i.focus,d=i&&i.blurScope;if(!i||e.hasItemOption){var h=e.getItemModel(t),f=h.getModel("emphasis");r=f.getModel("lineStyle").getLineStyle(),s=h.getModel(["blur","lineStyle"]).getLineStyle(),l=h.getModel(["select","lineStyle"]).getLineStyle(),c=f.get("disabled"),p=f.get("focus"),d=f.get("blurScope"),u=(0,_.lx)(h)}var g=e.getItemVisual(t,"style"),y=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=r,o.ensureState("blur").style=s,o.ensureState("select").style=l,(0,a.each)(b,function(e){var t=this.childOfName(e);if(t){t.setColor(y),t.style.opacity=g.opacity;for(var i=0;i<v.BV.length;i++){var n=v.BV[i],a=o.getState(n);if(a){var r=a.style||{},s=t.ensureState(n),l=s.style||(s.style={});null!=r.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=r.stroke),null!=r.opacity&&(l.opacity=r.opacity)}}t.markRedraw()}},this);var m=n.getRawValue(t);(0,_.qM)(this,u,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,i){return n.getFormattedLabel(t,i,e.dataType)}},inheritColor:y||"#000",defaultOpacity:g.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?(0,S.LI)(m):m)+""});var A=this.getTextContent();if(A){var x=u.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=x.get("position")||"middle";var I=x.get("distance");(0,a.isArray)(I)||(I=[I,I]),A.__labelDistance=I}this.setTextConfig({position:null,local:!0,inside:!1}),(0,v.Lm)(this,p,d,c)},t.prototype.highlight=function(){(0,v.HY)(this)},t.prototype.downplay=function(){(0,v.SD)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");w(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.getTextContent();if(t||i||n&&!n.ignore){var a=1,r=this.parent;while(r)r.scaleX&&(a/=r.scaleX),r=r.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),c=s.pointAt(l),p=o.sub([],c,u);if(o.normalize(p,p),t&&(t.setPosition(u),I(t,0),t.scaleX=t.scaleY=a*l,t.markRedraw()),i&&(i.setPosition(c),I(i,1),i.scaleX=i.scaleY=a*l,i.markRedraw()),n&&!n.ignore){n.x=n.y=0,n.originX=n.originY=0;var d=void 0,h=void 0,f=n.__labelDistance,g=f[0]*a,y=f[1]*a,m=l/2,v=s.tangentAt(m),_=[v[1],-v[0]],S=s.pointAt(m);_[1]>0&&(_[0]=-_[0],_[1]=-_[1]);var b=v[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var A=-Math.atan2(v[1],v[0]);c[0]<u[0]&&(A=Math.PI+A),n.rotation=A}var x=void 0;switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":x=-y,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":x=y,h="top";break;default:x=0,h="middle"}switch(n.__position){case"end":n.x=p[0]*g+c[0],n.y=p[1]*y+c[1],d=p[0]>.8?"left":p[0]<-.8?"right":"center",h=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":n.x=-p[0]*g+u[0],n.y=-p[1]*y+u[1],d=p[0]>.8?"right":p[0]<-.8?"left":"center",h=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":n.x=g*b+u[0],n.y=u[1]+x,d=v[0]<0?"right":"left",n.originX=-g*b,n.originY=-x;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":n.x=S[0],n.y=S[1]+x,d="center",n.originY=-x;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":n.x=-g*b+c[0],n.y=c[1]+x,d=v[0]>=0?"right":"left",n.originX=g*b,n.originY=-x;break}n.scaleX=n.scaleY=a,n.setStyle({verticalAlign:n.__verticalAlign||h,align:n.__align||d})}}}function I(e,t){var i=e.__specifiedRotation;if(null==i){var n=s.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(n[1],n[0]))}else e.attr("rotation",i)}},t}(m.A),D=L},62695:function(e,t,i){i.d(t,{A:function(){return p}});var n=i(98026),a=i(6006),o=i(50451),r=i(76827),s=i(97351),l=i(89737),u=i(13637),c=i(48170);function p(e,t,i,p,d){for(var h=new o.Ay(p),f=0;f<e.length;f++)h.addNode(n.retrieve(e[f].id,e[f].name,f),f);var g=[],y=[],m=0;for(f=0;f<t.length;f++){var v=t[f],_=v.source,S=v.target;h.addEdge(_,S,m)&&(y.push(v),g.push(n.retrieve((0,c.vS)(v.id,null),_+" > "+S)),m++)}var b,A=i.get("coordinateSystem");if("cartesian2d"===A||"polar"===A)b=(0,u.A)(e,i);else{var x=l.A.get(A),I=x&&x.dimensions||[];n.indexOf(I,"value")<0&&I.concat(["value"]);var M=(0,s.A)(e,{coordDimensions:I,encodeDefine:i.getEncode()}).dimensions;b=new a.A(M,i),b.initData(e)}var w=new a.A(["value"],i);return w.initData(y,g),d&&d(b,w),(0,r.A)({mainData:b,struct:h,structAttr:"graph",datas:{node:b,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}},64380:function(e,t,i){var n=i(43199),a=i(43870),o=i(48629),r=i(89632),s=function(){function e(e){this.group=new a.A,this._LineCtor=e||o.A}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,n=i.group,a=i._lineData;i._lineData=e,a||n.removeAll();var o=u(e);e.diff(a).add(function(i){t._doAdd(e,i,o)}).update(function(i,n){t._doUpdate(a,e,n,i,o)}).remove(function(e){n.remove(a.getItemGraphicEl(e))}).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=u(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function i(e){e.isGroup||l(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var n=e.start;n<e.end;n++){var a=t.getItemLayout(n);if(p(a)){var o=new this._LineCtor(t,n,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(n,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){n.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,i){var n=e.getItemLayout(t);if(p(n)){var a=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,a),this.group.add(a)}},e.prototype._doUpdate=function(e,t,i,n,a){var o=e.getItemGraphicEl(i);p(t.getItemLayout(n))?(o?o.updateData(t,n,a):o=new this._LineCtor(t,n,a),t.setItemGraphicEl(n,o),this.group.add(o)):this.group.remove(o)},e}();function l(e){return e.animators&&e.animators.length>0}function u(e){var t=e.hostModel,i=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:(0,r.lx)(t)}}function c(e){return isNaN(e[0])||isNaN(e[1])}function p(e){return e&&!c(e[0])&&!c(e[1])}t.A=s},68866:function(e,t,i){i.d(t,{A:function(){return a}});var n=i(96501);function a(e){var t=e.getData(),i=t.tree,a={};i.eachNode(function(t){var i=t;while(i&&i.depth>1)i=i.parentNode;var o=(0,n.x)(e.ecModel,i.name||i.dataIndex+"",a);t.setVisual("decal",o)})}},71465:function(e,t,i){var n=i(15215),a=i(62103),o=i(43870),r=i(34833),s=i(10128);function l(e,t){var i=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?i:null,fill:"fill"===t.brushType?i:null}})})}var u=function(e){function t(t,i){var n=e.call(this)||this,a=new s.A(t,i),r=new o.A;return n.add(a),n.add(r),n.updateData(t,i),n}return(0,n.C6)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,i=e.color,n=e.rippleNumber,o=this.childAt(1),r=0;r<n;r++){var s=(0,a.v5)(t,-1,-1,2,2,i);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-r/n*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(s)}l(o,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale","rippleNumber"],a=0;a<n.length;a++){var o=n[a];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}l(i,e)},t.prototype.highlight=function(){(0,r.HY)(this)},t.prototype.downplay=function(){(0,r.SD)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var i=this,n=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),s=e.getItemModel(t),l=e.getItemVisual(t,"symbol"),u=(0,a.xU)(e.getItemVisual(t,"symbolSize")),c=e.getItemVisual(t,"style"),p=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(e){e.setStyle("fill",p)});var h=(0,a.hV)(e.getItemVisual(t,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var f=e.getItemVisual(t,"symbolRotate");o.rotation=(f||0)*Math.PI/180||0;var g={};g.showEffectOn=n.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=1e3*s.get(["rippleEffect","period"]),g.effectOffset=t/e.count(),g.z=n.getShallow("z")||0,g.zlevel=n.getShallow("zlevel")||0,g.symbolType=l,g.color=p,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),"render"===g.showEffectOn?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==g.showEffectOn&&i.startEffectAnimation(g):"normal"===e&&"render"!==g.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=g,(0,r.Lm)(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(o.A);t.A=u},72731:function(e,t,i){i.d(t,{A:function(){return r}});var n=i(97351),a=i(6006),o=i(98026);function r(e,t,i){t=(0,o.isArray)(t)&&{coordDimensions:t}||(0,o.extend)({encodeDefine:e.getEncode()},t);var r=e.getSource(),s=(0,n.A)(r,t).dimensions,l=new a.A(s,e);return l.initData(r,i),l}},75455:function(e,t,i){i.d(t,{a:function(){return w}});var n=i(15215),a=i(43199),o=i(10992),r=i(90540),s=i(34833),l=i(59741),u=256,c=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=l.yh.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,i,n,a,o){var r=this._getBrush(),s=this._getGradient(a,"inRange"),l=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,p=this.canvas,d=p.getContext("2d"),h=e.length;p.width=t,p.height=i;for(var f=0;f<h;++f){var g=e[f],y=g[0],m=g[1],v=g[2],_=n(v);d.globalAlpha=_,d.drawImage(r,y-c,m-c)}if(!p.width||!p.height)return p;var S=d.getImageData(0,0,p.width,p.height),b=S.data,A=0,x=b.length,I=this.minOpacity,M=this.maxOpacity,w=M-I;while(A<x){_=b[A+3]/256;var L=4*Math.floor(_*(u-1));if(_>0){var D=o(_)?s:l;_>0&&(_=_*w+I),b[A++]=D[L],b[A++]=D[L+1],b[A++]=D[L+2],b[A++]=D[L+3]*_*256}else A+=4}return d.putImageData(S,0,0),p},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=l.yh.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var n=e.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-t,t,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),e},e.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,n=i[t]||(i[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,r=0;r<256;r++)e[t](r/255,!0,a),n[o++]=a[0],n[o++]=a[1],n[o++]=a[2],n[o++]=a[3];return n},e}(),p=c,d=i(98026),h=i(6666),f=i(41849),g=i(89632);function y(e,t,i){var n=e[1]-e[0];t=d.map(t,function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}});var a=t.length,o=0;return function(e){var n;for(n=o;n<a;n++){var r=t[n].interval;if(r[0]<=e&&e<=r[1]){o=n;break}}if(n===a)for(n=o-1;n>=0;n--){r=t[n].interval;if(r[0]<=e&&e<=r[1]){o=n;break}}return n>=0&&n<a&&i[n]}}function m(e,t){var i=e[1]-e[0];return t=[(t[0]-e[0])/i,(t[1]-e[0])/i],function(e){return e>=t[0]&&e<=t[1]}}function v(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var _=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,n.C6)(t,e),t.prototype.render=function(e,t,i){var n;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===e&&(n=t)})}),this._progressiveEls=null,this.group.removeAll();var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):v(a)&&this._renderOnGeo(a,e,n,i)},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,i,n){var a=t.coordinateSystem;a&&(v(a)?this.render(t,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){a.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,i,n,a){var r,l,u,c,p=e.coordinateSystem,d=(0,f.g)(p,"cartesian2d");if(d){var h=p.getAxis("x"),y=p.getAxis("y");0,r=h.getBandWidth()+.5,l=y.getBandWidth()+.5,u=h.scale.getExtent(),c=y.scale.getExtent()}for(var m=this.group,v=e.getData(),_=e.getModel(["emphasis","itemStyle"]).getItemStyle(),S=e.getModel(["blur","itemStyle"]).getItemStyle(),b=e.getModel(["select","itemStyle"]).getItemStyle(),A=e.get(["itemStyle","borderRadius"]),x=(0,g.lx)(e),I=e.getModel("emphasis"),M=I.get("focus"),w=I.get("blurScope"),L=I.get("disabled"),D=d?[v.mapDimension("x"),v.mapDimension("y"),v.mapDimension("value")]:[v.mapDimension("time"),v.mapDimension("value")],C=i;C<n;C++){var N=void 0,z=v.getItemVisual(C,"style");if(d){var E=v.get(D[0],C),T=v.get(D[1],C);if(isNaN(v.get(D[2],C))||isNaN(E)||isNaN(T)||E<u[0]||E>u[1]||T<c[0]||T>c[1])continue;var V=p.dataToPoint([E,T]);N=new o.A({shape:{x:V[0]-r/2,y:V[1]-l/2,width:r,height:l},style:z})}else{if(isNaN(v.get(D[1],C)))continue;N=new o.A({z2:1,shape:p.dataToRect([v.get(D[0],C)]).contentShape,style:z})}if(v.hasItemOption){var P=v.getItemModel(C),O=P.getModel("emphasis");_=O.getModel("itemStyle").getItemStyle(),S=P.getModel(["blur","itemStyle"]).getItemStyle(),b=P.getModel(["select","itemStyle"]).getItemStyle(),A=P.get(["itemStyle","borderRadius"]),M=O.get("focus"),w=O.get("blurScope"),L=O.get("disabled"),x=(0,g.lx)(P)}N.shape.r=A;var R=e.getRawValue(C),k="-";R&&null!=R[2]&&(k=R[2]+""),(0,g.qM)(N,x,{labelFetcher:e,labelDataIndex:C,defaultOpacity:z.opacity,defaultText:k}),N.ensureState("emphasis").style=_,N.ensureState("blur").style=S,N.ensureState("select").style=b,(0,s.Lm)(N,M,w,L),N.incremental=a,a&&(N.states.emphasis.hoverLayer=!0),m.add(N),v.setItemGraphicEl(C,N),this._progressiveEls&&this._progressiveEls.push(N)}},t.prototype._renderOnGeo=function(e,t,i,n){var a=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new p;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),c=e.getRoamTransform();u.applyTransform(c);var d=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,n.getWidth()),g=Math.min(u.height+u.y,n.getHeight()),v=f-d,_=g-h,S=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],b=s.mapArray(S,function(t,i,n){var a=e.dataToPoint([t,i]);return a[0]-=d,a[1]-=h,a.push(n),a}),A=i.getExtent(),x="visualMap.continuous"===i.type?m(A,i.option.range):y(A,i.getPieceList(),i.option.selected);l.update(b,v,_,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var I=new r.Ay({style:{width:v,height:_,x:d,y:h,image:l.canvas},silent:!0});this.group.add(I)},t.type="heatmap",t}(h.A),S=_,b=i(47355),A=i(13637),x=i(89737),I=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return(0,n.C6)(t,e),t.prototype.getInitialData=function(e,t){return(0,A.A)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=x.A.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(b.A),M=I;function w(e){e.registerChartView(S),e.registerSeriesModel(M)}},79446:function(e,t,i){i.d(t,{i:function(){return o}});var n=i(98026),a=i(45558);function o(e,t,i){var o=e.get("borderRadius");if(null==o)return i?{cornerRadius:0}:null;(0,n.isArray)(o)||(o=[o,o,o,o]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,n.map)(o,function(e){return(0,a.lo)(e,r)})}}},82681:function(e,t,i){var n=i(15215),a=i(59482),o=i(43870),r=i(29308),s=i(57043),l=i(14423),u=i(69622),c=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,n.C6)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new c},t.prototype.buildPath=function(e,t){var i,n=t.segs,a=t.curveness;if(t.polyline)for(i=this._off;i<n.length;){var o=n[i++];if(o>0){e.moveTo(n[i++],n[i++]);for(var r=1;r<o;r++)e.lineTo(n[i++],n[i++])}}else for(i=this._off;i<n.length;){var s=n[i++],l=n[i++],u=n[i++],c=n[i++];if(e.moveTo(s,l),a>0){var p=(s+u)/2-(l-c)*a,d=(l+c)/2-(u-s)*a;e.quadraticCurveTo(p,d,u,c)}else e.lineTo(u,c)}this.incremental&&(this._off=i,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var i=this.shape,n=i.segs,a=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var r=0,u=0;u<n.length;){var c=n[u++];if(c>0)for(var p=n[u++],d=n[u++],h=1;h<c;h++){var f=n[u++],g=n[u++];if(s.l(p,d,f,g,o,e,t))return r}r++}else for(r=0,u=0;u<n.length;){p=n[u++],d=n[u++],f=n[u++],g=n[u++];if(a>0){var y=(p+f)/2-(d-g)*a,m=(d+g)/2-(f-p)*a;if(l.l(p,d,y,m,f,g,o,e,t))return r}else if(s.l(p,d,f,g,o,e,t))return r;r++}return-1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(e=i[0],t=i[1],n.contain(e,t)){var a=this.hoverDataIdx=this.findDataIndex(e,t);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,i=t.segs,n=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<i.length;){var u=i[l++],c=i[l++];n=Math.min(u,n),o=Math.max(u,o),a=Math.min(c,a),s=Math.max(c,s)}e=this._rect=new r.A(n,a,o,s)}return e},t}(a.Ay),d=function(){function e(){this.group=new o.A}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],n=t.getLayout("linesPoints"),a=i&&i.shape.segs;if(a&&a.length<2e4){var o=a.length,r=new Float32Array(o+n.length);r.set(a),r.set(n,o),i.setShape({segs:r})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:n}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new p({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,i){var n=t.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var o=(0,u.z)(e);o.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){o.dataIndex=null;var i=e.hoverDataIdx;i>0&&(o.dataIndex=i+e.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.A=d},87582:function(e,t,i){i.d(t,{A:function(){return a}});var n=i(48170);function a(){var e=(0,n.$r)();return function(t){var i=e(t),n=t.pipelineContext,a=!!i.large,o=!!i.progressiveRender,r=i.large=!(!n||!n.large),s=i.progressiveRender=!(!n||!n.progressiveRender);return!(a===r&&o===s)&&"reset"}}},94583:function(e,t,i){var n=i(15215),a=i(59482),o=i(43870),r=i(29308),s=i(62103),l=i(69622),u=4,c=function(){function e(){}return e}(),p=function(e){function t(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return(0,n.C6)(t,e),t.prototype.getDefaultShape=function(){return new c},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var i,n=t.points,a=t.size,o=this.symbolProxy,r=o.shape,s=e.getContext?e.getContext():e,l=s&&a[0]<u,c=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,i=this._off;i<n.length;){var p=n[i++],d=n[i++];isNaN(p)||isNaN(d)||(c&&!c.contain(p,d)||(r.x=p-a[0]/2,r.y=d-a[1]/2,r.width=a[0],r.height=a[1],o.buildPath(e,r,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,i=t.points,n=t.size,a=this._ctx,o=this.softClipShape;if(a){for(e=this._off;e<i.length;){var r=i[e++],s=i[e++];isNaN(r)||isNaN(s)||(o&&!o.contain(r,s)||a.fillRect(r-n[0]/2,s-n[1]/2,n[0],n[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var i=this.shape,n=i.points,a=i.size,o=Math.max(a[0],4),r=Math.max(a[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,u=n[l]-o/2,c=n[l+1]-r/2;if(e>=u&&t>=c&&e<=u+o&&t<=c+r)return s}return-1},t.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(e=i[0],t=i[1],n.contain(e,t)){var a=this.hoverDataIdx=this.findDataIndex(e,t);return a>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,i=t.points,n=t.size,a=n[0],o=n[1],s=1/0,l=1/0,u=-1/0,c=-1/0,p=0;p<i.length;){var d=i[p++],h=i[p++];s=Math.min(d,s),u=Math.max(d,u),l=Math.min(h,l),c=Math.max(h,c)}e=this._rect=new r.A(s-a/2,l-o/2,u-s+a,c-l+o)}return e},t}(a.Ay),d=function(){function e(){this.group=new o.A}return e.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(e){if(null!=e.startIndex){var i=2*(e.endIndex-e.startIndex),n=4*e.startIndex*2;t=new Float32Array(t.buffer,n,i)}e.setShape("points",t),e.reset()})},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,i){var n=this._newAdded[0],a=t.getLayout("points"),o=n&&n.shape.points;if(o&&o.length<2e4){var r=o.length,s=new Float32Array(r+a.length);s.set(o),s.set(a,r),n.endIndex=e.end,n.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:a}),this._setCommon(l,t,i)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new p({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,i){var n=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=(0,s.v5)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<u;e.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var r=t.getVisual("style"),c=r&&r.fill;c&&e.setColor(c);var p=(0,l.z)(e);p.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){p.dataIndex=null;var i=e.hoverDataIdx;i>=0&&(p.dataIndex=i+(e.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();t.A=d},95235:function(e,t,i){i.d(t,{Ip:function(){return c},Mi:function(){return u},SM:function(){return l}});var n=i(59975),a=i(10992),o=i(5638),r=i(24326),s=i(98026);function l(e,t,i,n,r){var l=e.getArea(),u=l.x,c=l.y,p=l.width,d=l.height,h=i.get(["lineStyle","width"])||0;u-=h/2,c-=h/2,p+=h,d+=h,p=Math.ceil(p),u!==Math.floor(u)&&(u=Math.floor(u),p++);var f=new a.A({shape:{x:u,y:c,width:p,height:d}});if(t){var g=e.getBaseAxis(),y=g.isHorizontal(),m=g.inverse;y?(m&&(f.shape.x+=p),f.shape.width=0):(m||(f.shape.y+=d),f.shape.height=0);var v=(0,s.isFunction)(r)?function(e){r(e,f)}:null;o.LW(f,{shape:{width:p,height:d,x:u,y:c}},i,null,n,v)}return f}function u(e,t,i){var a=e.getArea(),s=(0,r.LI)(a.r0,1),l=(0,r.LI)(a.r,1),u=new n.A({shape:{cx:(0,r.LI)(e.cx,1),cy:(0,r.LI)(e.cy,1),r0:s,r:l,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var c="angle"===e.getBaseAxis().dim;c?u.shape.endAngle=a.startAngle:u.shape.r=s,o.LW(u,{shape:{endAngle:a.endAngle,r:l}},i)}return u}function c(e,t,i,n,a){return e?"polar"===e.type?u(e,t,i):"cartesian2d"===e.type?l(e,t,i,n,a):null:null}}}]);