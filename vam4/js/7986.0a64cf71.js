"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[7986],{47986:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});var t=l(20641),s=l(50953),i=l(90033),r=l(76578),d=l(71029);const u={class:"back_padding_outer"},o={class:"dispose blueStrip"},n={class:"topSearch"},p={key:0},c={key:1},m={style:{"text-align":"center"}},g=["src"];var b={__name:"uploadresume",setup(e,{expose:a}){const l=(0,d.lq)(),{proxy:b}=(0,t.nI)(),v=(0,s.Kh)({tableData:[],total:1,dictPageSize:10,dictCurrentPage:1,uploadurl:b.$store.state.api+"/MeetingProjector/notpngImg",headers:{Cookies:localStorage.Cookie},upload:{type_vue:1,meetingId:l.query.meeting,id:""},seeviewresume:!1,resumepicture:"",retrievalname:"",retrievaltype:"",retrievalproject:"",retrievalXjname:"",retrievalJsname:"",selsectList:[],spaceId:""}),{tableData:k,total:h,dictPageSize:y,dictCurrentPage:f,uploadurl:_,headers:L,upload:w,seeviewresume:F,resumepicture:$,retrievalname:V,retrievaltype:I,retrievalproject:S,retrievalXjname:C,retrievalJsname:x,selsectList:j,spaceId:R}=(0,s.QW)(v);function z(e,a){const l="image/png"===e.type;return l?b.$Loadimg.showLoading():b.$message.error("请上传PNG格式的简历!"),v.upload.id=a.id,l}function P(){const e={type_vue:1,meetingId:l.query.meeting,name:v.retrievalname,type:v.retrievaltype,spaceId:v.spaceId,SpeakerName:v.retrievalproject,SessionName:v.retrievalXjname};b.$Loadimg.showLoading(),b.$http.article.MeetingProjector_UserIndex(e).then(e=>{b.$Loadimg.hideLoading(),200===e.data.status?(b.$message.success(e.data.msg),v.tableData=e.data.list):b.$message.error(e.data.msg)})}function X(e,a){b.$Loadimg.hideLoading(),200===e.status?(b.$message.success(e.msg),P()):b.$message.error(e.msg),console.log(e,a)}function W(e){const a={type_vue:1,meetingId:l.query.meeting,id:e.id};b.$Loadimg.showLoading(),b.$http.article.MeetingProjector_UserDelImg(a).then(e=>{b.$Loadimg.hideLoading(),200===e.data.status?(b.$message.success(e.data.msg),P()):b.$message.error(e.data.msg)})}function U(){const e={type_vue:1,per_page:100,page:1,meetingId:l.query.meeting};b.$http.article.huiyiselect(e).then(e=>{b.$Loadimg.hideLoading(),1===e.data.status?v.selsectList=e.data.list:b.$message.error(e.data.msg)})}function q(e){const a=`${r.A.sq}/data/public/upload/notespng/${e.meetingId}/${e.id}.png`,l=(new Date).getTime(),t=a+"?_="+l;v.resumepicture=t,v.seeviewresume=!0}return(0,t.sV)(()=>{U()}),a({tableData:k,total:h,dictPageSize:y,dictCurrentPage:f,uploadurl:_,headers:L,upload:w,seeviewresume:F,resumepicture:$,retrievalname:V,retrievaltype:I,retrievalproject:S,retrievalXjname:C,retrievalJsname:x,selsectList:j,spaceId:R,handleBefore:z,handleAvatarSuccess:X,deljianli:W,viewresume:q}),(e,a)=>{const l=(0,t.g2)("blueStrip"),r=(0,t.g2)("el-input"),d=(0,t.g2)("el-option"),b=(0,t.g2)("el-select"),v=(0,t.g2)("el-button"),h=(0,t.g2)("el-col"),y=(0,t.g2)("el-row"),f=(0,t.g2)("el-table-column"),x=(0,t.g2)("el-upload"),U=(0,t.g2)("el-table"),D=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",o,[(0,t.bF)(l),a[7]||(a[7]=(0,t.Lk)("p",null,"演讲者简历管理",-1))]),(0,t.Lk)("div",n,[(0,t.bF)(y,null,{default:(0,t.k6)(()=>[(0,t.bF)(h,{span:23},{default:(0,t.k6)(()=>[a[9]||(a[9]=(0,t.Lk)("span",{class:"labelSer"},"姓名：",-1)),(0,t.bF)(r,{style:{display:"inline-block",width:"200px"},modelValue:(0,s.R1)(V),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.i9)(V)?V.value=e:null),size:"small",placeholder:"请输入姓名"},null,8,["modelValue"]),a[10]||(a[10]=(0,t.Lk)("span",{class:"labelSer"},"上传状态：",-1)),(0,t.bF)(b,{modelValue:(0,s.R1)(I),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.i9)(I)?I.value=e:null),placeholder:"请选择",style:{width:"200px"}},{default:(0,t.k6)(()=>[(0,t.bF)(d,{label:"全部",value:""}),(0,t.bF)(d,{label:"已上传",value:"1"}),(0,t.bF)(d,{label:"未上传",value:"2"})]),_:1},8,["modelValue"]),a[11]||(a[11]=(0,t.Lk)("span",{class:"labelSer"},"会议室：",-1)),(0,t.bF)(b,{modelValue:(0,s.R1)(R),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,s.i9)(R)?R.value=e:null),placeholder:"请选择",style:{width:"200px"}},{default:(0,t.k6)(()=>[(0,t.bF)(d,{label:"全部",value:""}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,s.R1)(j),e=>((0,t.uX)(),(0,t.Wv)(d,{key:e.id,label:e.title,value:e.spaceId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a[12]||(a[12]=(0,t.Lk)("span",{class:"labelSer"},"演讲题目：",-1)),(0,t.bF)(r,{style:{display:"inline-block",width:"200px"},modelValue:(0,s.R1)(S),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,s.i9)(S)?S.value=e:null),size:"small",placeholder:"请输入演讲题目"},null,8,["modelValue"]),a[13]||(a[13]=(0,t.Lk)("span",{class:"labelSer"},"小节名称：",-1)),(0,t.bF)(r,{style:{display:"inline-block",width:"200px"},modelValue:(0,s.R1)(C),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,s.i9)(C)?C.value=e:null),size:"small",placeholder:"请输入小节名称"},null,8,["modelValue"]),a[14]||(a[14]=(0,t.eW)()),(0,t.bF)(v,{style:{"margin-left":"15px"},size:"small",type:"primary",onClick:a[5]||(a[5]=e=>P())},{default:(0,t.k6)(()=>[...a[8]||(a[8]=[(0,t.eW)("查询",-1)])]),_:1})]),_:1})]),_:1}),(0,t.bF)(y,null,{default:(0,t.k6)(()=>[(0,t.bF)(h,{span:24})]),_:1}),a[15]||(a[15]=(0,t.Lk)("br",null,null,-1))]),(0,t.bF)(U,{data:(0,s.R1)(k),stripe:"","empty-text":"请点击查询获取讲者简历数据",style:{width:"100%"}},{default:(0,t.k6)(()=>[(0,t.bF)(f,{prop:"fullName",label:"姓名"}),(0,t.bF)(f,{prop:"speakerName",label:"角色名称"}),(0,t.bF)(f,{prop:"date",label:"是否上传"},{default:(0,t.k6)(e=>[1==e.row.pngStatus?((0,t.uX)(),(0,t.CE)("span",p," 已上传 ")):((0,t.uX)(),(0,t.CE)("span",c," 未上传 "))]),_:1}),(0,t.bF)(f,{prop:"spacename",label:"会议室id"},{default:(0,t.k6)(e=>[(0,t.eW)((0,i.v_)(e.row.meeting.id),1)]),_:1}),(0,t.bF)(f,{prop:"address",label:"操作"},{default:(0,t.k6)(e=>[(0,t.bF)(x,{class:"upload-demo",action:(0,s.R1)(_),data:(0,s.R1)(w),"show-file-list":!1,headers:(0,s.R1)(L),name:"userfile","on-success":X,"before-upload":function(a){return z(a,e.row)},multiple:""},{default:(0,t.k6)(()=>[(0,t.bF)(v,{size:"small",type:"primary"},{default:(0,t.k6)(()=>[...a[16]||(a[16]=[(0,t.eW)("上传简历",-1)])]),_:1})]),_:1},8,["action","data","headers","before-upload"]),1==e.row.pngStatus?((0,t.uX)(),(0,t.Wv)(v,{key:0,size:"small",type:"primary",onClick:a=>q(e.row)},{default:(0,t.k6)(()=>[...a[17]||(a[17]=[(0,t.eW)("查看简历",-1)])]),_:1},8,["onClick"])):(0,t.Q3)("",!0),(0,t.bF)(v,{size:"small",type:"danger",onClick:a=>W(e.row)},{default:(0,t.k6)(()=>[...a[18]||(a[18]=[(0,t.eW)("删除简历",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,t.bF)(D,{title:"讲者简历",modelValue:(0,s.R1)(F),"onUpdate:modelValue":a[6]||(a[6]=e=>(0,s.i9)(F)?F.value=e:null),width:"1200px","close-on-click-modal":""},{default:(0,t.k6)(()=>[(0,t.Lk)("div",m,[(0,t.Lk)("img",{style:{"max-width":"100%"},src:(0,s.R1)($),alt:""},null,8,g)])]),_:1},8,["modelValue"])])}}},v=l(66262);const k=(0,v.A)(b,[["__scopeId","data-v-51c93eaa"]]);var h=k}}]);