"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[5479],{15479:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});a(44114);var n=a(20641),l=a(50953),i=a(90033),s=a(71029);const o={class:"back_bg back_padding permissions"},r={class:"back_bg back_padding permissions_check"},p={class:"block pagination"};var u={__name:"personnel",setup(e,{expose:t}){const a=(0,s.lq)(),u=(0,s.rd)(),{proxy:g}=(0,n.nI)(),d=(0,l.Kh)({page:1,total:"",PageSize:10,personnelPeopleList:[],userlist:{}}),{page:c,total:m,PageSize:b,personnelPeopleList:h,userlist:k}=(0,l.QW)(d);function f(e){if(e)return e.replace(e.substring(3,7),"****")}function _(e){console.log(`每页 ${e} 条`)}function y(e){d.page=e,w()}function w(){const e={type_vue:1,meetingId:a.query.meeting,page:d.page,per_page:d.PageSize};g.$Loadimg.showLoading(),g.$http.article.personnelPeople(e).then(e=>{g.$Loadimg.hideLoading(),1===e.data.status?(d.personnelPeopleList=e.data.list,d.page=e.data.pageinfo.page,d.total=e.data.pageinfo.total,d.userlist=e.data):g.$message.error(e.data.msg)})}function L(e,t){const n={type_vue:1,meetingId:a.query.meeting,rid:e};g.$Loadimg.showLoading(),g.$http.article.DelPeople(n).then(e=>{g.$Loadimg.hideLoading(),1===e.data.status?(g.$message.error("删除成功"),d.personnelPeopleList.splice(t,1)):g.$message.error(e.data.msg)})}function C(e){e?u.push({path:"/permissions",query:{meeting:a.query.meeting,meetingRuleId:e,userid:d.userlist.user,create:d.userlist.create,owner:d.userlist.owner}}):u.push({path:"/permissions",query:{meeting:a.query.meeting,userid:d.userlist.user,create:d.userlist.create,owner:d.userlist.owner}})}return(0,n.sV)(()=>{w()}),t({page:c,total:m,PageSize:b,personnelPeopleList:h,userlist:k,Onphone:f,handleSizeChange:_,handleCurrentChange:y,deleteRow:L,newStaff:C}),(e,t)=>{const a=(0,n.g2)("el-button"),s=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-tooltip"),g=(0,n.g2)("el-table"),d=(0,n.g2)("el-pagination");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",o,[(0,n.bF)(a,{type:"primary",onClick:t[0]||(t[0]=e=>C()),size:"small"},{default:(0,n.k6)(()=>[...t[1]||(t[1]=[(0,n.eW)("新增人员",-1)])]),_:1})]),(0,n.Lk)("div",r,[(0,n.bF)(g,{data:(0,l.R1)(h),stripe:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(s,{prop:"id",label:"编号"}),(0,n.bF)(s,{prop:"fullName",label:"姓名",width:"180"}),(0,n.bF)(s,{prop:"unit",label:"单位"}),(0,n.bF)(s,{prop:"telphone",label:"电话"},{default:(0,n.k6)(e=>[(0,n.bF)(u,{class:"item",effect:"dark",content:e.row.telphone,placement:"bottom"},{default:(0,n.k6)(()=>[(0,n.bF)(a,{link:"",style:{color:"#606266"}},{default:(0,n.k6)(()=>[(0,n.eW)((0,i.v_)(f(e.row.telphone)),1)]),_:2},1024)]),_:2},1032,["content"])]),_:1}),(0,n.bF)(s,{prop:"account",label:"邮箱"}),(0,n.bF)(s,{fixed:"right",label:"操作"},{default:(0,n.k6)(e=>[(0,n.bF)(a,{onClick:t=>C(e.row.rid),type:"primary",size:"small"},{default:(0,n.k6)(()=>[...t[2]||(t[2]=[(0,n.eW)(" 管理信息 ",-1)])]),_:1},8,["onClick"]),(0,n.bF)(a,{onClick:t=>L(e.row.rid,e.$index),type:"primary",size:"small"},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)(" 删除信息 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),(0,n.Lk)("div",p,[(0,n.bF)(d,{layout:"prev, pager, next, total","current-page":(0,l.R1)(c),total:(0,l.R1)(m),background:"","page-size":(0,l.R1)(b),onSizeChange:_,"page-sizes":[10,20,40,80],onCurrentChange:y},null,8,["current-page","total","page-size"])])])],64)}}};const g=u;var d=g}}]);