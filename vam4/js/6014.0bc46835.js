"use strict";(self["webpackChunkmeetingvue3"]=self["webpackChunkmeetingvue3"]||[]).push([[6014],{66014:function(e,l,a){a.r(l),a.d(l,{default:function(){return c}});a(44114),a(18111),a(20116),a(7588),a(61701);var u=a(20641),t=a(50953),n=a(90033),o=a(59140),i=a(20354),d=a.n(i);const p=["src"];var s={__name:"resizable",setup(e){const l=(0,t.KR)(null),a=(0,t.Kh)({value1:[],value:"",index:"",size:"18px",color:"",font:"",show:!0,width:"9.5cm",height:"14.5cm",value2:"http://php7.yiyum.com/data/public/upload/image/0000template12.jpg",image:"",backgroungList:[{value:"http://php7.yiyum.com/data/public/upload/image/0000template12.jpg",label:"http://php7.yiyum.com/data/public/upload/image/0000template12.jpg"},{value:"http://php7.yiyum.com/data/public/upload/image/0000template6.jpg",label:"http://php7.yiyum.com/data/public/upload/image/0000template6.jpg"}],sizeList:[{value:"24px",label:"24px"},{value:"22px",label:"22px"},{value:"20px",label:"20px"},{value:"18px",label:"18px"}],options:[{value:"张三",label:"张三"},{value:"yiyum",label:"yiyum"},{value:"参会代表",label:"参会代表"},{value:"二维码",label:"二维码"}],draggingId:null,prevOffsetX:0,prevOffsetY:0,elements:[]}),{value1:i,value:s,index:m,size:c,color:g,font:r,show:v,width:b,height:f,value2:h,image:k,backgroungList:x,sizeList:y,options:V,draggingId:F,prevOffsetX:R,prevOffsetY:_,elements:W}=(0,t.QW)(a),X=(0,u.EW)(()=>{if(a.draggingId)return a.elements.find(e=>e.id===a.draggingId)});function z(){console.log(a.index),""!==a.index&&(a.elements[a.index].size=a.size),console.log(a.elements)}function w(){""!==a.index&&(a.elements[a.index].color=a.color)}function C(){a.show||(a.value2=""),d()(l.value,{}).then(e=>{console.log(e);const l=e.toDataURL("image/png");a.image=l})}function I(e,l,u){if(a.draggingId=e,!a.sync)return;const t=l-X.value.x,n=u-X.value.y,o=o(t),i=i(n);a.elements.map(l=>(l.id!==e&&(l.x+=o,l.y+=i),l))}function E(e,l,u){a.elements.map(a=>(a.id===e&&(a.x=l,a.y=u),a)),a.draggingId=null,a.prevOffsetX=0,a.prevOffsetY=0}return(0,u.wB)(()=>a.value1,e=>{const l=[];e.forEach((e,u)=>{const t={id:"",x:0,y:0,text:"",size:"18px",color:"#000000"};t.id=u,t.text=e,l.push(t),console.log(a.elements)}),l.forEach(e=>{a.elements.forEach(l=>{e.text===l.text&&(e.x=l.x,e.y=l.y,e.size=l.size,e.color=l.color)})}),a.elements=l}),(e,a)=>{const d=(0,u.g2)("el-option"),s=(0,u.g2)("el-select"),r=(0,u.g2)("el-col"),F=(0,u.g2)("el-color-picker"),R=(0,u.g2)("el-switch"),_=(0,u.g2)("el-input"),X=(0,u.g2)("el-row"),L=(0,u.g2)("el-button");return(0,u.uX)(),(0,u.CE)("div",null,[(0,u.Lk)("div",null,[(0,u.bF)(X,{gutter:20},{default:(0,u.k6)(()=>[(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[10]||(a[10]=(0,u.eW)(" 内容： ",-1)),(0,u.bF)(s,{modelValue:(0,t.R1)(i),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,t.i9)(i)?i.value=e:null),multiple:"",placeholder:"Select",style:{width:"240px"}},{default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,t.R1)(V),e=>((0,u.uX)(),(0,u.Wv)(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[11]||(a[11]=(0,u.eW)(" 背景： ",-1)),(0,u.bF)(s,{modelValue:(0,t.R1)(h),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,t.i9)(h)?h.value=e:null),placeholder:"Select",size:"large"},{default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,t.R1)(x),e=>((0,u.uX)(),(0,u.Wv)(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[12]||(a[12]=(0,u.eW)(" 选中内容 ",-1)),(0,u.bF)(s,{modelValue:(0,t.R1)(m),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,t.i9)(m)?m.value=e:null),placeholder:"Select",size:"large"},{default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,t.R1)(W),e=>((0,u.uX)(),(0,u.Wv)(d,{key:e.id,label:e.text,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[13]||(a[13]=(0,u.eW)(" 字体大小： ",-1)),(0,u.bF)(s,{modelValue:(0,t.R1)(c),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,t.i9)(c)?c.value=e:null),class:"m-2",placeholder:"Select",size:"large",onChange:a[4]||(a[4]=e=>z())},{default:(0,u.k6)(()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,t.R1)(y),e=>((0,u.uX)(),(0,u.Wv)(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[14]||(a[14]=(0,u.eW)(" 字体颜色： ",-1)),(0,u.bF)(F,{modelValue:(0,t.R1)(g),"onUpdate:modelValue":a[5]||(a[5]=e=>(0,t.i9)(g)?g.value=e:null),onChange:w},null,8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[15]||(a[15]=(0,u.eW)(" 背景是否可生成图片",-1)),(0,u.bF)(R,{modelValue:(0,t.R1)(v),"onUpdate:modelValue":a[6]||(a[6]=e=>(0,t.i9)(v)?v.value=e:null)},null,8,["modelValue"])]),_:1}),(0,u.bF)(r,{span:6},{default:(0,u.k6)(()=>[a[16]||(a[16]=(0,u.eW)(" 宽X高 ",-1)),(0,u.bF)(_,{modelValue:(0,t.R1)(b),"onUpdate:modelValue":a[7]||(a[7]=e=>(0,t.i9)(b)?b.value=e:null)},null,8,["modelValue"]),a[17]||(a[17]=(0,u.eW)(" X ",-1)),(0,u.bF)(_,{modelValue:(0,t.R1)(f),"onUpdate:modelValue":a[8]||(a[8]=e=>(0,t.i9)(f)?f.value=e:null)},null,8,["modelValue"])]),_:1})]),_:1})]),(0,u.Lk)("div",{class:"text-event",ref_key:"print",ref:l,style:(0,n.Tr)({"background-image":"url( "+(0,t.R1)(h)+")",width:(0,t.R1)(b),height:(0,t.R1)(f)})},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,t.R1)(W),e=>((0,u.uX)(),(0,u.Wv)((0,t.R1)(o.A),{"class-name-active":"my-active-class",key:e.id,x:e.x,y:e.y,w:80,h:50,parent:!0,onDragging:(l,a)=>I(e.id,l,a),onDragstop:(l,a)=>E(e.id,l,a)},{default:(0,u.k6)(()=>[(0,u.Lk)("p",{style:(0,n.Tr)({color:e.color,"font-size":e.size})},(0,n.v_)(e.text),5)]),_:2},1032,["x","y","onDragging","onDragstop"]))),128))],4),(0,u.Lk)("div",null,[(0,u.bF)(L,{onClick:a[9]||(a[9]=e=>C())},{default:(0,u.k6)(()=>[...a[18]||(a[18]=[(0,u.eW)("生成图片",-1)])]),_:1}),(0,u.Lk)("img",{src:(0,t.R1)(k),alt:"",srcset:""},null,8,p)])])}}};const m=s;var c=m}}]);